{"version":3,"sources":["enums/alert_types.js","redux/actions/types.js","redux/reducers/common.js","redux/reducers/cart.js","redux/reducers/table.js","redux/reducers/alert.js","redux/reducers/restaurant.js","redux/reducers/index.js","redux/store.js","redux/actions/alert.js","utils/helpers.js","redux/actions/comman.js","layouts/pages/LoadingPage.js","img/2x.png","img/tz_logo.svg","layouts/components/Logo.js","pages/menu/styles/app_bar.js","pages/menu/components/OptionsMenu.js","pages/menu/shared/DialogTransition.js","pages/menu/styles/main.js","pages/menu/components/CustumSwitch.js","pages/menu/assets/BackIcon.js","pages/menu/assets/FoodSymbols.js","pages/menu/shared/ErrorAlert.js","pages/menu/utils/helper.js","pages/menu/components/CutumizationPage.js","pages/menu/components/ExpandableText.js","pages/cart/utils/helpers.js","enums/offer.js","pages/cart/utils/offers.js","redux/actions/cart.js","pages/menu/components/Item.js","pages/menu/components/PackageItemsPage.js","pages/menu/components/Package.js","pages/menu/components/MenuSearchPage.js","pages/menu/components/MenuSearchBar.js","pages/menu/components/MenuTabs.js","pages/menu/components/MenuAppBar.js","pages/menu/components/TabPanel.js","pages/menu/components/Category.js","pages/menu/utils/scroll.js","pages/styles/comman_styles.js","pages/menu/components/BottomActionsArea.js","pages/menu/Menu.js","pages/cart/styles/app_bar.js","pages/cart/components/OptionsMenu.js","pages/cart/components/CartAppBar.js","pages/cart/styles/main.js","layouts/components/OfferIcon.js","img/discount_icn.png","pages/cart/components/OrderSlideButton.js","pages/cart/styles/item.js","pages/cart/components/Item.js","pages/cart/components/CartItem.js","pages/cart/components/Offer.js","pages/cart/components/OffersPage.js","pages/cart/assets/MsgOfferIcon.js","pages/cart/shared/PaperComponent.js","enums/item_status.js","enums/order_status.js","redux/actions/table.js","pages/cart/Cart.js","pages/order-details/assets/PulseLoader.js","pages/order-details/components/OrderAppBar.js","pages/order-details/utils/helper.js","pages/order-details/components/Item.js","pages/order-details/styles/main.js","pages/order-details/components/VerticalStatusStepper.js","pages/order-details/OrderDetails.js","pages/SplashScreen.js","pages/orders/components/EmptyList.js","pages/orders/components/Order.js","pages/orders/components/OptionsMenu.js","pages/orders/components/OrdersAppBar.js","pages/orders/Orders.js","routing/Routes.js","App.js","redux/actions/restaurant.js","reportWebVitals.js","index.js"],"names":["ALERT_TYPES","ERROR","INFO","WARNING","SET_LOADING","UNSET_LOADING","SET_USER","UNSET_USER","LOADED_REST","ERROR_ON_LOAD","UPDATE_CART","CLEAR_CART","INIT_CART","INIT_ORDERS","PLACE_ORDER","CHECKOUT","SET_ALERT","REMOVE_ALERT","initialState","loading","user","items","offers","totalCost","session","orders","combineReducers","common","state","action","type","payload","cart","clone","table","restaurant","alert","filter","id","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","setAlert","msg","timeout","dispatch","v4","n_alerts","getState","length","setTimeout","isObjEmpty","obj","Boolean","key","hasOwnProperty","setUser","curUser","JSON","parse","localStorage","getItem","user_name","setItem","stringify","err","useStyles","makeStyles","theme","body","margin","display","placeItems","background","height","spinner","width","borderRadius","border","borderTopColor","animation","from","transform","to","LoadingPage","classes","className","Logo","src","logo_svg","logo","style","alt","appBarRoot","backgroundColor","appBarOptions","marginLeft","notifBell","minWidth","color","marginRight","padding","opacity","hamMenu","optMenuItem","paddingRight","OptionsMenu","props","navigate","useNavigate","MenuList","MenuItem","ListItemIcon","ListItemText","Typography","variant","onClick","Divider","evt","console","log","Button","stopPropagation","fontSize","fontWeight","textTransform","marginTop","DialogTransition","React","forwardRef","ref","Slide","direction","restInfo","paddingBottom","boxShadow","borderBottom","main_text","textAlign","paddingTop","fontFamily","light_text","textOverflow","whiteSpace","overflow","icon_img_div","icon_img","dottedSeperator","infoGrid","borderRight","searchBtn","itemName","letterSpacing","itemPrice","content","itemDesc","lineHeight","itemImg","position","top","left","right","bottom","backgroundBlendMode","categoryName","alignItems","justifyContent","addSubBtn","repeatBtn","AntSwitch","withStyles","root","switchBase","palette","grey","white","borderColor","thumb","track","checked","Switch","CustumSwitch","isChecked","setChecked","switchLabel","FormControlLabel","control","onChange","event","target","name","label","BackIcon","viewBox","d","VegFoodSymbol","NonVegFoodSymbol","EggFoodSymbol","xmlns","x","y","fill","fillRule","stroke","strokeWidth","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeDasharray","strokeDashoffset","textAnchor","mixBlendMode","FoodSymbols","veg","non_veg","egg_only","food_type","ErrorAlert","in","zIndex","paddingLeft","findCartItem","find","item","_id","decideFoodType","some","getItemsTotalCost","reduce","total","versions","itemTotal","ver","itemCount","getMenuType","menu","every","pack","findOriginalPackage","packId","buffet","appBar","CustumizationPage","useState","itemCost","Number","isPackage","package_price","item_price","custumization_arr","count","isSet","setState","setCurState","useDispatch","handleCheckBoxInput","split","custId","optId","newOpt","oldOpt","custIdx","findIndex","cust","optIdx","options","opt","newCustArr","actCustIdx","newCust","custum_type","actOptIdx","l_newOpt","cost","getOptionCost","prev","handleRadioInput","value","map","getRadiovalue","option_type","option_price","checkIsDisabled","goBack","isPopped","window","history","back","handleClose","onBackButtonEvent","e","preventDefault","useEffect","isFromRepeat","replaceState","location","pathname","pushState","addEventListener","initialCustArr","cur_custumizations","curCustIdx","ncust","optionalCusts","totalOptCost","cur_count","is_edit","setInitialState","removeEventListener","AppBar","elevation","Toolbar","IconButton","edge","package_name","item_name","Paper","marginBottom","n_options","isRequired","isRadio","custumization_name","s_cust","FormControl","component","formControl","RadioGroup","Radio","option","FormGroup","Checkbox","disabled","alerts","borderTop","verticalAlign","updateItem","addItem","defaultProps","connect","ExpandableText","children","isExpanded","setIsExpanded","styleObj","WebkitLineClamp","WebkitBoxOrient","checkIfCustumizationSame","arr1","arr2","cust1","cIdx","cust2","op1","op2","filterSameVersions","forEach","idx","sameIdx","s_ver","getChargesMap","charges","chr","charge","text","label_text","method","sub_charges","s_chr","round","calculateTotalByPerc","m_total","m_chr","tkns","result","decimals","Math","OFFER_PROCESS_TYPE","OPERATOR_TYPE","FIELD_TYPE","FIELDS","OPERATORS","MINUS","DIVIDE","isOfferApplicable","offer","conditions","condtn","field","getFieldFromFieldType","decider_field","always_valid","operator","a","b","isConditionValid","getFieldValueFromPayload","decider_value","paramArr","slice","operate","PERC","itemId","versionIdx","flag","c_item","reApplyAllOffers","removeItem","mIdx","version","anyIdx","clearCart","restOffers","appliedOffers","appIds","o","offer_id","remIds","includes","is_applicable","Item","cart_item","f_cust_dialog","f_repeat_drawer","handleDialogOpen","flagName","handleDialogClose","isRepeatLast","itemCustomizations","totalItemCost","repeatCount","addItemToCart","Dialog","fullScreen","open","onClose","TransitionComponent","Drawer","anchor","join","Grid","container","xs","item_img","imgURL","item_desc","WebkitTransform","disableRipple","prevState","removeItemFromCart","PackageItemsPage","m_package","ele","arr","borderWidth","cart_package","package","f_items_dialog","totalPackageCost","addPackageToCart","package_desc","removePackageFromCart","m_classes","useMainStyles","search_text","filtered_menu","filterItems","query","toLowerCase","filteredMenu","section_name","food","list","search","bar","section","tokenArr","nameAttr","lvl1Ids","lvl2Ids","filteredList","preProcessList","is_veg","i_package","lvl1List","token","startsWith","flat","lvl2List","cat","outline","placeholder","deciderValue","trim","autoFocus","itemIdx","packItem","itemArr","MenuSearchBar","f_search_dialog","isVegOnly","setVegOnly","isAtTop","a11yProps","index","flexGrow","paper","MyTabs","indicator","borderTopLeftRadius","borderTopRightRadius","flexContainer","Tabs","MyTab","selected","Tab","MenuTabs","tabValue","setTabValue","newValue","scrollButtons","centered","numTabs","MenuAppBar","anchorEl","Fragment","CssBaseline","noWrap","currentTarget","undefined","Popover","anchorOrigin","vertical","horizontal","transformOrigin","TabPanel","other","role","hidden","Box","isCategoryOpen","setIsCategoryOpen","category","category_name","Collapse","getElementPosition","element","offsetTop","document","getElementById","clientHeight","scrollTo","duration","initialPosition","scrollY","current","start","animationFrame","targetPosition","requestAnimationFrame","cancelAnimationFrame","maxAvailableScroll","documentElement","scrollHeight","amountOfPixelsToScroll","step","timestamp","elapsed","easedProgress","pow","min","animateScroll","error","animationStyles","rippleEffect","backgroundPosition","transition","backgroundSize","clickEffect","shine","backgroundRepeat","backdropStyles","backdrop","backdropClasses","animationClasses","active_cat","setActiveCat","handleFabMenuClose","pointerEvents","Backdrop","PaperProps","maxHeight","List","categories","ListItem","cursor","catIdx","primary","ListItemSecondaryAction","n_items","showFAB","willChange","WebkitBackfaceVisibility","backfaceVisibility","contain","ButtonBase","checkOut","t_count","showTopSearchBar","setShowTopSearchBar","s_active_cat","setScrollActiveCat","menuMap","handleMenuScroll","scrollingElement","scrollTop","offset","innerHeight","rest_name","rest_tags","serve_time","cost_for_two","WebkitBoxShadow","abrLightText","abrMainText","abrTableNo","CartAppBar","htmlColor","itemList","suggestionTextBox","flexBasis","resize","caretColor","suggestionBox","separatorLine","itemsMnText","offerIcon","offerCtnr","offerMnText","offerLtText","paymentsCtnr","paymentItemCtnr","paymentItem","borderedSeparator","infoIcon","OfferIcon","OrderSlideButton","dragEnd","setDragEnd","dragPosition","setDragPosition","comman_classes","end","innerWidth","clientWidth","axis","handle","defaultPosition","bounds","scale","onDrag","data","onStop","onSlideComplete","allowAnyClick","visibility","textOoverflow","addSubBtnCtnr","is_from_rpt","version_idx","updateCartItem","alignSelf","CartItem","nameField","priceField","String","Offer","f_condtn","isOfferApplied","code","applyOffer","desc","OffersPage","coupon_code","toLocaleUpperCase","GreenOfferIcon","RedOfferIcon","MsgOfferIcon","PaperComponent","ITEM_STATUS","NEW","PLACED","ACCEPTED","PREPARING","CANCEL","CANCELLED","SERVED","ORDER_STATUS","ORDER_ACCEPTED","ORDER_REJECTED","ACCEPTED_PARTIALLY","UPDATE","UPDATE_ACCEPTED","UPDATE_REJECTED","UPDATED_PARTIALLY","UPDATED","CANCEL_ACCEPTED","CANCEL_REJECTED","CANCELLED_PARTIALLY","CLOSED","updateAllItemsStatus","status","settings","infoX","infoY","is_open","f_offer_page","f_offer_msg","infolist","infoHead","is_applied","discount","curOffer","setCurOffer","getOrderTotal","chargeTotal","scope","c_total","tot","handleInfoClose","openOfferMsg","getAppliedOffer","DialogTitle","DialogContent","DialogActions","discountedValue","process_type","operators","value_type","cap_value","processOffer","applied_offer","push","applyOfferOnCart","maxWidth","msTransform","wordBreak","rows","offerIds","domRect","getClientRects","handleInfoOpen","orderNum","userName","meta","getNextOrderNumber","curDate","Date","now","order","rest_id","table_id","total_price","session_id","order_num","audit","updated","toLocaleTimeString","hour","minute","toLocaleDateString","date","placeOrderAction","totoalCost","pulseLoader","transitions","easing","easeInOut","PulseLoader","OrderAppBar","isNaN","getOrderStatusLabels","short_label","getCorrespondingHexCode","f_open_details","statusInfo","getItemStatusLabels","isDetailRequired","v","getItemTotal","totalMnText","StatusConnector","StepConnector","button","spacing","actionsContainer","resetContainer","VerticalStatusStepper","statuses","statusMap","reverse","Stepper","activeStep","orientation","connector","Step","StepLabel","optional","icon","Check","itmClasses","useItemStyles","orderId","useParams","f_view_all","f_view_stepper","cur_order","getCurrentOrder","statusArr","st","statusDetails","getStatusIndfoMap","curStatusInfo","getTotalDiscount","getTotal","TZLinearProgress","barColorPrimary","LinearProgress","SplashScreen","flexDirection","EmptyList","textDecoration","Order","toDateString","setFilter","minHeight","OrdersAppBar","handleMenuClose","filterFlag","f_user","getOrdersList","userOrders","initOrdersList","path","replace","App","restaurantData","iniCart","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.4123bbe7.chunk.js","sourcesContent":["const ALERT_TYPES = {\r\n  ERROR: \"ERROR\",\r\n  INFO: \"INFO\",\r\n  WARNING: \"WARNING\",\r\n};\r\n\r\nexport default ALERT_TYPES;\r\n","export const SET_LOADING = \"SET_LOADING\";\r\nexport const UNSET_LOADING = \"UNSET_LOADING\";\r\nexport const SET_USER = \"SET_USER\";\r\nexport const UNSET_USER = \"UNSET_USER\";\r\n\r\n// RESTAURANT\r\nexport const LOADED_REST = \"LOADED_REST\";\r\nexport const ERROR_ON_LOAD = \"ERROR_ON_LOAD\";\r\n\r\n// CART\r\nexport const UPDATE_CART = \"UPDATE_CART\";\r\nexport const CLEAR_CART = \"CLEAR_CART\";\r\nexport const INIT_CART = \"INIT_CART\";\r\n\r\n// TABLE\r\nexport const INIT_ORDERS = \"INIT_ORDERS\";\r\nexport const PLACE_ORDER = \"PLACE_ORDER\";\r\nexport const CHECKOUT = \"CHECKOUT\";\r\n\r\n//ALERT\r\nexport const SET_ALERT = \"SET_ALERT\";\r\nexport const REMOVE_ALERT = \"REMOVE_ALERT\";\r\n","import {\r\n  SET_LOADING,\r\n  SET_USER,\r\n  UNSET_LOADING,\r\n  UNSET_USER,\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  user: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case SET_USER:\r\n      return {\r\n        ...state,\r\n        user: payload,\r\n      };\r\n    case UNSET_USER:\r\n      return {\r\n        ...state,\r\n        user: null,\r\n      };\r\n\r\n    case SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n\r\n    case UNSET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { clone } from \"ramda\";\r\nimport { CLEAR_CART, INIT_CART, UPDATE_CART } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  items: [],\r\n  offers: [],\r\n  totalCost: 0,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case UPDATE_CART:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      };\r\n\r\n    case CLEAR_CART:\r\n      return {\r\n        ...state,\r\n        items: [],\r\n        offers: [],\r\n        totalCost: 0,\r\n      };\r\n    case INIT_CART:\r\n      return {\r\n        ...state,\r\n        items: clone(payload.items),\r\n        offers: clone(payload.offers),\r\n        totalCost: clone(payload.totalCost),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { PLACE_ORDER, CHECKOUT, INIT_ORDERS } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  session: null, //Contains all the order, table session\r\n  orders: [],\r\n  offers: [], // these offers will added when the final bill is paid...\r\n  totalCost: 0,\r\n  // user: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case INIT_ORDERS:\r\n      return state;\r\n    case PLACE_ORDER:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      };\r\n    case CHECKOUT:\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { SET_ALERT, REMOVE_ALERT } from \"../actions/types\";\r\n\r\nconst initialState = [];\r\n\r\nexport default function (state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case SET_ALERT:\r\n      return [...state, payload];\r\n    case REMOVE_ALERT:\r\n      return state.filter((alert) => alert.id !== payload);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { ERROR_ON_LOAD, LOADED_REST } from \"../actions/types\";\r\n\r\nconst initialState = {};\r\n\r\nexport default function (state = initialState, action) {\r\n  const { type, payload } = action;\r\n\r\n  switch (type) {\r\n    case LOADED_REST:\r\n      return {\r\n        ...state,\r\n        ...payload,\r\n      };\r\n\r\n    case ERROR_ON_LOAD:\r\n      // handle auth here\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport common from \"./common\";\r\nimport cart from \"./cart\";\r\nimport table from \"./table\";\r\nimport alert from \"./alert\";\r\nimport restaurant from \"./restaurant\";\r\n\r\nexport default combineReducers({\r\n  common,\r\n  cart,\r\n  table,\r\n  restaurant,\r\n  alert,\r\n});\r\n","/**\r\n * - GLOBAL APP STATE\r\n * {\r\n * loading: false\r\n * restaurant:{},\r\n * cart:{},\r\n * currentOrder:{},\r\n * orders:[],\r\n * notification:[]\r\n * }\r\n */\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers/index\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import { v4 } from \"uuid\";\r\nimport store from \"../store\";\r\nimport { SET_ALERT, REMOVE_ALERT } from \"./types\";\r\n\r\nexport const setAlert =\r\n  (msg, type, timeout = 4000) =>\r\n  (dispatch) => {\r\n    const id = v4();\r\n    const n_alerts = store.getState().alert?.length + 1 || 1;\r\n    dispatch({\r\n      type: SET_ALERT,\r\n      payload: { msg, type, id },\r\n    });\r\n\r\n    setTimeout(\r\n      () => dispatch({ type: REMOVE_ALERT, payload: id }),\r\n      n_alerts * timeout\r\n    );\r\n  };\r\n","export const isObjEmpty = (obj) => {\r\n  if (!Boolean(obj)) {\r\n    return true;\r\n  }\r\n  for (const key in obj) {\r\n    if (obj.hasOwnProperty(key)) return false;\r\n  }\r\n  return true;\r\n};\r\n","import { clone } from \"ramda\";\r\nimport { v4 } from \"uuid\";\r\nimport { SET_USER, UNSET_USER } from \"./types\";\r\nimport { isObjEmpty } from \"../../utils/helpers\";\r\nimport { setAlert } from \"./alert\";\r\nimport ALERT_TYPES from \"../../enums/alert_types\";\r\n\r\nexport const setUser = (curUser) => (dispatch) => {\r\n  try {\r\n    let user = clone(curUser);\r\n    if (isObjEmpty(user)) {\r\n      user = !isObjEmpty(JSON.parse(localStorage.getItem(\"user\")))\r\n        ? JSON.parse(localStorage.getItem(\"user\"))\r\n        : {\r\n            user_name: v4(),\r\n          };\r\n    }\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n\r\n    dispatch({\r\n      type: SET_USER,\r\n      payload: user,\r\n    });\r\n  } catch (err) {\r\n    setAlert(\"Error setting order..\", ALERT_TYPES.ERROR);\r\n  }\r\n};\r\n\r\n// Should be called when user checked off\r\nexport const unSetUser = () => (dispatch) => {\r\n  try {\r\n    localStorage.removeItem(\"user\");\r\n\r\n    dispatch({\r\n      type: UNSET_USER,\r\n    });\r\n  } catch (err) {\r\n    setAlert(\"Error un-setting order..\", ALERT_TYPES.ERROR);\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  body: {\r\n    margin: 0,\r\n    display: \"grid\",\r\n    placeItems: \"center\",\r\n    background: \"#fffff\",\r\n    height: \"100vh\",\r\n  },\r\n  spinner: {\r\n    width: \"5rem\",\r\n    height: \"5rem\",\r\n    borderRadius: \"50%\",\r\n    border: \"14px solid rgba(40, 44, 52, 0.9)\",\r\n    borderTopColor: \"#FCD601\",\r\n    animation: \"$spin 1s linear infinite\",\r\n  },\r\n  \"@keyframes spin\": {\r\n    from: {\r\n      transform: \"rotate(0deg)\",\r\n    },\r\n    to: {\r\n      transform: \"rotate(360deg)\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function LoadingPage() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.body}>\r\n      <div className={classes.spinner}></div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/2x.c2425bb2.png\";","export default __webpack_public_path__ + \"static/media/tz_logo.20851746.svg\";","import React, { Fragment } from \"react\";\r\nimport logo from \"../../img/2x.png\";\r\nimport logo_svg from \"../../img/tz_logo.svg\";\r\nfunction Logo({ width, height, type }) {\r\n  return (\r\n    <Fragment>\r\n      <img\r\n        src={type === \"svg\" ? logo_svg : logo}\r\n        style={{\r\n          margin: \"auto\",\r\n          display: \"block\",\r\n          width: width,\r\n          height: height,\r\n        }}\r\n        alt=\"Logo\"\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Logo;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBarRoot: {\r\n    backgroundColor: \"#21242b\",\r\n  },\r\n  appBarOptions: {\r\n    width: \"fit-content\",\r\n    marginLeft: \"auto\",\r\n  },\r\n  notifBell: {\r\n    width: \"fit-content\",\r\n    minWidth: \"1rem\",\r\n    color: \"white\",\r\n    borderRadius: \"4px\",\r\n    marginRight: \"20px\",\r\n    padding: \"0px\",\r\n    \"&:hover\": {\r\n      opacity: 0.8,\r\n    },\r\n  },\r\n  hamMenu: {\r\n    width: \"fit-content\",\r\n    minWidth: \"1rem\",\r\n    color: \"white\",\r\n    borderRadius: \"4px\",\r\n    padding: \"3px\",\r\n    \"&:hover\": {\r\n      opacity: 0.8,\r\n    },\r\n  },\r\n  optMenuItem: {\r\n    paddingRight: \"15px\",\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import * as React from \"react\";\r\nimport {\r\n  Divider,\r\n  ListItemText,\r\n  MenuItem,\r\n  MenuList,\r\n  ListItemIcon,\r\n  Typography,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport TimelapseRoundedIcon from \"@material-ui/icons/TimelapseRounded\";\r\nimport ListAltRoundedIcon from \"@material-ui/icons/ListAltRounded\";\r\nimport DraftsRoundedIcon from \"@material-ui/icons/DraftsRounded\";\r\nimport DoubleArrowRoundedIcon from \"@material-ui/icons/DoubleArrowRounded\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst OptionsMenu = (props) => {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <MenuList>\r\n      <MenuItem>\r\n        <ListItemIcon>\r\n          <TimelapseRoundedIcon />\r\n        </ListItemIcon>\r\n        <ListItemText style={{ paddingRight: \"15px\" }}>Your Table</ListItemText>\r\n        <Typography variant=\"body2\" color=\"text.secondary\"></Typography>\r\n      </MenuItem>\r\n      <MenuItem onClick={() => navigate(\"/restaurant/orders\")}>\r\n        <ListItemIcon>\r\n          <ListAltRoundedIcon />\r\n        </ListItemIcon>\r\n        <ListItemText style={{ paddingRight: \"15px\" }}>\r\n          Your Orders\r\n        </ListItemText>\r\n        <Typography variant=\"body2\" color=\"text.secondary\"></Typography>\r\n      </MenuItem>\r\n      <MenuItem>\r\n        <ListItemIcon>\r\n          <DraftsRoundedIcon />\r\n        </ListItemIcon>\r\n        <ListItemText style={{ paddingRight: \"15px\" }}>\r\n          Notifications\r\n        </ListItemText>\r\n        <Typography variant=\"body2\" color=\"text.secondary\"></Typography>\r\n      </MenuItem>\r\n      <Divider />\r\n      <MenuItem onClick={(evt) => console.log(\"List itm clicked\")}>\r\n        <Button\r\n          onClick={(evt) => {\r\n            evt.stopPropagation();\r\n            console.log(\"Btn clicked\");\r\n          }}\r\n          style={{\r\n            width: \"94%\",\r\n            color: \"#282c34\",\r\n            fontSize: \"0.9rem\",\r\n            fontWeight: \"600\",\r\n            backgroundColor: \"#fcd601\",\r\n            textTransform: \"capitalize\",\r\n            margin: \"auto\",\r\n            marginTop: \"7px\",\r\n            borderRadius: \"7px\",\r\n          }}\r\n        >\r\n          <DoubleArrowRoundedIcon />\r\n          <span>Check Out</span>\r\n        </Button>\r\n      </MenuItem>\r\n    </MenuList>\r\n  );\r\n};\r\n\r\nexport default OptionsMenu;\r\n","import { Slide } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst DialogTransition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default DialogTransition;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  restInfo: {\r\n    marginTop: \"20px\",\r\n    paddingBottom: \"15px\",\r\n    borderRadius: \"0px\",\r\n    border: \"none\",\r\n    boxShadow: \"none\",\r\n    borderBottom: \"0.7px solid lightgrey\",\r\n  },\r\n  main_text: {\r\n    textAlign: \"center\",\r\n    fontWeight: 700,\r\n    paddingTop: \"8px\",\r\n    textTransform: \"capitalize\",\r\n    fontFamily: \"'Proxima Nova'\",\r\n    opacity: 0.9,\r\n    fontSize: \"1.2rem\",\r\n    marginTop: \"9px\",\r\n  },\r\n  light_text: {\r\n    textAlign: \"center\",\r\n    fontSize: \"0.93rem\",\r\n    color: \"#535665\",\r\n    textOverflow: \"ellipsis\",\r\n    fontFamily: \"'Proxima Nova'\",\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    fontWeight: 500,\r\n    opacity: 0.56,\r\n  },\r\n  icon_img_div: {\r\n    textAlign: \"center\",\r\n  },\r\n  icon_img: {\r\n    width: \"60px\",\r\n    padding: \"4px\",\r\n    border: \"1px solid lightgray\",\r\n    borderRadius: \"7px\",\r\n    background: \"#f7f2f2\",\r\n  },\r\n  dottedSeperator: {\r\n    border: \"none\",\r\n    borderBottom: \"10px solid #ececec\",\r\n    width: \"100%\",\r\n    margin: \"20px auto 15px auto\",\r\n  },\r\n  infoGrid: {\r\n    borderRight: \"1px solid lightgray\",\r\n  },\r\n  searchBtn: {\r\n    marginLeft: \"auto\",\r\n    padding: \"6px\",\r\n    borderRadius: \"50%\",\r\n    \"&:active\": {\r\n      boxShadow: \"none\",\r\n      backgroundColor: \"lightgray\",\r\n    },\r\n  },\r\n  itemName: {\r\n    fontWeight: 500,\r\n    fontSize: \"1.1rem\",\r\n    letterSpacing: \"-0.3px\",\r\n    fontFamily: \"'Proxima Nova', sans-serif\",\r\n  },\r\n  itemPrice: {\r\n    fontFamily: \"'Open Sans'\",\r\n    fontWeight: 500,\r\n    letterSpacing: \"-0.2px\",\r\n    fontSize: \"0.95rem\",\r\n    color: \"#3e4152\",\r\n    \"&::before\": {\r\n      content: '\"\\\\20B9\"',\r\n    },\r\n  },\r\n  itemDesc: {\r\n    marginTop: \"14px\",\r\n    lineHeight: 1.3,\r\n    color: \"rgba(40, 44, 63, 0.45)\",\r\n    letterSpacing: \"-0.3px\",\r\n    fontSize: \"0.92rem\",\r\n    fontFamily: \"'Proxima Nova', sans-serif\",\r\n  },\r\n  itemImg: {\r\n    height: \"102px\",\r\n    width: \"116px\",\r\n    borderRadius: \"6px\",\r\n    \"&::after\": {\r\n      position: \"absolute\",\r\n      content: \"\",\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      backgroundColor: \"rgba(40, 44, 63, 0.05)\",\r\n      backgroundBlendMode: \"overlay\",\r\n      height: \"104px\",\r\n      borderRadius: \"6px\",\r\n    },\r\n  },\r\n  categoryName: {\r\n    fontWeight: 500,\r\n    fontSize: \"1.15rem\",\r\n    color: \"#3e4152\",\r\n    lineHeight: \"1.2\",\r\n    letterSpacing: \"-0.3px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    fontFamily: \"'Proxima Nova', sans-serif\",\r\n  },\r\n  addSubBtn: {\r\n    color: \"inherit\",\r\n    fontSize: \"1.3rem\",\r\n    fontWeight: 500,\r\n    background: \"inherit\",\r\n    border: \"none\",\r\n    display: \"flex\",\r\n  },\r\n  repeatBtn: {\r\n    width: \"calc(50% - 4%)\",\r\n    border: \"2px solid #ffa400\",\r\n    height: \"42px\",\r\n    lineHeight: \"38px\",\r\n    borderRadius: \"8px\",\r\n    textAlign: \"center\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n    textTransform: \"uppercase\",\r\n    fontWeight: 600,\r\n    display: \"flex\",\r\n    fontSize: \"0.83rem\",\r\n  },\r\n});\r\n\r\nexport default useStyles;\r\n","import React from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\nconst AntSwitch = withStyles((theme) => ({\r\n  root: {\r\n    width: 36,\r\n    height: 24,\r\n    padding: 0,\r\n    display: \"flex\",\r\n  },\r\n  switchBase: {\r\n    padding: 2,\r\n    color: theme.palette.grey[500],\r\n    \"&$checked\": {\r\n      transform: \"translateX(12px)\",\r\n      color: theme.palette.common.white,\r\n      \"& + $track\": {\r\n        opacity: 1,\r\n        backgroundColor: \"rgb(58, 183, 87)\",\r\n        borderColor: \"rgb(58, 183, 87)\",\r\n      },\r\n    },\r\n  },\r\n  thumb: {\r\n    width: 20,\r\n    height: 20,\r\n    boxShadow: \"none\",\r\n  },\r\n  track: {\r\n    border: `1px solid ${theme.palette.grey[500]}`,\r\n    borderRadius: 24 / 2,\r\n    opacity: 1,\r\n    backgroundColor: theme.palette.common.white,\r\n  },\r\n  checked: {},\r\n}))(Switch);\r\n\r\nexport default function CustumSwitch(props) {\r\n  const { isChecked, setChecked, switchLabel } = props;\r\n\r\n  const handleChange = (event) => {\r\n    setChecked(event.target.checked);\r\n  };\r\n\r\n  return (\r\n    <FormControlLabel\r\n      control={\r\n        <AntSwitch\r\n          checked={isChecked}\r\n          onChange={handleChange}\r\n          name=\"checkedSwitch\"\r\n        />\r\n      }\r\n      label={\r\n        <span\r\n          style={{\r\n            color: \"#3d4152\",\r\n            margin: \"7px\",\r\n            fontFamily: \"'Proxima Nova'\",\r\n\r\n            fontWeight: 500,\r\n          }}\r\n        >\r\n          {switchLabel}\r\n        </span>\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function BackIcon() {\r\n  return (\r\n    <svg className=\"uHGrw\" viewBox=\"0 0 32 32\" height=\"18\" width=\"18\">\r\n      <path d=\"M3.333 14.984l28.667-0v2.097l-0.16 0.006h-28.506l-0.16-0.16v-1.782l0.16-0.16zM1.114 14.986l10.079-10.079 0.121-0.108 1.465 1.467-0.101 0.127-10.079 10.079h-0.226l-1.26-1.26v-0.226zM12.679 25.676l0.108 0.117-1.468 1.484-0.126-0.115-10.079-10.079v-0.226l1.26-1.26h0.226l10.079 10.079zM3.268 12.87l0.272 0.116-0.022 6.125-0.272 0.114-3.245-3.18 0.111-0.112 3.157-3.062z\"></path>\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport function VegFoodSymbol(props) {\r\n  return (\r\n    <img\r\n      alt=\"veg\"\r\n      {...props}\r\n      src=\"https://img.icons8.com/color/48/000000/vegetarian-food-symbol.png\"\r\n    />\r\n  );\r\n}\r\n\r\nexport function NonVegFoodSymbol(props) {\r\n  return (\r\n    <img\r\n      {...props}\r\n      alt=\"non veg\"\r\n      src=\"https://img.icons8.com/color/48/000000/non-vegetarian-food-symbol.png\"\r\n    />\r\n  );\r\n}\r\n\r\nexport function EggFoodSymbol(props) {\r\n  return (\r\n    <svg\r\n      {...props}\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      width={props.style.width}\r\n      height={props.style.height}\r\n      viewBox=\"0 0 172 172\"\r\n      style={{ fill: \"#000000\" }}\r\n    >\r\n      <g\r\n        fill=\"none\"\r\n        fillRule=\"nonzero\"\r\n        stroke=\"none\"\r\n        strokeWidth=\"1\"\r\n        strokeLinecap=\"butt\"\r\n        strokeLinejoin=\"miter\"\r\n        strokeMiterlimit=\"10\"\r\n        strokeDasharray=\"\"\r\n        strokeDashoffset=\"0\"\r\n        fontFamily=\"none\"\r\n        fontWeight=\"none\"\r\n        fontSize=\"none\"\r\n        textAnchor=\"none\"\r\n        style={{ mixBlendMode: \"normal\" }}\r\n      >\r\n        <path d=\"M0,172v-172h172v172z\" fill=\"none\"></path>\r\n        <g fill=\"#f1c40f\">\r\n          <path d=\"M150.5,150.5h-129v-129h129zM28.66667,143.33333h114.66667v-114.66667h-114.66667z\"></path>\r\n          <path d=\"M86,46.58333c-21.76922,0 -39.41667,17.64744 -39.41667,39.41667c0,21.76922 17.64744,39.41667 39.41667,39.41667c21.76922,0 39.41667,-17.64744 39.41667,-39.41667c0,-21.76922 -17.64744,-39.41667 -39.41667,-39.41667z\"></path>\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default function FoodSymbols(props) {\r\n  return {\r\n    veg: <VegFoodSymbol {...props} />,\r\n    non_veg: <NonVegFoodSymbol {...props} />,\r\n    egg_only: <EggFoodSymbol {...props} />,\r\n  }[props.food_type];\r\n}\r\n","import { Slide } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nfunction ErrorAlert(props) {\r\n  const { alert } = props;\r\n  return (\r\n    <Slide in={true} direction=\"up\">\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"flex-start\",\r\n          alignItems: \"center\",\r\n          background: \"#5e1414\",\r\n          color: \"white\",\r\n          padding: \"4px 7px\",\r\n          position: \"fixed\",\r\n          width: \"100%\",\r\n          bottom: 0,\r\n          zIndex: 50,\r\n        }}\r\n      >\r\n        <i\r\n          style={{ marginLeft: \"3px\" }}\r\n          className=\"fas fa-exclamation-circle\"\r\n        ></i>\r\n        <p style={{ margin: \"5px\", paddingLeft: \"7px\" }}>{alert.msg}</p>\r\n      </div>\r\n    </Slide>\r\n  );\r\n}\r\n\r\nexport default ErrorAlert;\r\n","export const findCartItem = (cart, id) => {\r\n  return cart.items.find((item) => item._id === id);\r\n};\r\n\r\nexport const decideFoodType = (items) => {\r\n  let flag = false;\r\n\r\n  flag = items.some((item) => item.food_type === \"non_veg\");\r\n\r\n  if (flag) return \"non_veg\";\r\n\r\n  flag = items.some((item) => item.food_type === \"egg_only\");\r\n\r\n  if (flag) return \"egg_only\";\r\n\r\n  return \"veg\";\r\n};\r\n\r\nexport const getItemsTotalCost = (items) => {\r\n  return items.reduce((total, item) => {\r\n    return item.versions.reduce((itemTotal, ver) => {\r\n      return itemTotal + ver.totalCost * ver.itemCount;\r\n    }, total);\r\n  }, 0);\r\n};\r\n\r\nexport const decideToShowMenuFAB = (menu) => {\r\n  return menu.every((cat) => cat.type === \"category\");\r\n};\r\n\r\nexport const getMenuType = (menu) => {\r\n  if (menu.every((pack) => pack.type === \"package\")) {\r\n    return \"package\";\r\n  }\r\n  return \"category\";\r\n};\r\n\r\nexport const findOriginalPackage = (menu, packId) => {\r\n  return menu.buffet.find((pack) => pack._id === packId);\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  FormGroup,\r\n  IconButton,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport FoodSymbols from \"../assets/FoodSymbols\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport { clone } from \"ramda\";\r\nimport BackIcon from \"../assets/BackIcon\";\r\nimport ErrorAlert from \"../shared/ErrorAlert\";\r\nimport { connect, useDispatch } from \"react-redux\";\r\nimport { setAlert } from \"../../../redux/actions/alert\";\r\nimport ALERT_TYPES from \"../../../enums/alert_types\";\r\nimport { decideFoodType } from \"../utils/helper\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    backgroundColor: \"#f2f6fc\",\r\n    color: \"black\",\r\n  },\r\n}));\r\n\r\nfunction CustumizationPage(props) {\r\n  const classes = useStyles();\r\n  const navigate = useNavigate();\r\n  const [state, setState] = useState({\r\n    itemCost: Number(\r\n      props.isPackage ? props.item.package_price : props.item.item_price\r\n    ),\r\n    custumization_arr: [],\r\n    count: 1,\r\n    isSet: false,\r\n  });\r\n  const [curState, setCurState] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const { custumization_arr } = props.item;\r\n\r\n  const handleCheckBoxInput = (evt) => {\r\n    const [custId, optId] = evt.target.name.split(\"-\");\r\n    let newOpt = null;\r\n    let oldOpt = null;\r\n\r\n    const custIdx = custumization_arr.findIndex((cust) => cust._id === custId);\r\n    const optIdx = custumization_arr[custIdx].options.findIndex(\r\n      (opt) => opt._id === optId\r\n    );\r\n\r\n    let newCustArr = clone(state.custumization_arr);\r\n    const actCustIdx = newCustArr.findIndex((cust) => cust._id === custId);\r\n\r\n    if (actCustIdx === -1) {\r\n      let newCust = clone(custumization_arr[custIdx]);\r\n      newCust.options = newCust.options.filter((opt) => optId === opt._id);\r\n      newCustArr = [...newCustArr, newCust];\r\n\r\n      newOpt = newCust.options[0];\r\n    } else if (\r\n      Number(newCustArr[actCustIdx].custum_type) === 0 ||\r\n      newCustArr[actCustIdx].options.length <=\r\n        Number(newCustArr[actCustIdx].custum_type)\r\n    ) {\r\n      let actOptIdx = newCustArr[actCustIdx].options.findIndex(\r\n        (opt) => opt._id === optId\r\n      );\r\n      if (actOptIdx === -1) {\r\n        let l_newOpt = clone(custumization_arr[custIdx].options[optIdx]);\r\n        newCustArr[actCustIdx].options = [\r\n          ...newCustArr[actCustIdx].options,\r\n          l_newOpt,\r\n        ];\r\n        newOpt = l_newOpt;\r\n      } else {\r\n        oldOpt = newCustArr[actCustIdx].options[actOptIdx];\r\n        newCustArr[actCustIdx].options = newCustArr[actCustIdx].options.filter(\r\n          (opt) => opt._id !== optId\r\n        );\r\n\r\n        if (newCustArr[actCustIdx].options.length === 0) {\r\n          newCustArr = newCustArr.filter((cust) => cust._id !== custId);\r\n        }\r\n      }\r\n    }\r\n\r\n    const cost = state.itemCost - getOptionCost(oldOpt) + getOptionCost(newOpt);\r\n\r\n    setState((prev) => ({\r\n      ...prev,\r\n      custumization_arr: [...newCustArr],\r\n      itemCost: cost,\r\n    }));\r\n  };\r\n\r\n  const handleRadioInput = (evt) => {\r\n    const [custId, optId] = evt.target.value.split(\"-\");\r\n    let newOpt;\r\n    let oldOpt;\r\n    const custIdx = custumization_arr.findIndex((cust) => cust._id === custId);\r\n\r\n    const actCustIdx = state.custumization_arr.findIndex(\r\n      (cust) => cust._id === custId\r\n    );\r\n    oldOpt = state.custumization_arr[actCustIdx].options[0];\r\n\r\n    const newCustArr = clone(state.custumization_arr).map((cust) => {\r\n      if (custId === cust._id && custIdx !== -1) {\r\n        cust.options = custumization_arr[custIdx].options.filter(\r\n          (opt) => opt._id === optId\r\n        );\r\n\r\n        newOpt = cust.options[0];\r\n      }\r\n\r\n      return cust;\r\n    });\r\n\r\n    const cost = state.itemCost - getOptionCost(oldOpt) + getOptionCost(newOpt);\r\n\r\n    setState((prev) => ({\r\n      ...prev,\r\n      custumization_arr: [...newCustArr],\r\n      itemCost: cost,\r\n    }));\r\n  };\r\n\r\n  const setInitialState = () => {\r\n    let initialCustArr = clone(custumization_arr)\r\n      .filter((cust) => Number(cust.custum_type) > 0)\r\n      .map((cust) => {\r\n        cust.options =\r\n          Number(cust.custum_type) > 0\r\n            ? cust.options.filter((opt) => opt.option_type === \"total\")\r\n            : [];\r\n        return cust;\r\n      });\r\n\r\n    if (Boolean(props.cur_custumizations?.length > 0)) {\r\n      initialCustArr = initialCustArr.map((cust) => {\r\n        let curCustIdx = props.cur_custumizations.findIndex(\r\n          (ncust) => ncust._id === cust._id\r\n        );\r\n        if (curCustIdx !== -1) {\r\n          return props.cur_custumizations[curCustIdx];\r\n        }\r\n\r\n        return cust;\r\n      });\r\n\r\n      let optionalCusts = props.cur_custumizations.filter(\r\n        (cust) => Number(cust.custum_type) === 0\r\n      );\r\n      initialCustArr = [...initialCustArr, ...optionalCusts];\r\n    }\r\n\r\n    let cost = initialCustArr.reduce((total, cust) => {\r\n      return (\r\n        total +\r\n        cust.options.reduce(\r\n          (totalOptCost, opt) => totalOptCost + getOptionCost(opt),\r\n          0\r\n        )\r\n      );\r\n    }, Number(props.isPackage ? props.item.package_price : props.item.item_price));\r\n\r\n    let count = Boolean(props.cur_count) && props.is_edit ? props.cur_count : 1;\r\n\r\n    setState((prev) => ({\r\n      ...prev,\r\n      custumization_arr: [...initialCustArr],\r\n      itemCost: cost,\r\n      count: count,\r\n      isSet: true,\r\n    }));\r\n  };\r\n\r\n  const getRadiovalue = (custId) => {\r\n    let custIdx = state.custumization_arr.findIndex(\r\n      (cust) => cust._id === custId\r\n    );\r\n    let optId = state.custumization_arr[custIdx]?.options[0]?._id;\r\n    return `${custId}-${optId}`;\r\n  };\r\n\r\n  const isChecked = (custId, optId) => {\r\n    const custIdx = state.custumization_arr.findIndex(\r\n      (cust) => cust._id === custId\r\n    );\r\n    if (custIdx === -1) return false;\r\n\r\n    const optIdx = state.custumization_arr[custIdx].options.findIndex(\r\n      (opt) => opt._id === optId\r\n    );\r\n    if (optIdx === -1) return false;\r\n\r\n    return true;\r\n  };\r\n\r\n  const getOptionCost = (opt) => {\r\n    switch (opt?.option_type) {\r\n      case \"add\":\r\n        return Number(opt.option_price);\r\n      case \"minus\":\r\n        return -Number(opt.option_price);\r\n      default:\r\n        return 0;\r\n    }\r\n  };\r\n\r\n  const checkIsDisabled = (custId, optId) => {\r\n    const custIdx = state.custumization_arr.findIndex(\r\n      (cust) => cust._id === custId\r\n    );\r\n    if (custIdx === -1) return false;\r\n\r\n    if (\r\n      Number(state.custumization_arr[custIdx].custum_type) === 0 ||\r\n      state.custumization_arr[custIdx].options.length <\r\n        Number(state.custumization_arr[custIdx].custum_type)\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    const optIdx = state.custumization_arr[custIdx].options.findIndex(\r\n      (opt) => opt._id === optId\r\n    );\r\n    if (optIdx !== -1) return false;\r\n\r\n    return true;\r\n  };\r\n\r\n  const addItem = () => {\r\n    let isAllOk = state.custumization_arr.every(\r\n      (cust) =>\r\n        Number(cust.custum_type) === 0 ||\r\n        Number(cust.custum_type) === cust.options.length\r\n    );\r\n\r\n    if (!isAllOk) {\r\n      dispatch(\r\n        setAlert(\r\n          \"Cannot add, Please select required customizations\",\r\n          ALERT_TYPES.ERROR\r\n        )\r\n      );\r\n      return;\r\n    }\r\n    goBack();\r\n    setTimeout(\r\n      () =>\r\n        !props.is_edit\r\n          ? props.addItem(\r\n              false,\r\n              state.custumization_arr,\r\n              state.itemCost,\r\n              state.count\r\n            )\r\n          : props.updateItem(\r\n              state.custumization_arr,\r\n              state.itemCost,\r\n              state.count\r\n            ),\r\n      10\r\n    );\r\n  };\r\n\r\n  const goBack = (isPopped = false) => {\r\n    if (!isPopped) {\r\n      window.history.back();\r\n    }\r\n\r\n    props.handleClose();\r\n  };\r\n\r\n  const onBackButtonEvent = (e) => {\r\n    e.preventDefault();\r\n    goBack(true);\r\n    e.stopPropagation();\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCurState(window.history.state);\r\n    if (props.isPackage || props.isFromRepeat) {\r\n      window.history.replaceState(\r\n        window.history.state,\r\n        null,\r\n        window.location.pathname + \"#customizations\"\r\n      );\r\n    } else {\r\n      window.history.pushState(\r\n        window.history.state,\r\n        null,\r\n        window.location.pathname + \"#customizations\"\r\n      );\r\n    }\r\n\r\n    window.addEventListener(\"popstate\", onBackButtonEvent);\r\n    // window.addEventListener(\"beforeunload\", onBackButtonEvent);\r\n    setInitialState();\r\n    return () => {\r\n      window.removeEventListener(\"popstate\", onBackButtonEvent);\r\n      // window.addEventListener(\"beforeunload\", onBackButtonEvent);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <AppBar position=\"sticky\" className={classes.appBar} elevation={0}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            onClick={() => goBack()}\r\n            aria-label=\"close\"\r\n          >\r\n            <BackIcon />\r\n          </IconButton>\r\n          <Typography\r\n            style={{\r\n              fontSize: \"1.12rem\",\r\n              fontWeight: 600,\r\n              fontFamily: \"Open Sans\",\r\n            }}\r\n          >\r\n            Customizations\r\n          </Typography>\r\n        </Toolbar>\r\n        <Toolbar>\r\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n            <FoodSymbols\r\n              food_type={\r\n                props.isPackage\r\n                  ? decideFoodType(props.item.items)\r\n                  : props.item.food_type\r\n              }\r\n              style={{\r\n                width: \"19px\",\r\n                height: \"fit-content\",\r\n              }}\r\n            />{\" \"}\r\n            <span\r\n              style={{\r\n                fontSize: \"1.1rem\",\r\n                marginLeft: \"5px\",\r\n                fontFamily: \"'Proxima Nova', sans-serif\",\r\n              }}\r\n            >\r\n              {props.isPackage ? props.item.package_name : props.item.item_name}\r\n            </span>{\" \"}\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Paper\r\n        style={{ padding: \"0 17px\", marginTop: \"20px\", marginBottom: \"60px\" }}\r\n        elevation={0}\r\n      >\r\n        {state.isSet &&\r\n          custumization_arr.map((cust, custIdx) => {\r\n            const n_options = Number(cust.custum_type);\r\n            const isRequired = n_options > 0;\r\n            const isRadio = n_options === 1;\r\n\r\n            return (\r\n              <div key={cust._id} style={{ marginBottom: \"10px\" }}>\r\n                <Typography style={{ marginBottom: \"7px\", fontWeight: \"600\" }}>\r\n                  {cust.custumization_name}\r\n                  <span\r\n                    style={{\r\n                      fontSize: \".85rem\",\r\n                      color: \"#686b78\",\r\n                      marginLeft: \"4px\",\r\n                      fontWeight: 500,\r\n                    }}\r\n                  >\r\n                    {!isRadio\r\n                      ? isRequired\r\n                        ? `(${\r\n                            state.custumization_arr[\r\n                              state.custumization_arr.findIndex(\r\n                                (s_cust) => s_cust._id === cust._id\r\n                              )\r\n                            ]?.options.length || 0\r\n                          }/${cust.custum_type})`\r\n                        : \"(optional)\"\r\n                      : \"\"}\r\n                  </span>\r\n                </Typography>\r\n                <FormControl\r\n                  component=\"fieldset\"\r\n                  className={classes.formControl}\r\n                  style={{ width: \"100%\" }}\r\n                >\r\n                  {!isRadio ? (\r\n                    <FormGroup>\r\n                      {cust.options.map((opt, optIdx) => (\r\n                        <div\r\n                          key={optIdx}\r\n                          style={{\r\n                            display: \"flex\",\r\n                            justifyContent: \"space-between\",\r\n                            alignItems: \"center\",\r\n                            paddingRight: \"8px\",\r\n                          }}\r\n                        >\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                            }}\r\n                          >\r\n                            <FoodSymbols\r\n                              food_type={opt.food_type}\r\n                              style={{\r\n                                width: \"16px\",\r\n                                height: \"fit-content\",\r\n                                marginRight: \"6px\",\r\n                              }}\r\n                            />\r\n                            <FormControlLabel\r\n                              style={{ color: \"rgb(247, 160, 2)\" }}\r\n                              key={opt._id}\r\n                              control={\r\n                                <Checkbox\r\n                                  checked={isChecked(cust._id, opt._id)}\r\n                                  onChange={handleCheckBoxInput}\r\n                                  name={`${cust._id}-${opt._id}`}\r\n                                  disabled={checkIsDisabled(cust._id, opt._id)}\r\n                                />\r\n                              }\r\n                              label={\r\n                                <span\r\n                                  style={{\r\n                                    color: \"#3d4152\",\r\n                                  }}\r\n                                >\r\n                                  {opt.option}\r\n                                </span>\r\n                              }\r\n                            />\r\n                          </div>\r\n                          <span\r\n                            style={{ marginRight: \"5px\", fontWeight: \"600\" }}\r\n                          >\r\n                            <span style={{ marginRight: \"2px\" }}>\r\n                              {opt.option_type === \"minus\" && \"-\"}\r\n                            </span>\r\n                            <span>&#8377;</span>\r\n                            {opt.option_type === \"total\"\r\n                              ? \"0\"\r\n                              : opt.option_price}\r\n                          </span>\r\n                        </div>\r\n                      ))}\r\n                    </FormGroup>\r\n                  ) : (\r\n                    <RadioGroup\r\n                      aria-label={`cust-${custIdx}`}\r\n                      name={`${cust._id}`}\r\n                      value={getRadiovalue(cust._id)}\r\n                      onChange={handleRadioInput}\r\n                    >\r\n                      {cust.options.map((opt, optIdx) => (\r\n                        <div\r\n                          key={optIdx}\r\n                          style={{\r\n                            display: \"flex\",\r\n                            justifyContent: \"space-between\",\r\n                            alignItems: \"center\",\r\n                            paddingRight: \"8px\",\r\n                          }}\r\n                        >\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                            }}\r\n                          >\r\n                            <FoodSymbols\r\n                              food_type={opt.food_type}\r\n                              style={{\r\n                                width: \"16px\",\r\n                                height: \"fit-content\",\r\n                                marginRight: \"6px\",\r\n                              }}\r\n                            />\r\n                            <FormControlLabel\r\n                              style={{ color: \"rgb(247, 160, 2)\" }}\r\n                              value={`${cust._id}-${opt._id}`}\r\n                              control={<Radio />}\r\n                              label={\r\n                                <span\r\n                                  style={{\r\n                                    color: \"#3d4152\",\r\n                                  }}\r\n                                >\r\n                                  {opt.option}\r\n                                </span>\r\n                              }\r\n                            />\r\n                          </div>\r\n                          <span\r\n                            style={{ marginRight: \"5px\", fontWeight: \"600\" }}\r\n                          >\r\n                            <span style={{ marginRight: \"2px\" }}>\r\n                              {opt.option_type === \"minus\" && \"-\"}\r\n                            </span>\r\n                            <span>&#8377;</span>\r\n                            {opt.option_type === \"total\"\r\n                              ? \"0\"\r\n                              : opt.option_price}\r\n                          </span>\r\n                        </div>\r\n                      ))}\r\n                    </RadioGroup>\r\n                  )}\r\n                </FormControl>\r\n              </div>\r\n            );\r\n          })}\r\n      </Paper>\r\n      {props.alerts?.length > 0 && <ErrorAlert alert={props.alerts[0]} />}\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          bottom: 0,\r\n          left: 0,\r\n          right: 0,\r\n          zIndex: 10,\r\n          borderTop: \"1px solid lightgrey\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          backgroundColor: \"white\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            width: \"30%\",\r\n            padding: \"7px\",\r\n            display: \"flex\",\r\n            justifyContent: \"space-evenly\",\r\n            alignItems: \"center\",\r\n            border: \"1px solid black\",\r\n            borderRadius: \"6px\",\r\n            background: \"#f4eed3\",\r\n          }}\r\n        >\r\n          <button\r\n            style={{\r\n              border: \"none\",\r\n              background: \"transparent\",\r\n              color: \"black\",\r\n            }}\r\n            onClick={() => {\r\n              if (state.count <= 1) {\r\n                goBack();\r\n                return;\r\n              }\r\n              setState((prev) => ({\r\n                ...prev,\r\n                count: prev.count - 1,\r\n              }));\r\n            }}\r\n          >\r\n            <i\r\n              style={{\r\n                fontSize: \"0.7rem\",\r\n                verticalAlign: \"middle\",\r\n                color: \"#000000\",\r\n              }}\r\n              className=\"fas fa-minus\"\r\n            ></i>\r\n          </button>\r\n          <span style={{ fontSize: \"1.14rem\", fontWeight: \"600\" }}>\r\n            {state.count}\r\n          </span>\r\n          <button\r\n            style={{\r\n              border: \"none\",\r\n              background: \"transparent\",\r\n              color: \"black\",\r\n              fontSize: \"1.2rem\",\r\n            }}\r\n            onClick={() =>\r\n              setState((prev) => ({\r\n                ...prev,\r\n                count: prev.count + 1,\r\n              }))\r\n            }\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n        <Button\r\n          onClick={addItem}\r\n          style={{\r\n            width: \"55%\",\r\n            padding: \"7px\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            borderRadius: \"6px\",\r\n            background: \"rgb(255 215 34)\",\r\n            fontWeight: \"700\",\r\n            textTransform: \"capitalize\",\r\n          }}\r\n        >\r\n          {!props.is_edit ? \"Add\" : \"Update\"}{\" \"}\r\n          <span\r\n            style={{\r\n              marginLeft: \"7px\",\r\n              fontSize: \"1rem\",\r\n            }}\r\n          >\r\n            <span>&#8377;</span>\r\n            {state.itemCost * state.count}\r\n          </span>\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nCustumizationPage.defaultProps = {\r\n  isPackage: false,\r\n  is_edit: false,\r\n  isFromRepeat: false,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  alerts: state.alert,\r\n});\r\n\r\nexport default connect(mapStateToProps)(CustumizationPage);\r\n","import { Typography } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\n\r\nexport default function ExpandableText(props) {\r\n  const [isExpanded, setIsExpanded] = useState(props.children.length < 90);\r\n  const styleObj = !isExpanded\r\n    ? {\r\n        overflow: \"hidden\",\r\n        display: \"-webkit-box\",\r\n        WebkitLineClamp: 2,\r\n        WebkitBoxOrient: \"vertical\",\r\n      }\r\n    : {};\r\n  return (\r\n    <div>\r\n      <Typography style={styleObj} {...props}>\r\n        {props.children}\r\n      </Typography>\r\n      {!isExpanded && (\r\n        <Typography\r\n          onClick={() => setIsExpanded(true)}\r\n          style={{ fontWeight: \"bold\" }}\r\n        >\r\n          more\r\n        </Typography>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export const checkIfCustumizationSame = (arr1, arr2) => {\r\n  if (arr1.length !== arr2.length) {\r\n    return false;\r\n  }\r\n  let flag = arr1.every((cust1) => {\r\n    let cIdx = arr2.findIndex((cust2) => cust2._id === cust1._id);\r\n    if (cIdx === -1) {\r\n      return false;\r\n    }\r\n\r\n    let cust2 = arr2[cIdx];\r\n    if (cust1.options.length !== cust2.options.length) {\r\n      return false;\r\n    }\r\n    let flag2 = cust1.options.every(\r\n      (op1) => cust2.options.findIndex((op2) => op2._id === op1._id) !== -1\r\n    );\r\n\r\n    return flag2;\r\n  });\r\n\r\n  return flag;\r\n};\r\n\r\nexport const filterSameVersions = (versions) => {\r\n  versions.forEach((ver, idx) => {\r\n    if (!Boolean(ver)) {\r\n      return ver;\r\n    }\r\n    let sameIdx = versions.findIndex((s_ver) =>\r\n      checkIfCustumizationSame(ver.custumization_arr, s_ver.custumization_arr)\r\n    );\r\n\r\n    if (sameIdx !== -1 && sameIdx !== idx) {\r\n      versions[idx].itemCount += versions[sameIdx].itemCount;\r\n      versions[sameIdx] = false;\r\n    }\r\n\r\n    return ver;\r\n  });\r\n\r\n  return versions.filter((ver) => Boolean(ver));\r\n};\r\n\r\nexport const getChargesMap = (charges, total) => {\r\n  return charges.map((chr) => {\r\n    let charge = {};\r\n    charge.text = chr.label_text;\r\n\r\n    if (chr.method === \"compound\") {\r\n      charge.sub_charges = chr.sub_charges.map((s_chr) => {\r\n        return {\r\n          text: s_chr.label_text,\r\n          total: round(\r\n            calculateTotalByPerc(s_chr.method, total, s_chr.value),\r\n            2\r\n          ),\r\n        };\r\n      });\r\n      charge.total = charge.sub_charges.reduce(\r\n        (m_total, m_chr) => m_chr.total + m_total,\r\n        0\r\n      );\r\n    } else {\r\n      charge.sub_charges = [];\r\n      charge.total = round(\r\n        calculateTotalByPerc(chr.method, total, chr.value),\r\n        2\r\n      );\r\n    }\r\n\r\n    return charge;\r\n  });\r\n};\r\n\r\nexport const calculateTotalByPerc = (method, total, value) => {\r\n  let tkns = method.split(\"-\");\r\n  if (tkns.length > 1 && tkns[1] === \"perc\") {\r\n    let result = total * (Number(value) / 100);\r\n    switch (tkns[0]) {\r\n      case \"minus\":\r\n        return -result;\r\n      default:\r\n        return result;\r\n    }\r\n  }\r\n\r\n  return Number(value);\r\n};\r\n\r\nexport const round = (value, decimals) => {\r\n  return Number(Math.round(value + \"e\" + decimals) + \"e-\" + decimals);\r\n};\r\n","export const OFFER_PROCESS_TYPE = {\r\n  COMPUTED: \"computed\",\r\n  CUSTOM: \"custom\",\r\n};\r\n\r\nexport const OPERATOR_TYPE = {\r\n  GREATER_THAN: \"gt\",\r\n  LESS_THAN: \"custom\",\r\n  GREATER_THAN_OR_EQUAL: \"gte\",\r\n  LESS_THAN_OR_EQUAL: \"lte\",\r\n};\r\n\r\nexport const FIELD_TYPE = {\r\n  ORDER_TOTAL: \"order-total\",\r\n};\r\n\r\nexport const FIELDS = {\r\n  ORDER_TOTAL: \"totalCost\",\r\n};\r\n\r\nexport const OPERATORS = {\r\n  MINUS: \"minus\",\r\n  DIVIDE: \"DIVIDE\",\r\n};\r\n","import {\r\n  FIELDS,\r\n  FIELD_TYPE,\r\n  OFFER_PROCESS_TYPE,\r\n  OPERATORS,\r\n  OPERATOR_TYPE,\r\n} from \"../../../enums/offer\";\r\nimport { isObjEmpty } from \"../../../utils/helpers\";\r\n\r\nfunction processOffer(offer, payload) {\r\n  // For Custom offers it is always enabled, but the offer is processed using a API call..\r\n  let discountedValue = 0;\r\n  if (offer.process_type === OFFER_PROCESS_TYPE.COMPUTED) {\r\n    let operators = offer.value_type.split(\"-\");\r\n    discountedValue = operate(\r\n      operators[0],\r\n      operate(operators[1], payload.totalCost, offer.value),\r\n      offer.value\r\n    );\r\n\r\n    discountedValue =\r\n      discountedValue > Number(offer.cap_value)\r\n        ? Number(offer.cap_value)\r\n        : discountedValue;\r\n  }\r\n\r\n  return discountedValue;\r\n}\r\n\r\nfunction isOfferApplicable(offer, payload) {\r\n  if (isObjEmpty(offer) || isObjEmpty(payload)) {\r\n    return false;\r\n  }\r\n  const isConditionallyValid = offer.conditions.every((condtn) => {\r\n    let field = getFieldFromFieldType(condtn.decider_field);\r\n\r\n    if (!condtn.always_valid && !Boolean(field)) {\r\n      return false;\r\n    }\r\n\r\n    if (\r\n      !condtn.always_valid &&\r\n      !isConditionValid(\r\n        condtn.operator,\r\n        getFieldValueFromPayload(field.split(\"/\"), payload),\r\n        condtn.decider_value\r\n      )\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  });\r\n\r\n  return isConditionallyValid;\r\n}\r\n\r\nfunction isConditionValid(operator, a, b) {\r\n  switch (operator) {\r\n    case OPERATOR_TYPE.GREATER_THAN:\r\n      return Number(a) > Number(b);\r\n    case OPERATOR_TYPE.GREATER_THAN_OR_EQUAL:\r\n      return Number(a) >= Number(b);\r\n    case OPERATOR_TYPE.LESS_THAN:\r\n      return Number(a) < Number(b);\r\n    case OPERATOR_TYPE.LESS_THAN_OR_EQUAL:\r\n      return Number(a) <= Number(b);\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n\r\nfunction getFieldFromFieldType(field) {\r\n  switch (field) {\r\n    case FIELD_TYPE.ORDER_TOTAL:\r\n      return FIELDS.ORDER_TOTAL;\r\n    default:\r\n      return \"\";\r\n  }\r\n}\r\n\r\nfunction getFieldValueFromPayload(paramArr, payload) {\r\n  if (paramArr.length === 1) {\r\n    return payload[paramArr[0]];\r\n  }\r\n  return getFieldValueFromPayload(\r\n    [...paramArr.slice(1, paramArr.length)],\r\n    payload[paramArr[0]]\r\n  );\r\n}\r\n\r\nfunction operate(operator, a, b) {\r\n  switch (operator) {\r\n    case OPERATORS.MINUS:\r\n      return Number(a) - Number(b);\r\n    case OPERATORS.DIVIDE:\r\n      return Number(a) / Number(b);\r\n    case OPERATORS.PERC:\r\n      return (a / 100) * b; // gives a% of b\r\n    default:\r\n      return a;\r\n  }\r\n}\r\n\r\nexport { processOffer, isOfferApplicable };\r\n","import { clone } from \"ramda\";\r\nimport ALERT_TYPES from \"../../enums/alert_types\";\r\nimport {\r\n  checkIfCustumizationSame,\r\n  filterSameVersions,\r\n} from \"../../pages/cart/utils/helpers\";\r\nimport { isOfferApplicable } from \"../../pages/cart/utils/offers\";\r\nimport { getItemsTotalCost } from \"../../pages/menu/utils/helper\";\r\nimport store from \"../store\";\r\nimport { setAlert } from \"./alert\";\r\nimport { CLEAR_CART, UPDATE_CART } from \"./types\";\r\n\r\n//#region Action creators\r\n\r\nexport const addItem =\r\n  (payload, itemId, versionIdx = -1) =>\r\n  (dispatch) => {\r\n    try {\r\n      let item = {\r\n        _id: itemId,\r\n        ...payload,\r\n      };\r\n      let flag = false;\r\n      let cart = clone(store.getState().cart);\r\n      cart.items = cart.items.map((c_item) => {\r\n        if (item._id === c_item._id) {\r\n          flag = true;\r\n          item.versions =\r\n            versionIdx === -1\r\n              ? payload.versions\r\n              : checkIfCustumizationSame(\r\n                  payload.versions[payload.versions.length - 1]\r\n                    .custumization_arr,\r\n                  c_item.versions[versionIdx].custumization_arr\r\n                )\r\n              ? c_item.versions.map((ver, idx) => {\r\n                  if (idx === versionIdx) {\r\n                    ver.itemCount +=\r\n                      payload.versions[payload.versions.length - 1].itemCount;\r\n                  }\r\n                  return ver;\r\n                })\r\n              : [\r\n                  ...c_item.versions.slice(0, versionIdx),\r\n                  payload.versions[payload.versions.length - 1],\r\n                  ...c_item.versions.slice(\r\n                    versionIdx + 1,\r\n                    c_item.versions.length\r\n                  ),\r\n                ];\r\n          item.versions = filterSameVersions(item.versions);\r\n          return item;\r\n        }\r\n        return c_item;\r\n      });\r\n\r\n      if (!flag) {\r\n        cart.items = [...cart.items, item];\r\n      }\r\n\r\n      cart.totalCost = getItemsTotalCost(cart.items);\r\n\r\n      cart = reApplyAllOffers(cart);\r\n\r\n      dispatch({\r\n        type: UPDATE_CART,\r\n        payload: cart,\r\n      });\r\n    } catch (err) {\r\n      setAlert(\"Error updating cart..\", ALERT_TYPES.ERROR);\r\n    }\r\n  };\r\n\r\nexport const removeItem =\r\n  (itemId, itemCount, versionIdx = -1) =>\r\n  (dispatch) => {\r\n    try {\r\n      let cart = clone(store.getState().cart);\r\n      cart.items =\r\n        itemCount > 0\r\n          ? cart.items\r\n              .map((c_item) => {\r\n                if (itemId === c_item._id) {\r\n                  let mIdx =\r\n                    versionIdx !== -1 ? versionIdx : c_item.versions.length - 1;\r\n                  if (c_item.versions.length > 0) {\r\n                    if (c_item.versions[mIdx].itemCount === 1) {\r\n                      c_item.versions = [\r\n                        ...c_item.versions.slice(0, mIdx),\r\n                        ...c_item.versions.slice(\r\n                          mIdx + 1,\r\n                          c_item.versions.length\r\n                        ),\r\n                      ];\r\n                    } else {\r\n                      c_item.versions[mIdx].itemCount -= 1;\r\n                    }\r\n                  }\r\n                }\r\n                c_item.itemCount = itemCount;\r\n                return c_item;\r\n              })\r\n              .filter((c_item) => c_item.versions.length > 0)\r\n          : versionIdx !== -1\r\n          ? cart.items\r\n              .map((c_item) => {\r\n                if (c_item._id === itemId) {\r\n                  c_item.versions = [\r\n                    ...c_item.versions.slice(0, versionIdx),\r\n                    ...c_item.versions.slice(\r\n                      versionIdx + 1,\r\n                      c_item.versions.length\r\n                    ),\r\n                  ];\r\n                }\r\n\r\n                return c_item;\r\n              })\r\n              .filter((c_item) => c_item.versions.length > 0)\r\n          : cart.items.filter((c_item) => c_item._id !== itemId);\r\n\r\n      cart.totalCost = getItemsTotalCost(cart.items);\r\n\r\n      cart = reApplyAllOffers(cart);\r\n\r\n      dispatch({\r\n        type: UPDATE_CART,\r\n        payload: cart,\r\n      });\r\n    } catch (err) {\r\n      setAlert(\"Error updating cart..\", ALERT_TYPES.ERROR);\r\n    }\r\n  };\r\n\r\nexport const updateItem = (itemId, version, versionIdx) => (dispatch) => {\r\n  try {\r\n    let cart = clone(store.getState().cart);\r\n    cart.items = cart.items.map((c_item) => {\r\n      if (itemId === c_item._id) {\r\n        let anyIdx = c_item.versions.findIndex((ver) =>\r\n          checkIfCustumizationSame(\r\n            version.custumization_arr,\r\n            ver.custumization_arr\r\n          )\r\n        );\r\n\r\n        if (anyIdx !== -1 && anyIdx !== versionIdx) {\r\n          c_item.versions[anyIdx].itemCount += version.itemCount;\r\n          c_item.versions = [\r\n            ...c_item.versions.slice(0, versionIdx),\r\n            ...c_item.versions.slice(versionIdx + 1, c_item.versions.length),\r\n          ];\r\n        } else {\r\n          c_item.versions = [\r\n            ...c_item.versions.slice(0, versionIdx),\r\n            version,\r\n            ...c_item.versions.slice(versionIdx + 1, c_item.versions.length),\r\n          ];\r\n        }\r\n      }\r\n\r\n      return c_item;\r\n    });\r\n\r\n    cart.totalCost = getItemsTotalCost(cart.items);\r\n\r\n    cart = reApplyAllOffers(cart);\r\n\r\n    dispatch({\r\n      type: UPDATE_CART,\r\n      payload: cart,\r\n    });\r\n  } catch (err) {\r\n    setAlert(\"Error updating cart..\", ALERT_TYPES.ERROR);\r\n  }\r\n};\r\n\r\nexport const clearCart = () => (dispatch) => {\r\n  dispatch({\r\n    type: CLEAR_CART,\r\n  });\r\n};\r\n\r\nexport const applyOfferOnCart = (discountedValue, offer) => (dispatch) => {\r\n  let cart = clone(store.getState().cart);\r\n  let applied_offer = {\r\n    label_text: \"Offer Discount\",\r\n    type: \"applied\",\r\n    offer_id: offer?._id,\r\n    discount: discountedValue,\r\n    is_applicable: true,\r\n    code: offer?.code,\r\n  };\r\n\r\n  cart.offers = cart.offers.filter((o) => o.type !== \"applied\");\r\n\r\n  cart.offers.push(applied_offer);\r\n\r\n  dispatch({\r\n    type: UPDATE_CART,\r\n    payload: cart,\r\n  });\r\n};\r\n\r\nexport const removeOffers = (offerIds) => (dispatch) => {\r\n  let cart = store.getState().cart;\r\n\r\n  cart.offers = cart.offers.filter((o) => !offerIds.includes(o.offer_id));\r\n\r\n  dispatch({\r\n    type: UPDATE_CART,\r\n    payload: cart,\r\n  });\r\n};\r\n\r\n//#endregion\r\n\r\n//#region Helpers\r\n\r\nconst reApplyAllOffers = (cart) => {\r\n  // use is_applicale flag before place order/ After delete not applicable offers\r\n  let restOffers = clone(store.getState().restaurant.offers);\r\n  let appliedOffers = cart.offers;\r\n  if (appliedOffers?.length === 0) {\r\n    return cart;\r\n  }\r\n  let appIds = appliedOffers.map((o) => o.offer_id);\r\n  let offers = restOffers.filter((o) => appIds.includes(o._id));\r\n  let remIds = offers\r\n    .filter((o) => !isOfferApplicable(o, cart))\r\n    .map((o) => o._id);\r\n\r\n  console.log(\"Reapplying Offers\");\r\n\r\n  cart.offers = cart.offers.map((o) => {\r\n    o.is_applicable = !remIds.includes(o.offer_id);\r\n    return o;\r\n  });\r\n\r\n  return cart;\r\n};\r\n\r\n//#endregion\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  Dialog,\r\n  Drawer,\r\n  Grid,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { clone } from \"ramda\";\r\nimport React, { useEffect, useReducer, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport FoodSymbols from \"../assets/FoodSymbols\";\r\nimport DialogTransition from \"../shared/DialogTransition\";\r\nimport useStyles from \"../styles/main\";\r\nimport CustumizationPage from \"./CutumizationPage\";\r\nimport ExpandableText from \"./ExpandableText\";\r\nimport { addItem as addItemToCart } from \"../../../redux/actions/cart\";\r\nimport { removeItem as removeItemFromCart } from \"../../../redux/actions/cart\";\r\n\r\nexport default function Item(props) {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [state, setState] = useState({\r\n    itemCount: props.cart_item?.itemCount || 0,\r\n    f_cust_dialog: false,\r\n    f_repeat_drawer: false,\r\n    versions: clone(props.cart_item?.versions) || [],\r\n  });\r\n\r\n  const handleDialogOpen = (flagName) => {\r\n    setState({\r\n      ...state,\r\n      [flagName]: true,\r\n    });\r\n  };\r\n\r\n  const handleDialogClose = (flagName) => {\r\n    setState({\r\n      ...state,\r\n      [flagName]: false,\r\n    });\r\n  };\r\n\r\n  const { item } = props;\r\n\r\n  async function addItem(\r\n    isRepeatLast = false,\r\n    itemCustomizations = [],\r\n    totalItemCost = 0,\r\n    repeatCount = 1\r\n  ) {\r\n    let versions = clone(state.versions);\r\n\r\n    if (isRepeatLast && versions.length > 0) {\r\n      versions[versions.length - 1].itemCount += 1;\r\n    } else {\r\n      let item = {\r\n        itemCount: repeatCount,\r\n        totalCost: totalItemCost || Number(props.item.item_price),\r\n        custumization_arr: [...itemCustomizations],\r\n      };\r\n\r\n      versions = [...versions, item];\r\n    }\r\n\r\n    const count = versions.reduce((total, item) => total + item.itemCount, 0);\r\n\r\n    setState({\r\n      ...state,\r\n      itemCount: count,\r\n      versions: clone(versions),\r\n      f_cust_dialog: false,\r\n      f_repeat_drawer: false,\r\n    });\r\n\r\n    dispatch(\r\n      addItemToCart(\r\n        {\r\n          itemCount: count,\r\n          versions,\r\n          type: \"item\",\r\n          item_name: item.item_name,\r\n          item_price: item.item_price,\r\n          custumization_arr: item.custumization_arr,\r\n          food_type: item.food_type,\r\n        },\r\n        props.item._id\r\n      )\r\n    );\r\n  }\r\n\r\n  function subtractItem() {\r\n    let count = state.itemCount;\r\n    let versions = state.versions;\r\n    if (count > 0) {\r\n      count -= 1;\r\n    }\r\n\r\n    if (versions.length > 0) {\r\n      if (versions[versions.length - 1].itemCount === 1) {\r\n        versions = versions.slice(0, versions.length - 1);\r\n      } else {\r\n        versions[versions.length - 1].itemCount -= 1;\r\n      }\r\n    }\r\n\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      itemCount: count,\r\n      versions: [...versions],\r\n      f_cust_dialog: false,\r\n    }));\r\n\r\n    dispatch(removeItemFromCart(props.item._id, count));\r\n  }\r\n\r\n  useEffect(() => {\r\n    setState((prev) => ({\r\n      itemCount: props.cart_item?.itemCount || prev.itemCount,\r\n      versions: clone(props.cart_item?.versions) || prev.versions,\r\n    }));\r\n  }, [props.cart_item, props.cart_item?.itemCount, props.cart_item?.versions]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"partials\">\r\n        <Dialog\r\n          fullScreen\r\n          open={state.f_cust_dialog}\r\n          onClose={() => handleDialogClose(\"f_cust_dialog\")}\r\n          TransitionComponent={DialogTransition}\r\n        >\r\n          <CustumizationPage\r\n            item={item}\r\n            handleClose={() => handleDialogClose(\"f_cust_dialog\")}\r\n            addItem={addItem}\r\n          />\r\n        </Dialog>\r\n        <Drawer\r\n          anchor=\"bottom\"\r\n          open={state.f_repeat_drawer}\r\n          onClose={() => handleDialogClose(\"f_repeat_drawer\")}\r\n        >\r\n          <AppBar\r\n            position=\"sticky\"\r\n            style={{ backgroundColor: \"#f2f6fc\", color: \"black\" }}\r\n            elevation={0}\r\n          >\r\n            <Toolbar>\r\n              <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                <FoodSymbols\r\n                  food_type={item.food_type}\r\n                  style={{\r\n                    width: \"19px\",\r\n                    height: \"fit-content\",\r\n                  }}\r\n                />{\" \"}\r\n                <span style={{ fontSize: \"1.1rem\", marginLeft: \"5px\" }}>\r\n                  {item.item_name}\r\n                </span>{\" \"}\r\n              </div>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <div\r\n            style={{\r\n              color: \"#7e808c\",\r\n              fontSize: \"11px\",\r\n              fontFamily: \"'Open Sans'\",\r\n              fontWeight: 400,\r\n              padding: \"16px 16px 0\",\r\n            }}\r\n          >\r\n            {state.versions.length > 0 &&\r\n              state.versions[state.versions.length - 1].custumization_arr\r\n                .map((cust) => {\r\n                  return cust.options.map((opt) => opt.option).join(\", \");\r\n                })\r\n                .join(\" | \")}\r\n          </div>\r\n          <div\r\n            style={{\r\n              padding: \"16px\",\r\n              marginTop: \"10px\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <Button\r\n              onClick={() => handleDialogOpen(\"f_cust_dialog\")}\r\n              className={classes.repeatBtn}\r\n              style={{\r\n                color: \"#ffa400\",\r\n              }}\r\n            >\r\n              I'LL CHOOSE\r\n            </Button>\r\n            <Button\r\n              onClick={() => addItem(true)}\r\n              className={classes.repeatBtn}\r\n              style={{\r\n                backgroundColor: \"#ffa400\",\r\n                color: \"white\",\r\n              }}\r\n            >\r\n              REPEAT LAST\r\n            </Button>\r\n          </div>\r\n        </Drawer>\r\n      </div>\r\n      <Grid\r\n        style={{ paddingBottom: \"14px\" }}\r\n        container\r\n        alignItems=\"flex-start\"\r\n        justifyContent=\"space-between\"\r\n      >\r\n        <Grid\r\n          item\r\n          xs={!props.isPackage || Boolean(item.item_img?.imgURL) ? 7 : 12}\r\n        >\r\n          <Typography>\r\n            <FoodSymbols\r\n              food_type={item.food_type}\r\n              style={{ width: \"19px\", height: \"fit-content\" }}\r\n            />\r\n          </Typography>\r\n          <Typography className={classes.itemName}>{item.item_name}</Typography>\r\n          {!props.isPackage && (\r\n            <Typography className={classes.itemPrice}>\r\n              {item.item_price}\r\n            </Typography>\r\n          )}\r\n          {Boolean(item.item_desc?.length > 0) && (\r\n            <ExpandableText className={classes.itemDesc}>\r\n              {item.item_desc}\r\n            </ExpandableText>\r\n          )}\r\n        </Grid>\r\n        {(!props.isPackage || Boolean(item.item_img?.imgURL)) && (\r\n          <Grid\r\n            item\r\n            xs={4}\r\n            style={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n          >\r\n            <div\r\n              style={{\r\n                position: \"relative\",\r\n                minWidth: \"118px\",\r\n                height: Boolean(item.item_img?.imgURL)\r\n                  ? \"124px\"\r\n                  : \"fit-content\",\r\n                fontSize: 0,\r\n                textAlign: \"right\",\r\n                width: \"fit-content\",\r\n              }}\r\n            >\r\n              {Boolean(item.item_img?.imgURL) && (\r\n                <img\r\n                  alt=\"Item\"\r\n                  className={classes.itemImg}\r\n                  src={item.item_img?.imgURL}\r\n                />\r\n              )}\r\n              {!props.isPackage && (\r\n                <div\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    left: \"50%\",\r\n                    bottom: Boolean(item.item_img?.imgURL) ? \"5px\" : \"auto\",\r\n                    WebkitTransform: \"translateX(-50%)\",\r\n                    transform: \"translateX(-50%)\",\r\n                    zIndex: 1,\r\n                  }}\r\n                >\r\n                  <Button\r\n                    style={{\r\n                      background: \"white\",\r\n                      width: \"93px\",\r\n                      height: \"34px\",\r\n                      color: \"#ffa400\",\r\n                      // color: \"#21242b\",\r\n                      fontWeight: 600,\r\n                      fontFamily: \"'Proxima Nova', sans-serif\",\r\n                      border: \"1px solid #d4d5d9\",\r\n                      boxShadow: \"0 3px 8px rgb(0 0 0 / 8%)\",\r\n                    }}\r\n                    disableRipple\r\n                  >\r\n                    {state.itemCount === 0 ? (\r\n                      <div\r\n                        style={{ width: \"100%\", fontSize: \"1rem\" }}\r\n                        onClick={\r\n                          Boolean(item.custumization_arr.length > 0)\r\n                            ? () => handleDialogOpen(\"f_cust_dialog\")\r\n                            : () => addItem(true)\r\n                        }\r\n                      >\r\n                        ADD\r\n                        {Boolean(item.custumization_arr.length > 0) && (\r\n                          <span\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              right: \"4px\",\r\n                              lineHeight: 1,\r\n                              top: 0,\r\n                              padding: \"3px\",\r\n                            }}\r\n                          >\r\n                            +\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    ) : (\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-between\",\r\n                          alignItems: \"center\",\r\n                          width: \"100%\",\r\n                        }}\r\n                      >\r\n                        <button\r\n                          onClick={subtractItem}\r\n                          className={classes.addSubBtn}\r\n                        >\r\n                          <i\r\n                            style={{\r\n                              fontSize: \"0.7rem\",\r\n                              verticalAlign: \"middle\",\r\n                              color: \"#aeafb5\",\r\n                            }}\r\n                            className=\"fas fa-minus\"\r\n                          ></i>\r\n                        </button>\r\n                        <span>{state.itemCount}</span>\r\n                        <button\r\n                          onClick={\r\n                            Boolean(item.custumization_arr.length > 0)\r\n                              ? () => handleDialogOpen(\"f_repeat_drawer\")\r\n                              : () => addItem(true)\r\n                          }\r\n                          className={classes.addSubBtn}\r\n                        >\r\n                          +\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </Button>\r\n                  {Boolean(item.custumization_arr.length > 0) && (\r\n                    <div\r\n                      style={{\r\n                        position: \"absolute\",\r\n                        right: 0,\r\n                        left: 0,\r\n                        top: \"40px\",\r\n                        fontSize: \".67rem\",\r\n                        fontWeight: 400,\r\n                        color: \"#7e808c\",\r\n                        textAlign: \"center\",\r\n                        fontFamily: \"'Open Sans'\",\r\n                      }}\r\n                    >\r\n                      Customisable\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\nItem.defaultProps = {\r\n  isPackage: false,\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Button, Dialog, IconButton, Paper } from \"@material-ui/core\";\r\nimport FoodSymbols from \"../assets/FoodSymbols\";\r\nimport BackIcon from \"../assets/BackIcon\";\r\nimport DialogTransition from \"../shared/DialogTransition\";\r\nimport Item from \"./Item\";\r\nimport CustumizationPage from \"./CutumizationPage\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    backgroundColor: \"#f2f6fc\",\r\n    color: \"black\",\r\n  },\r\n  dottedSeperator: {\r\n    border: \"none\",\r\n    borderBottom: \"10px solid #ececec\",\r\n    width: \"100%\",\r\n    margin: \"20px auto 15px auto\",\r\n  },\r\n}));\r\n\r\nexport default function PackageItemsPage(props) {\r\n  const classes = useStyles();\r\n\r\n  const [state, setState] = useState({\r\n    f_cust_dialog: false,\r\n  });\r\n  const [curState, setCurState] = useState(null);\r\n\r\n  const handleDialogOpen = (flagName) => {\r\n    setState({\r\n      ...state,\r\n      [flagName]: true,\r\n    });\r\n  };\r\n\r\n  const handleDialogClose = (flagName) => {\r\n    setState({\r\n      ...state,\r\n      [flagName]: false,\r\n    });\r\n    props.handleClose();\r\n  };\r\n\r\n  const goBack = (isPopped = false) => {\r\n    if (!isPopped) {\r\n      window.history.back();\r\n    }\r\n\r\n    props.handleClose();\r\n  };\r\n\r\n  const onBackButtonEvent = (e) => {\r\n    e.preventDefault();\r\n    goBack(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCurState(window.history.state);\r\n    window.history.pushState(\r\n      window.history.state,\r\n      null,\r\n      window.location.pathname + \"#package-items\"\r\n    );\r\n\r\n    window.addEventListener(\"popstate\", onBackButtonEvent);\r\n    return () => {\r\n      window.removeEventListener(\"popstate\", onBackButtonEvent);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"partials\">\r\n        <Dialog\r\n          fullScreen\r\n          open={state.f_cust_dialog}\r\n          onClose={() => handleDialogClose(\"f_cust_dialog\")}\r\n          TransitionComponent={DialogTransition}\r\n        >\r\n          <CustumizationPage\r\n            item={props.m_package}\r\n            handleClose={() => handleDialogClose(\"f_cust_dialog\")}\r\n            addItem={props.addItem}\r\n            decideFoodType={props.decideFoodType}\r\n            isPackage={true}\r\n          />\r\n        </Dialog>\r\n      </div>\r\n      <AppBar position=\"sticky\" className={classes.appBar} elevation={0}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            onClick={() => goBack()}\r\n            aria-label=\"close\"\r\n          >\r\n            <BackIcon />\r\n          </IconButton>\r\n          <Typography\r\n            style={{\r\n              fontSize: \"1.12rem\",\r\n              fontWeight: 600,\r\n              fontFamily: \"Open Sans\",\r\n            }}\r\n          >\r\n            Package Items\r\n          </Typography>\r\n        </Toolbar>\r\n        <Toolbar>\r\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n            <FoodSymbols\r\n              food_type={props.decideFoodType()}\r\n              style={{\r\n                width: \"19px\",\r\n                height: \"fit-content\",\r\n              }}\r\n            />{\" \"}\r\n            <span style={{ fontSize: \"1.1rem\", marginLeft: \"5px\" }}>\r\n              {props.m_package.package_name}\r\n            </span>{\" \"}\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Paper\r\n        style={{ padding: \"15px\", marginTop: \"20px\", marginBottom: \"60px\" }}\r\n        elevation={0}\r\n      >\r\n        {props.m_package.items.map((ele, idx, arr) => (\r\n          <div key={idx}>\r\n            <div style={{ paddingBottom: \"60pxpx\" }}>\r\n              {\" \"}\r\n              <Item key={ele._id} item={ele} isPackage={true} />{\" \"}\r\n            </div>\r\n            {arr.length !== idx + 1 && (\r\n              <hr\r\n                style={{\r\n                  borderWidth: \"1.5px\",\r\n                  margin: \"6px 0 20px 0\",\r\n                }}\r\n                className={classes.dottedSeperator}\r\n              ></hr>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </Paper>\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          bottom: 0,\r\n          left: 0,\r\n          right: 0,\r\n          zIndex: 10,\r\n          borderTop: \"1px solid lightgrey\",\r\n          padding: \"5px 10px\",\r\n          display: \"flex\",\r\n          justifyContent: \"space-around\",\r\n          backgroundColor: \"white\",\r\n        }}\r\n      >\r\n        <Button\r\n          onClick={\r\n            Boolean(props.m_package.custumization_arr.length > 0)\r\n              ? () => handleDialogOpen(\"f_cust_dialog\")\r\n              : () => {\r\n                  goBack();\r\n                  setTimeout(() => props.addItem(true), 10);\r\n                }\r\n          }\r\n          style={{\r\n            width: \"90%\",\r\n            padding: \"7px\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            borderRadius: \"6px\",\r\n            background: \"rgb(255 215 34)\",\r\n            fontWeight: \"700\",\r\n            textTransform: \"capitalize\",\r\n          }}\r\n        >\r\n          Continue\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nPackageItemsPage.defaultProps = {\r\n  isPackage: true,\r\n};\r\n","import {\r\n  AppBar,\r\n  Button,\r\n  Dialog,\r\n  Drawer,\r\n  Grid,\r\n  Toolbar,\r\n  Typography,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport { clone } from \"ramda\";\r\nimport React, { useState } from \"react\";\r\nimport FoodSymbols from \"../assets/FoodSymbols\";\r\nimport DialogTransition from \"../shared/DialogTransition\";\r\nimport { addItem as addPackageToCart } from \"../../../redux/actions/cart\";\r\nimport { removeItem as removePackageFromCart } from \"../../../redux/actions/cart\";\r\nimport useStyles from \"../styles/main\";\r\nimport ExpandableText from \"./ExpandableText\";\r\nimport PackageItemsPage from \"./PackageItemsPage\";\r\nimport { connect, useDispatch } from \"react-redux\";\r\nimport { findCartItem } from \"../utils/helper\";\r\n\r\nfunction Package(props) {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const cart_package = findCartItem(props.cart, props.package._id);\r\n  const [state, setState] = useState({\r\n    itemCount: cart_package?.itemCount || 0,\r\n    f_items_dialog: false,\r\n    f_repeat_drawer: false,\r\n    versions: cart_package?.versions || [],\r\n  });\r\n\r\n  const { package: m_package } = props;\r\n\r\n  const handleDialogOpen = (flagName) => {\r\n    setState({\r\n      ...state,\r\n      [flagName]: true,\r\n    });\r\n  };\r\n\r\n  const handleDialogClose = (flagName) => {\r\n    setState({\r\n      ...state,\r\n      [flagName]: false,\r\n    });\r\n  };\r\n\r\n  function addItem(\r\n    isRepeatLast = false,\r\n    itemCustomizations = [],\r\n    totalPackageCost = 0,\r\n    repeatCount = 1\r\n  ) {\r\n    let versions = clone(state.versions);\r\n\r\n    if (isRepeatLast && versions.length > 0) {\r\n      versions[versions.length - 1].itemCount += 1;\r\n    } else {\r\n      let item = {\r\n        itemCount: repeatCount,\r\n        totalCost: totalPackageCost || Number(props.package.package_price),\r\n        custumization_arr: [...itemCustomizations],\r\n      };\r\n\r\n      versions = [...versions, item];\r\n    }\r\n\r\n    let count = versions.reduce((total, item) => total + item.itemCount, 0);\r\n\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      itemCount: count,\r\n      versions: clone(versions),\r\n      f_items_dialog: false,\r\n      f_repeat_drawer: false,\r\n    }));\r\n\r\n    dispatch(\r\n      addPackageToCart(\r\n        {\r\n          itemCount: count,\r\n          versions,\r\n          type: \"package\",\r\n          package_name: m_package.package_name,\r\n          package_price: m_package.package_price,\r\n          items: m_package.items,\r\n          custumization_arr: m_package.custumization_arr,\r\n          food_type: decideFoodType(m_package.items),\r\n        },\r\n        m_package._id\r\n      )\r\n    );\r\n  }\r\n\r\n  function subtractItem() {\r\n    let count = state.itemCount;\r\n    let versions = state.versions;\r\n\r\n    if (count > 0) {\r\n      count -= 1;\r\n    }\r\n\r\n    if (versions.length > 0) {\r\n      if (versions[versions.length - 1].itemCount === 1) {\r\n        versions = versions.slice(0, versions.length - 1);\r\n      } else {\r\n        versions[versions.length - 1].itemCount -= 1;\r\n      }\r\n    }\r\n\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      itemCount: count,\r\n      versions: [...versions],\r\n      f_items_dialog: false,\r\n    }));\r\n\r\n    dispatch(removePackageFromCart(props.package._id, count));\r\n  }\r\n\r\n  const decideFoodType = () => {\r\n    let flag = false;\r\n\r\n    flag = m_package.items.some((item) => item.food_type === \"non_veg\");\r\n\r\n    if (flag) return \"non_veg\";\r\n\r\n    flag = m_package.items.some((item) => item.food_type === \"egg_only\");\r\n\r\n    if (flag) return \"egg_only\";\r\n\r\n    return \"veg\";\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"partials\">\r\n        <Dialog\r\n          fullScreen\r\n          open={state.f_items_dialog}\r\n          onClose={() => handleDialogClose(\"f_items_dialog\")}\r\n          TransitionComponent={DialogTransition}\r\n        >\r\n          <PackageItemsPage\r\n            m_package={m_package}\r\n            handleClose={() => handleDialogClose(\"f_items_dialog\")}\r\n            addItem={addItem}\r\n            decideFoodType={decideFoodType}\r\n            isPackage={true}\r\n          />\r\n        </Dialog>\r\n        <Drawer\r\n          anchor=\"bottom\"\r\n          open={state.f_repeat_drawer}\r\n          onClose={() => handleDialogClose(\"f_repeat_drawer\")}\r\n        >\r\n          <AppBar\r\n            position=\"sticky\"\r\n            style={{ backgroundColor: \"#f2f6fc\", color: \"black\" }}\r\n            elevation={0}\r\n          >\r\n            <Toolbar>\r\n              <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                <FoodSymbols\r\n                  food_type={decideFoodType()}\r\n                  style={{\r\n                    width: \"19px\",\r\n                    height: \"fit-content\",\r\n                  }}\r\n                />{\" \"}\r\n                <span style={{ fontSize: \"1.1rem\", marginLeft: \"5px\" }}>\r\n                  {m_package.package_name}\r\n                </span>{\" \"}\r\n              </div>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <div\r\n            style={{\r\n              color: \"#7e808c\",\r\n              fontSize: \"11px\",\r\n              fontFamily: \"'Open Sans'\",\r\n              fontWeight: 400,\r\n              padding: \"16px 16px 0\",\r\n            }}\r\n          >\r\n            {state.versions.length > 0 &&\r\n              state.versions[state.versions.length - 1].custumization_arr\r\n                .map((cust) => {\r\n                  return cust.options.map((opt) => opt.option).join(\", \");\r\n                })\r\n                .join(\" | \")}\r\n          </div>\r\n          <div\r\n            style={{\r\n              padding: \"16px\",\r\n              marginTop: \"10px\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <Button\r\n              onClick={() => handleDialogOpen(\"f_items_dialog\")}\r\n              className={classes.repeatBtn}\r\n              style={{\r\n                color: \"#ffa400\",\r\n              }}\r\n            >\r\n              I'LL CHOOSE\r\n            </Button>\r\n            <Button\r\n              onClick={() => addItem(true)}\r\n              className={classes.repeatBtn}\r\n              style={{\r\n                backgroundColor: \"#ffa400\",\r\n                color: \"white\",\r\n              }}\r\n            >\r\n              REPEAT LAST\r\n            </Button>\r\n          </div>\r\n        </Drawer>\r\n      </div>\r\n      <Paper elevation={0}>\r\n        <Grid\r\n          style={{ paddingBottom: \"14px\" }}\r\n          container\r\n          alignItems=\"flex-start\"\r\n          justifyContent=\"space-between\"\r\n        >\r\n          <Grid item xs={7}>\r\n            <Typography>\r\n              <FoodSymbols\r\n                food_type={decideFoodType()}\r\n                style={{ width: \"19px\", height: \"fit-content\" }}\r\n              />\r\n            </Typography>\r\n            <Typography className={classes.itemName}>\r\n              {m_package.package_name}\r\n            </Typography>\r\n            <Typography className={classes.itemPrice}>\r\n              {m_package.package_price}\r\n            </Typography>\r\n            {Boolean(m_package.package_desc.length > 0) && (\r\n              <ExpandableText className={classes.itemDesc}>\r\n                {m_package.package_desc}\r\n              </ExpandableText>\r\n            )}\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={4}\r\n            style={{ display: \"flex\", justifyContent: \"flex-end\" }}\r\n          >\r\n            <div\r\n              style={{\r\n                position: \"relative\",\r\n                minWidth: \"118px\",\r\n                height: \"fit-content\",\r\n                fontSize: 0,\r\n                textAlign: \"right\",\r\n                width: \"fit-content\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  left: \"50%\",\r\n                  bottom: \"auto\",\r\n                  WebkitTransform: \"translateX(-50%)\",\r\n                  transform: \"translateX(-50%)\",\r\n                  zIndex: 1,\r\n                }}\r\n              >\r\n                <Button\r\n                  style={{\r\n                    background: \"white\",\r\n                    width: \"93px\",\r\n                    height: \"34px\",\r\n                    color: \"#ffa400\",\r\n                    fontWeight: 600,\r\n                    border: \"1px solid #d4d5d9\",\r\n                    boxShadow: \"0 3px 8px rgb(0 0 0 / 8%)\",\r\n                  }}\r\n                  disableRipple\r\n                >\r\n                  {state.itemCount === 0 ? (\r\n                    <div\r\n                      style={{ width: \"100%\" }}\r\n                      onClick={() => handleDialogOpen(\"f_items_dialog\")}\r\n                    >\r\n                      ADD\r\n                      {Boolean(m_package.custumization_arr.length > 0) && (\r\n                        <span\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            right: \"4px\",\r\n                            lineHeight: 1,\r\n                            top: 0,\r\n                            padding: \"3px\",\r\n                          }}\r\n                        >\r\n                          +\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  ) : (\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                        alignItems: \"center\",\r\n                        width: \"100%\",\r\n                      }}\r\n                    >\r\n                      <button\r\n                        onClick={subtractItem}\r\n                        className={classes.addSubBtn}\r\n                      >\r\n                        <i\r\n                          style={{\r\n                            fontSize: \"0.7rem\",\r\n                            verticalAlign: \"middle\",\r\n                            color: \"#aeafb5\",\r\n                          }}\r\n                          className=\"fas fa-minus\"\r\n                        ></i>\r\n                      </button>\r\n                      <span>{state.itemCount}</span>\r\n                      <button\r\n                        onClick={\r\n                          m_package.custumization_arr.length > 0\r\n                            ? () => handleDialogOpen(\"f_repeat_drawer\")\r\n                            : () => addItem(true)\r\n                        }\r\n                        className={classes.addSubBtn}\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </Button>\r\n                {Boolean(m_package.custumization_arr.length > 0) && (\r\n                  <div\r\n                    style={{\r\n                      position: \"absolute\",\r\n                      right: 0,\r\n                      left: 0,\r\n                      top: \"40px\",\r\n                      fontSize: \".67rem\",\r\n                      fontWeight: 400,\r\n                      color: \"#7e808c\",\r\n                      textAlign: \"center\",\r\n                      fontFamily: \"'Open Sans'\",\r\n                    }}\r\n                  >\r\n                    Customisable\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  cart: state.cart,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Package);\r\n","import {\r\n  AppBar,\r\n  Grid,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport React, { memo, useEffect, useState } from \"react\";\r\nimport BackIcon from \"../assets/BackIcon\";\r\nimport { clone } from \"ramda\";\r\nimport Item from \"./Item\";\r\nimport useMainStyles from \"../styles/main\";\r\nimport {\r\n  decideFoodType,\r\n  findCartItem,\r\n  findOriginalPackage,\r\n  getMenuType,\r\n} from \"../utils/helper\";\r\nimport Package from \"./Package\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst SearchItem = memo(Item);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    height: \"53px\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"black\",\r\n    borderBottom: \"1px solid rgb(175 175 175 / 20%)\",\r\n  },\r\n}));\r\n\r\nfunction MenuSearchPage(props) {\r\n  const classes = useStyles();\r\n  const m_classes = useMainStyles();\r\n  const [state, setState] = useState({\r\n    search_text: \"\",\r\n    filtered_menu: [],\r\n  });\r\n  const [curState, setCurState] = useState(null);\r\n\r\n  const { menu } = props;\r\n\r\n  const handleSearchTextChange = (evt) => {\r\n    let query = evt.target.value;\r\n    let list = [];\r\n    let deciderValue = 2 * query.trim().split(\" \").length - 1;\r\n    if (query.length > deciderValue) {\r\n      list = filterItems(query);\r\n    } else {\r\n      list = [];\r\n    }\r\n\r\n    setState((prev) => ({\r\n      ...prev,\r\n      search_text: query,\r\n      filtered_menu: [...list],\r\n    }));\r\n  };\r\n\r\n  const clearSearchText = () => {\r\n    setState({\r\n      ...state,\r\n      search_text: \"\",\r\n      filtered_menu: [],\r\n    });\r\n  };\r\n\r\n  const filterItems = (query) => {\r\n    const key = query.toLowerCase();\r\n    let menu = clone(props.menu);\r\n    let filteredMenu = [\r\n      {\r\n        section_name: \"Food Menu\",\r\n        type: getMenuType(menu.food),\r\n        list: search(key, menu.food, getMenuType(menu.food)),\r\n      },\r\n      {\r\n        section_name: \"Bar Menu\",\r\n        type: getMenuType(menu.bar),\r\n        list: search(key, menu.bar, getMenuType(menu.bar)),\r\n      },\r\n      {\r\n        section_name: \"Buffet Menu\",\r\n        type: getMenuType(menu.buffet),\r\n        list: search(key, menu.buffet, getMenuType(menu.buffet)),\r\n      },\r\n    ];\r\n\r\n    filteredMenu = filteredMenu.filter((section) => section.list.length > 0);\r\n\r\n    return filteredMenu;\r\n  };\r\n  const search = (key, list, type = \"category\") => {\r\n    const tokenArr = key.split(\" \");\r\n    const nameAttr = type === \"package\" ? \"package_name\" : \"item_name\";\r\n    let lvl1Ids = [];\r\n    let lvl2Ids = [];\r\n    let filteredList = [];\r\n    // PreProcess the List when the Menu is changed\r\n    if (type !== \"package\") {\r\n      list = type === \"category\" ? preProcessList(list) : list;\r\n      list = list.filter((item) => !props.is_veg || item.food_type === \"veg\");\r\n    } else {\r\n      list = list.filter(\r\n        (i_package) =>\r\n          !props.is_veg || decideFoodType(i_package.items) === \"veg\"\r\n      );\r\n    }\r\n\r\n    let lvl1List = tokenArr\r\n      .map((token) => {\r\n        if (token.length <= 1) {\r\n          return [];\r\n        }\r\n        return list.filter((item) => {\r\n          if (\r\n            !lvl1Ids.includes(item._id) &&\r\n            item[nameAttr].toLowerCase().startsWith(token)\r\n          ) {\r\n            lvl1Ids = [...lvl1Ids, item._id];\r\n            return true;\r\n          }\r\n\r\n          return false;\r\n        });\r\n      })\r\n      .flat();\r\n\r\n    list = list.filter((item) => !lvl1Ids.includes(item._id));\r\n\r\n    let lvl2List = tokenArr\r\n      .map((token) => {\r\n        if (token.length <= 1) {\r\n          return [];\r\n        }\r\n        return list.filter((item) => {\r\n          if (\r\n            !lvl2Ids.includes(item._id) &&\r\n            item[nameAttr].toLowerCase().includes(token)\r\n          ) {\r\n            lvl2Ids = [...lvl2Ids, item._id];\r\n            return true;\r\n          }\r\n\r\n          return false;\r\n        });\r\n      })\r\n      .flat();\r\n\r\n    list = list.filter((item) => !lvl2Ids.includes(item._id));\r\n    filteredList = [...lvl1List, ...lvl2List];\r\n\r\n    if (type === \"package\") {\r\n      filteredList = filteredList.map((pack) => {\r\n        pack.items = search(key, pack.items, \"item\");\r\n        return pack;\r\n      });\r\n\r\n      list = list.map((pack) => {\r\n        pack.items = search(key, pack.items, \"item\");\r\n        return pack;\r\n      });\r\n\r\n      list = list.filter((pack) => pack.items.length > 0);\r\n\r\n      filteredList = [...filteredList, ...list];\r\n    }\r\n\r\n    return filteredList;\r\n  };\r\n\r\n  const preProcessList = (list) => {\r\n    return list.map((cat) => cat.items).flat();\r\n  };\r\n\r\n  const goBack = (isPopped = false) => {\r\n    if (!isPopped) {\r\n      window.history.back();\r\n    }\r\n\r\n    props.handleClose();\r\n  };\r\n\r\n  const onBackButtonEvent = (e) => {\r\n    e.preventDefault();\r\n    goBack(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCurState(window.history.state);\r\n    window.history.pushState(\r\n      window.history.state,\r\n      null,\r\n      window.location.pathname + \"#search\"\r\n    );\r\n    window.addEventListener(\"popstate\", onBackButtonEvent);\r\n    return () => {\r\n      window.removeEventListener(\"popstate\", onBackButtonEvent);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <AppBar className={classes.appBar} position=\"sticky\" elevation={0}>\r\n        <Toolbar>\r\n          <Grid container justifyContent=\"space-between\" alignItems=\"center\">\r\n            <Grid\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n              }}\r\n              item\r\n              xs={1}\r\n            >\r\n              <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                onClick={() => goBack()}\r\n                aria-label=\"close\"\r\n              >\r\n                <BackIcon />\r\n              </IconButton>\r\n            </Grid>\r\n            <Grid item xs={9}>\r\n              <input\r\n                style={{\r\n                  fontSize: \"1rem\",\r\n                  lineHeight: \"20px\",\r\n                  width: \"100%\",\r\n                  height: \"100%\",\r\n                  outline: 0,\r\n                  border: \"none\",\r\n                  overflow: \"hidden\",\r\n                  color: \"inherit\",\r\n                  background: \"inherit\",\r\n                  verticalAlign: \"middle\",\r\n                  fontFamily: \"Nunito\",\r\n                  letterSpacing: \"-0.3px\",\r\n                }}\r\n                type=\"text\"\r\n                name=\"search_text\"\r\n                value={state.search_text}\r\n                placeholder=\"Search in menu..\"\r\n                onChange={handleSearchTextChange}\r\n                autoFocus\r\n              />\r\n            </Grid>\r\n            <Grid\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"flex-end\",\r\n                alignItems: \"center\",\r\n              }}\r\n              item\r\n              xs={1}\r\n            >\r\n              {state.search_text.length > 0 && (\r\n                <img\r\n                  onClick={clearSearchText}\r\n                  style={{ width: \"27px\" }}\r\n                  src=\"https://img.icons8.com/ios/50/000000/multiply.png\"\r\n                  alt=\"Close Icon\"\r\n                />\r\n              )}\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div>\r\n        {state.filtered_menu.map((section, idx) => (\r\n          <section style={{ padding: \"15px\" }} key={idx}>\r\n            <Typography style={{ marginBottom: \"18px\", fontWeight: \"600\" }}>\r\n              {`In ${section.section_name}`}\r\n            </Typography>\r\n            {section.list.map((item, itemIdx, arr) => (\r\n              <div key={itemIdx}>\r\n                <div style={{ paddingBottom: \"14px\" }}>\r\n                  {\" \"}\r\n                  {section.type === \"category\" ? (\r\n                    <Item\r\n                      key={`${item._id}-${itemIdx}`}\r\n                      item={item}\r\n                      cart_item={findCartItem(props.cart, item._id)}\r\n                    />\r\n                  ) : (\r\n                    <div>\r\n                      <Package\r\n                        package={findOriginalPackage(menu, item._id)}\r\n                        key={`${item._id}-${itemIdx}`}\r\n                      />\r\n                      {item.items.length > 0 && (\r\n                        <div\r\n                          style={{\r\n                            border: \"1px solid lightgray\",\r\n                            padding: \"6px 12.5px 12px 12.5px\",\r\n                            borderRadius: \"8px\",\r\n                            paddingTop: \"6px\",\r\n                          }}\r\n                        >\r\n                          <Typography\r\n                            style={{\r\n                              fontSize: \"1rem\",\r\n                              fontWeight: 600,\r\n                              margin: \"8px 0px 12px 0px\",\r\n                              textAlign: \"center\",\r\n                            }}\r\n                          >\r\n                            In Package Items\r\n                          </Typography>\r\n                          {item.items.map((packItem, idx, itemArr) => (\r\n                            <div>\r\n                              <Item\r\n                                key={`${item._id}-${idx}`}\r\n                                item={packItem}\r\n                                isPackage={true}\r\n                              />\r\n                              {itemArr.length !== idx + 1 && (\r\n                                <hr\r\n                                  style={{\r\n                                    borderWidth: \"1.5px\",\r\n                                    margin: \"6px 0 20px 0\",\r\n                                  }}\r\n                                  className={m_classes.dottedSeperator}\r\n                                ></hr>\r\n                              )}\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}{\" \"}\r\n                </div>\r\n                {arr.length !== itemIdx + 1 && (\r\n                  <hr\r\n                    style={{\r\n                      borderWidth: \"1.5px\",\r\n                      margin: \"6px 0 20px 0\",\r\n                    }}\r\n                    className={m_classes.dottedSeperator}\r\n                  ></hr>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </section>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  cart: state.cart,\r\n});\r\n\r\nexport default connect(mapStateToProps)(MenuSearchPage);\r\n","import { Dialog, Paper, Toolbar, Typography } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport DialogTransition from \"../shared/DialogTransition\";\r\nimport useStyles from \"../styles/main\";\r\nimport CustumSwitch from \"./CustumSwitch\";\r\nimport MenuSearchPage from \"./MenuSearchPage\";\r\n\r\nconst MenuSearchBar = (props) => {\r\n  const classes = useStyles();\r\n  const [state, setState] = useState({\r\n    f_search_dialog: false,\r\n  });\r\n\r\n  const { isVegOnly, setVegOnly, isAtTop } = props;\r\n\r\n  const handleDialogOpen = (flagName) => {\r\n    setState({\r\n      ...state,\r\n      [flagName]: true,\r\n    });\r\n  };\r\n\r\n  const handleDialogClose = (flagName) => {\r\n    setState({\r\n      ...state,\r\n      [flagName]: false,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"partials\">\r\n        <Dialog\r\n          fullScreen\r\n          open={state.f_search_dialog}\r\n          onClose={() => handleDialogClose(\"f_search_dialog\")}\r\n          TransitionComponent={DialogTransition}\r\n        >\r\n          <MenuSearchPage\r\n            is_veg={isVegOnly}\r\n            handleClose={() => handleDialogClose(\"f_search_dialog\")}\r\n            menu={props.menu}\r\n          />\r\n        </Dialog>\r\n      </div>\r\n      <Toolbar\r\n        id=\"menu-search-bar\"\r\n        style={{\r\n          backgroundColor: \"white\",\r\n          color: \"#3d4152\",\r\n          paddingTop: \"5px\",\r\n          borderBottom: isAtTop ? \"1px solid lightgray\" : \"none\",\r\n        }}\r\n      >\r\n        <Typography style={{ paddingLeft: \"4px\" }}>\r\n          <CustumSwitch\r\n            isChecked={isVegOnly}\r\n            setChecked={setVegOnly}\r\n            switchLabel=\"veg only\"\r\n          />\r\n        </Typography>\r\n        <Paper\r\n          onClick={() => handleDialogOpen(\"f_search_dialog\")}\r\n          className={classes.searchBtn}\r\n          elevation={0}\r\n        >\r\n          <img\r\n            style={{ width: \"26px\", verticalAlign: \"middle\" }}\r\n            alt=\"Search Icon\"\r\n            src=\"https://img.icons8.com/ios-glyphs/30/000000/search--v1.png\"\r\n          />\r\n        </Paper>\r\n      </Toolbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuSearchBar;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport { withStyles } from \"@material-ui/styles\";\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `scrollable-auto-tab-${index}`,\r\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`,\r\n    disableRipple: true,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nconst MyTabs = withStyles({\r\n  indicator: {\r\n    backgroundColor: \" #282c3f\",\r\n    height: \"3px\",\r\n    borderTopLeftRadius: \"4px\",\r\n    borderTopRightRadius: \"4px\",\r\n  },\r\n  flexContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-around\",\r\n    padding: \"5px\",\r\n  },\r\n})(Tabs);\r\n\r\nconst MyTab = withStyles({\r\n  root: {\r\n    fontWeight: 700,\r\n    fontSize: \"16px\",\r\n    textTransform: \"capitalize\",\r\n    color: \"#282c3f\",\r\n    opacity: \"0.6\",\r\n    fontFamily: \"'Proxima Nova'\",\r\n  },\r\n  selected: {\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    opacity: 1,\r\n  },\r\n})(Tab);\r\n\r\nexport default function MenuTabs(props) {\r\n  const classes = useStyles();\r\n  const { tabValue, setTabValue } = props;\r\n\r\n  const handleChange = (evt, newValue) => {\r\n    setTabValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div id=\"menu-tabs\" className={classes.root}>\r\n      <AppBar\r\n        position=\"static\"\r\n        style={{ backgroundColor: \"#f1f1f6\" }}\r\n        elevation={0}\r\n      >\r\n        <MyTabs\r\n          value={tabValue}\r\n          onChange={handleChange}\r\n          variant=\"scrollable\"\r\n          scrollButtons=\"auto\"\r\n          aria-label=\"scrollable auto tabs menu\"\r\n          centered={props.numTabs < 3}\r\n        >\r\n          <MyTab label={<span>{\"Food Menu\"}</span>} {...a11yProps(0)} />\r\n          <MyTab label={<span>{\"Bar Menu\"}</span>} {...a11yProps(1)} />\r\n          <MyTab label={<span>{\"Buffet Menu\"}</span>} {...a11yProps(2)} />\r\n        </MyTabs>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\r\nimport Logo from \"../../../layouts/components/Logo\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport useStyles from \"../styles/app_bar\";\r\nimport { Button, Popover, Typography } from \"@material-ui/core\";\r\nimport MenuRoundedIcon from \"@material-ui/icons/MenuRounded\";\r\nimport NotificationsPausedRoundedIcon from \"@material-ui/icons/NotificationsPausedRounded\";\r\nimport OptionsMenu from \"./OptionsMenu\";\r\nimport MenuSearchBar from \"./MenuSearchBar\";\r\nimport MenuTabs from \"./MenuTabs\";\r\n\r\nconst HideOnScroll = (props) => {\r\n  const { children } = props;\r\n\r\n  const trigger = useScrollTrigger();\r\n\r\n  return (\r\n    <Slide appear={false} direction=\"down\" in={!trigger}>\r\n      {children}\r\n    </Slide>\r\n  );\r\n};\r\n\r\nHideOnScroll.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nconst MenuAppBar = (props) => {\r\n  const classes = useStyles();\r\n  const [state, setState] = useState({\r\n    anchorEl: null,\r\n  });\r\n\r\n  const handleMenuOpen = (evt) => {\r\n    setState({\r\n      ...state,\r\n      anchorEl: evt.currentTarget,\r\n    });\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setState({\r\n      ...state,\r\n      anchorEl: null,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar\r\n        color=\"transparent\"\r\n        style={{ zIndex: 10 }}\r\n        id=\"menu-app-bar\"\r\n        elevation={0}\r\n      >\r\n        <Toolbar id=\"menu-tool-bar\" className={classes.appBarRoot}>\r\n          <Typography variant=\"h6\" noWrap>\r\n            <Logo width=\"100px\" height=\"50px\" />\r\n          </Typography>\r\n          <div className={classes.appBarOptions}>\r\n            <Button\r\n              style={{\r\n                width: \"fit-content\",\r\n                minWidth: \"1rem\",\r\n                color: \"white\",\r\n                borderRadius: \"4px\",\r\n                marginRight: \"20px\",\r\n                padding: \"0px\",\r\n                \"&:hover\": {\r\n                  opacity: 0.8,\r\n                },\r\n              }}\r\n            >\r\n              <NotificationsPausedRoundedIcon />\r\n            </Button>\r\n\r\n            <Button\r\n              onClick={handleMenuOpen}\r\n              aria-describedby={\r\n                Boolean(state.anchorEl) ? \"options-menu-popover\" : undefined\r\n              }\r\n              style={{\r\n                backgroundColor: \"#5A5F73\",\r\n                width: \"fit-content\",\r\n                minWidth: \"1rem\",\r\n                color: \"white\",\r\n                borderRadius: \"4px\",\r\n                padding: \"3px\",\r\n                \"&:hover\": {\r\n                  opacity: 0.8,\r\n                },\r\n              }}\r\n            >\r\n              <MenuRoundedIcon />\r\n            </Button>\r\n\r\n            <Popover\r\n              id={Boolean(state.anchorEl) ? \"options-menu-popover\" : undefined}\r\n              style={{ paddingRight: \"15px\" }}\r\n              open={Boolean(state.anchorEl)}\r\n              onClose={handleMenuClose}\r\n              anchorEl={state.anchorEl}\r\n              anchorOrigin={{\r\n                vertical: \"bottom\",\r\n                horizontal: \"right\",\r\n              }}\r\n              transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n            >\r\n              <OptionsMenu />\r\n            </Popover>\r\n          </div>\r\n        </Toolbar>\r\n\r\n        {props.isAtTop && (\r\n          <>\r\n            <MenuTabs\r\n              numTabs={3}\r\n              tabValue={props.tabValue}\r\n              setTabValue={props.setTabValue}\r\n            />\r\n            <MenuSearchBar\r\n              isVegOnly={props.isVegOnly}\r\n              setVegOnly={props.setVegOnly}\r\n              isAtTop={props.isAtTop}\r\n              menu={props.menu}\r\n            />\r\n          </>\r\n        )}\r\n      </AppBar>\r\n      <Toolbar />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default MenuAppBar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nexport default function TabPanel(props) {\r\n  //Content\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-auto-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-auto-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n","import { Collapse, Paper, Typography } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport useStyles from \"../styles/main\";\r\nimport Item from \"./Item\";\r\nimport KeyboardArrowDownRoundedIcon from \"@material-ui/icons/KeyboardArrowDownRounded\";\r\nimport KeyboardArrowUpRoundedIcon from \"@material-ui/icons/KeyboardArrowUpRounded\";\r\nimport { connect } from \"react-redux\";\r\nimport { findCartItem } from \"../utils/helper\";\r\n\r\nfunction Category(props) {\r\n  const [isCategoryOpen, setIsCategoryOpen] = useState(true);\r\n  const classes = useStyles();\r\n  const { category } = props;\r\n  const styleObj = isCategoryOpen\r\n    ? {}\r\n    : {\r\n        display: \"none\",\r\n      };\r\n\r\n  const handleCollapse = () => {\r\n    setIsCategoryOpen(!isCategoryOpen);\r\n  };\r\n\r\n  return (\r\n    <Paper\r\n      id={props.id}\r\n      style={{ padding: \"24px 8px 16px 16px\" }}\r\n      elevation={0}\r\n    >\r\n      <Typography\r\n        style={{ marginBottom: isCategoryOpen ? \"24px\" : 0 }}\r\n        onClick={handleCollapse}\r\n        className={classes.categoryName}\r\n      >\r\n        {category.category_name + ` (${category.items.length})`}\r\n        {isCategoryOpen ? (\r\n          <KeyboardArrowUpRoundedIcon />\r\n        ) : (\r\n          <KeyboardArrowDownRoundedIcon />\r\n        )}{\" \"}\r\n      </Typography>\r\n      <Collapse style={styleObj} in={isCategoryOpen}>\r\n        {category.items\r\n          .filter((item) => !props.is_veg || item.food_type === \"veg\")\r\n          .map((ele, idx, arr) => (\r\n            <div key={idx}>\r\n              <div style={{ paddingBottom: \"14px\" }}>\r\n                {\" \"}\r\n                <Item\r\n                  key={ele._id}\r\n                  item={ele}\r\n                  cart_item={findCartItem(props.cart, ele._id)}\r\n                />{\" \"}\r\n              </div>\r\n              {arr.length !== idx + 1 && (\r\n                <hr\r\n                  style={{\r\n                    borderWidth: \"1.5px\",\r\n                    margin: \"6px 0 20px 0\",\r\n                  }}\r\n                  className={classes.dottedSeperator}\r\n                ></hr>\r\n              )}\r\n            </div>\r\n          ))}\r\n      </Collapse>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  cart: state.cart,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Category);\r\n","const logError = () =>\r\n  console.error(\r\n    `Invalid element, are you sure you've provided element id or react ref?`\r\n  );\r\n\r\nexport const getElementPosition = (element) =>\r\n  (element?.offsetTop || 0) -\r\n  (document.getElementById(\"menu-tool-bar\").clientHeight +\r\n    document.getElementById(\"menu-tabs\").clientHeight +\r\n    document.getElementById(\"menu-search-bar\").clientHeight);\r\n\r\nexport function scrollTo({ id, ref = null, duration = 3000 }) {\r\n  const initialPosition = window.scrollY;\r\n\r\n  const element = ref ? ref.current : id ? document.getElementById(id) : null;\r\n\r\n  if (!element) {\r\n    logError();\r\n    return;\r\n  }\r\n\r\n  animateScroll({\r\n    targetPosition: getElementPosition(element),\r\n    initialPosition,\r\n    duration,\r\n  });\r\n}\r\n\r\n// animateScroll.js\r\n\r\nconst pow = Math.pow;\r\n\r\nfunction easeOutQuart(x) {\r\n  return 1 - pow(1 - x, 4);\r\n}\r\n\r\nexport function animateScroll({ targetPosition, initialPosition, duration }) {\r\n  let start;\r\n  let position;\r\n  let animationFrame;\r\n\r\n  const requestAnimationFrame = window.requestAnimationFrame;\r\n  const cancelAnimationFrame = window.cancelAnimationFrame;\r\n\r\n  const maxAvailableScroll =\r\n    document.documentElement.scrollHeight -\r\n    document.documentElement.clientHeight;\r\n\r\n  const amountOfPixelsToScroll = initialPosition - targetPosition;\r\n\r\n  function step(timestamp) {\r\n    if (start === undefined) {\r\n      start = timestamp;\r\n    }\r\n\r\n    const elapsed = timestamp - start;\r\n\r\n    const relativeProgress = elapsed / duration;\r\n\r\n    const easedProgress = easeOutQuart(relativeProgress);\r\n\r\n    position =\r\n      initialPosition - amountOfPixelsToScroll * Math.min(easedProgress, 1);\r\n\r\n    window.scrollTo(0, position);\r\n\r\n    if (\r\n      initialPosition !== maxAvailableScroll &&\r\n      window.scrollY === maxAvailableScroll\r\n    ) {\r\n      cancelAnimationFrame(animationFrame);\r\n      return;\r\n    }\r\n\r\n    if (elapsed < duration) {\r\n      animationFrame = requestAnimationFrame(step);\r\n    }\r\n  }\r\n\r\n  animationFrame = requestAnimationFrame(step);\r\n}\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst animationStyles = makeStyles((theme) => ({\r\n  rippleEffect: {\r\n    backgroundPosition: \"center\",\r\n    transition: \"background 0.8s\",\r\n    \"&:hover\": {\r\n      background:\r\n        \"#47a7f5 radial-gradient(circle, transparent 1%, #47a7f5 1%) center/15000%\",\r\n    },\r\n    \"&:active\": {\r\n      backgroundColor: \"#6eb9f7\",\r\n      backgroundSize: \"100%\",\r\n      transition: \"background 0s\",\r\n    },\r\n  },\r\n\r\n  clickEffect: {\r\n    \"&:active\": {\r\n      boxShadow: \"none\",\r\n      backgroundColor: \"lightgray\",\r\n    },\r\n  },\r\n  shine: {\r\n    backgroundRepeat: \"no-repeat\",\r\n    animation: \"$placeholderShimmer 3s infinite ease\",\r\n    background:\r\n      \"-webkit-gradient(linear,left top,right top,color-stop(0, rgb(235, 235, 235)),color-stop(0.4, rgb(235, 235, 235)),color-stop(0.5, white),color-stop(0.6, rgb(235, 235, 235)),color-stop(1, rgb(235, 235, 235)))\",\r\n  },\r\n  \"@keyframes placeholderShimmer\": {\r\n    \"0%\": {\r\n      backgroundPosition: \"-400px 0\",\r\n    },\r\n    \"100%\": {\r\n      backgroundPosition: \"400px 0\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport default animationStyles;\r\n","import {\r\n  Backdrop,\r\n  ButtonBase,\r\n  List,\r\n  ListItem,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  makeStyles,\r\n  Popover,\r\n  Slide,\r\n} from \"@material-ui/core\";\r\nimport PlayArrowRoundedIcon from \"@material-ui/icons/PlayArrowRounded\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { scrollTo } from \"../utils/scroll\";\r\nimport { connect } from \"react-redux\";\r\nimport animationStyles from \"../../styles/comman_styles\";\r\n\r\nconst backdropStyles = makeStyles((theme) => ({\r\n  backdrop: {\r\n    zIndex: theme.zIndex.appBar + 1,\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\nfunction BottomActionsArea(props) {\r\n  const backdropClasses = backdropStyles();\r\n  const animationClasses = animationStyles();\r\n  const [state, setState] = useState({\r\n    anchorEl: null,\r\n    transition: 60,\r\n  });\r\n  const [active_cat, setActiveCat] = useState(props.active_cat || 0);\r\n\r\n  const handleFabMenuOpen = (evt) => {\r\n    setState({\r\n      ...state,\r\n      anchorEl: evt.currentTarget,\r\n    });\r\n  };\r\n\r\n  const handleFabMenuClose = () => {\r\n    setState({\r\n      ...state,\r\n      anchorEl: null,\r\n    });\r\n  };\r\n\r\n  const scrollToCategory = (catIdx) => {\r\n    setActiveCat(catIdx);\r\n    scrollTo({ id: `menu-cat-${catIdx + 1}` });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setActiveCat(props.active_cat);\r\n    setTimeout(() => {\r\n      setState((prev) => ({ ...prev, transition: 0 }));\r\n    }, 500);\r\n  }, [props.active_cat]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"fixed\",\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        zIndex: 10,\r\n        pointerEvents: \"none\",\r\n      }}\r\n    >\r\n      <div className=\"partials\">\r\n        <Backdrop\r\n          className={backdropClasses.Backdrop}\r\n          open={Boolean(state.anchorEl)}\r\n          onClick={handleFabMenuClose}\r\n        >\r\n          <Popover\r\n            id={Boolean(state.anchorEl) ? \"fab-menu-popover\" : undefined}\r\n            style={{ paddingRight: \"15px\", width: \"70vw\" }}\r\n            open={Boolean(state.anchorEl)}\r\n            onClose={handleFabMenuClose}\r\n            anchorEl={state.anchorEl}\r\n            anchorOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"center\",\r\n            }}\r\n            transformOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"center\",\r\n            }}\r\n            PaperProps={{\r\n              style: {\r\n                minWidth: \"70vw\",\r\n                maxHeight: \"300px\",\r\n                borderRadius: \"8px\",\r\n                overflow: \"auto\",\r\n                padding: \"20px 14px 20px 24px\",\r\n              },\r\n            }}\r\n          >\r\n            <List\r\n              style={{ padding: \"0px\" }}\r\n              component=\"nav\"\r\n              aria-label=\"secondary mailbox folders\"\r\n            >\r\n              {props.categories.map((cat, idx) => (\r\n                <ListItem\r\n                  style={{ cursor: \"pointer\" }}\r\n                  key={idx}\r\n                  onClick={() => scrollToCategory(idx)}\r\n                >\r\n                  <ListItemText\r\n                    primary={\r\n                      <span\r\n                        style={{\r\n                          textOverflow: \"ellipsis\",\r\n                          overflow: \"hidden\",\r\n                          whiteSpace: \"nowrap\",\r\n                          textTransform: \"capitalize\",\r\n                          display: \"block\",\r\n                          fontWeight: active_cat === idx ? \"bold\" : \"normal\",\r\n                        }}\r\n                      >\r\n                        {cat.category_name}\r\n                      </span>\r\n                    }\r\n                  />\r\n                  <ListItemSecondaryAction\r\n                    style={{\r\n                      fontWeight: active_cat === idx ? \"bold\" : \"normal\",\r\n                    }}\r\n                  >\r\n                    {cat.n_items}\r\n                  </ListItemSecondaryAction>\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          </Popover>\r\n        </Backdrop>\r\n      </div>\r\n      <div>\r\n        {props.showFAB && (\r\n          <div\r\n            style={{\r\n              height: \"60px\",\r\n              zIndex: 11,\r\n              transition: \"transform 0.25s ease\",\r\n              willChange: \"transform\",\r\n              WebkitBackfaceVisibility: \"hidden\",\r\n              backfaceVisibility: \"hidden\",\r\n              contain: \"content\",\r\n              position: \"relative\",\r\n              transform: `translate3d(0, ${state.transition}px, 0)`,\r\n            }}\r\n          >\r\n            <button\r\n              onClick={handleFabMenuOpen}\r\n              aria-describedby={\r\n                Boolean(state.anchorEl) ? \"fab-menu-popover\" : undefined\r\n              }\r\n              style={{\r\n                position: \"absolute\",\r\n                left: \"50%\",\r\n                top: 0,\r\n                transform: \"translateX(-50%)\",\r\n                width: \"105px\",\r\n                height: \"35px\",\r\n                pointerEvents: \"auto\",\r\n                borderRadius: \"30px\",\r\n                border: \"transparent\",\r\n                boxShadow:\r\n                  \"0 5px 10px 0 rgb(0 0 0 / 30%), 0 2px 1px 0 rgb(93 141 213 / 20%)\",\r\n                textTransform: \"uppercase\",\r\n                padding: \"13px\",\r\n                fontWeight: 600,\r\n                fontFamily: \"Open Sans\",\r\n                color: \"white\",\r\n                background: \"#21242b\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                display: \"flex\",\r\n              }}\r\n            >\r\n              <i\r\n                style={{ marginRight: \"7px\", verticalAlign: \"middle\" }}\r\n                className=\"fas fa-bars\"\r\n              ></i>{\" \"}\r\n              Menu\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {Boolean(props.cart?.items?.length > 0) && (\r\n        <Slide in={true} direction=\"up\">\r\n          <ButtonBase\r\n            className={animationClasses.clickEffect}\r\n            onClick={props.checkOut}\r\n            style={{\r\n              height: \"48px\",\r\n              width: \"100%\",\r\n              zIndex: 11,\r\n              transition: \"transform 0.25s ease\",\r\n              willChange: \"transform\",\r\n              WebkitBackfaceVisibility: \"hidden\",\r\n              backfaceVisibility: \"hidden\",\r\n              contain: \"content\",\r\n              position: \"relative\",\r\n              backgroundColor: \"#fcd601\",\r\n              transform: `translate3d(0, ${state.transition}px, 0)`,\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n              padding: \"12px\",\r\n              fontWeight: 600,\r\n              fontSize: \"0.9rem\",\r\n              pointerEvents: \"auto\",\r\n            }}\r\n          >\r\n            <div>\r\n              <span>\r\n                {`${(() => {\r\n                  let t_count = props.cart.items.reduce(\r\n                    (count, item) => item.itemCount + count,\r\n                    0\r\n                  );\r\n\r\n                  return `${t_count} item${t_count > 1 ? \"s\" : \"\"}`;\r\n                })()}`}{\" \"}\r\n              </span>\r\n              <span style={{ padding: \"4px\" }}>|</span>\r\n              <span>\r\n                <span>&#8377;</span>\r\n                {props.cart.totalCost}\r\n              </span>\r\n            </div>\r\n            <div>\r\n              <span style={{ textTransform: \"uppercase\" }}>View Cart</span>\r\n              <PlayArrowRoundedIcon\r\n                style={{ marginLeft: \"1px\", verticalAlign: \"middle\" }}\r\n              />\r\n            </div>\r\n          </ButtonBase>\r\n        </Slide>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  cart: state.cart,\r\n});\r\n\r\nexport default connect(mapStateToProps)(BottomActionsArea);\r\n","import { Grid, Paper, Typography } from \"@material-ui/core\";\r\nimport React, { Fragment, useEffect, useState } from \"react\";\r\nimport MenuAppBar from \"./components/MenuAppBar\";\r\nimport useStyles from \"./styles/main\";\r\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\r\nimport MenuTabs from \"./components/MenuTabs\";\r\nimport TabPanel from \"./components/TabPanel\";\r\nimport MenuSearchBar from \"./components/MenuSearchBar\";\r\nimport Category from \"./components/Category\";\r\nimport BottomActionsArea from \"./components/BottomActionsArea\";\r\nimport Package from \"./components/Package\";\r\nimport { decideFoodType, decideToShowMenuFAB } from \"./utils/helper\";\r\nimport { getElementPosition } from \"./utils/scroll\";\r\nimport { connect } from \"react-redux\";\r\nimport { isObjEmpty } from \"../../utils/helpers\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Menu = (props) => {\r\n  // Since Menu is not updated so we use menu as props [ The whole restaturant data is used as props ]\r\n  const classes = useStyles();\r\n  const navigate = useNavigate();\r\n  const [tabValue, setTabValue] = useState(0);\r\n  const [isVegOnly, setVegOnly] = useState(false);\r\n  const [showTopSearchBar, setShowTopSearchBar] = useState(false);\r\n  const [s_active_cat, setScrollActiveCat] = useState(0);\r\n  const { restaurant } = props;\r\n\r\n  const menuMap = [\"food\", \"bar\", \"buffet\"];\r\n\r\n  const handleMenuScroll = () => {\r\n    try {\r\n      let height = document.getElementById(\"rest-info\")?.clientHeight + 20;\r\n\r\n      if (Boolean(document.scrollingElement.scrollTop >= height)) {\r\n        !showTopSearchBar && setShowTopSearchBar(true);\r\n      } else {\r\n        showTopSearchBar && setShowTopSearchBar(false);\r\n      }\r\n\r\n      let offsets = restaurant.menu[menuMap[tabValue]].map((cat, idx) => ({\r\n        element: document.getElementById(`menu-cat-${idx + 1}`),\r\n        offset: getElementPosition(\r\n          document.getElementById(`menu-cat-${idx + 1}`)\r\n        ),\r\n      }));\r\n\r\n      let active_cat = offsets.findIndex(\r\n        (ele) =>\r\n          window.scrollY + window.innerHeight / 2 - ele.offset <=\r\n          ele.element?.clientHeight\r\n      );\r\n\r\n      if (active_cat !== -1) {\r\n        setScrollActiveCat(active_cat);\r\n      }\r\n    } catch (err) {\r\n      console.log(\"Error while scrolling\");\r\n    }\r\n  };\r\n\r\n  const checkOut = () => {\r\n    navigate(\"/restaurant/cart\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"scroll\", handleMenuScroll);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"scroll\", handleMenuScroll);\r\n    };\r\n  }, [showTopSearchBar, tabValue, menuMap, restaurant.menu]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [tabValue]);\r\n\r\n  if (isObjEmpty(restaurant)) {\r\n    return <Fragment>Loading menu..</Fragment>;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        marginTop: showTopSearchBar\r\n          ? `${\r\n              document.getElementById(\"menu-tabs\").clientHeight +\r\n              document.getElementById(\"menu-tool-bar\").clientHeight\r\n            }px`\r\n          : \"0px\",\r\n      }}\r\n    >\r\n      <MenuAppBar\r\n        isVegOnly={isVegOnly}\r\n        setVegOnly={setVegOnly}\r\n        isAtTop={showTopSearchBar}\r\n        tabValue={tabValue}\r\n        setTabValue={setTabValue}\r\n        menu={restaurant.menu}\r\n      />\r\n\r\n      <Paper id=\"rest-info\" className={classes.restInfo}>\r\n        <Grid\r\n          container\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Grid item xs={12}>\r\n            <Typography\r\n              style={{ paddingLeft: \"10px\" }}\r\n              className={classes.main_text}\r\n            >\r\n              {restaurant.rest_name}\r\n              <CheckCircleRoundedIcon\r\n                style={{\r\n                  width: \"18px\",\r\n                  fill: \"mediumseagreen\",\r\n                  verticalAlign: \"middle\",\r\n                  margin: \"3px\",\r\n                }}\r\n              />\r\n            </Typography>\r\n            <Typography className={classes.light_text}>\r\n              {restaurant.rest_tags.join(\", \")}\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <hr className={classes.dottedSeperator}></hr>\r\n\r\n          <Grid className={classes.infoGrid} item xs={4}>\r\n            <Typography style={{ textAlign: \"center\", fontSize: \"1.13rem\" }}>\r\n              <i className=\"far fa-star\"></i>\r\n              <span\r\n                style={{\r\n                  fontSize: \"16px\",\r\n                  marginLeft: \"5px\",\r\n                  fontWeight: \"600\",\r\n                  fontFamily: \"'Proxima Nova'\",\r\n                }}\r\n              >\r\n                4.7\r\n              </span>\r\n            </Typography>\r\n            <Typography\r\n              style={{ textAlign: \"center\", fontSize: \"12px\" }}\r\n              className={classes.light_text}\r\n            >\r\n              <span>{\"100+ ratings\"}</span>\r\n            </Typography>\r\n          </Grid>\r\n          <Grid className={classes.infoGrid} item xs={4}>\r\n            <Typography style={{ textAlign: \"center\", fontSize: \"1.13rem\" }}>\r\n              <i className=\"far fa-clock\"></i>\r\n              <span\r\n                style={{\r\n                  fontSize: \"16px\",\r\n                  marginLeft: \"5px\",\r\n                  fontWeight: \"600\",\r\n                  fontFamily: \"'Proxima Nova'\",\r\n                }}\r\n              >\r\n                {restaurant.serve_time} min\r\n              </span>\r\n            </Typography>\r\n            <Typography\r\n              style={{ textAlign: \"center\", fontSize: \"12px\" }}\r\n              className={classes.light_text}\r\n            >\r\n              <span>{\"Serve time\"}</span>\r\n            </Typography>\r\n          </Grid>\r\n          <Grid className={classes.infoGrid} item xs={4}>\r\n            <Typography style={{ textAlign: \"center\", fontSize: \"1.1rem\" }}>\r\n              <span\r\n                style={{\r\n                  fontSize: \"16px\",\r\n                  marginLeft: \"5px\",\r\n                  fontWeight: \"600\",\r\n                  fontFamily: \"'Proxima Nova'\",\r\n                }}\r\n              >\r\n                <span>&#8377;</span>\r\n                {restaurant.cost_for_two}\r\n              </span>\r\n            </Typography>\r\n            <Typography\r\n              style={{ textAlign: \"center\", fontSize: \"12px\" }}\r\n              className={classes.light_text}\r\n            >\r\n              <span>{\"For two\"}</span>\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n      <div id=\"rest-menu\">\r\n        {!showTopSearchBar && (\r\n          <MenuTabs numTabs={3} tabValue={tabValue} setTabValue={setTabValue} />\r\n        )}\r\n        {!showTopSearchBar && (\r\n          <MenuSearchBar\r\n            isVegOnly={isVegOnly}\r\n            setVegOnly={setVegOnly}\r\n            isAtTop={false}\r\n            menu={restaurant.menu}\r\n          />\r\n        )}\r\n        <hr\r\n          style={{\r\n            borderWidth: \"1.5px\",\r\n            margin: 0,\r\n          }}\r\n          className={classes.dottedSeperator}\r\n        ></hr>\r\n        <TabPanel value={tabValue} index={0}>\r\n          {restaurant.menu[\"food\"].map((ele, idx, arr) => (\r\n            <div key={idx}>\r\n              <Category\r\n                id={`menu-cat-${idx + 1}`}\r\n                key={ele._id}\r\n                category={ele}\r\n                is_veg={isVegOnly}\r\n              />\r\n              {arr.length !== idx + 1 && (\r\n                <hr\r\n                  style={{ borderWidth: \"16px\", margin: 0 }}\r\n                  className={classes.dottedSeperator}\r\n                ></hr>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </TabPanel>\r\n        <TabPanel value={tabValue} index={1}>\r\n          {restaurant.menu[\"bar\"].map((ele, idx, arr) => (\r\n            <div key={idx}>\r\n              <Category\r\n                id={`menu-cat-${idx + 1}`}\r\n                key={ele._id}\r\n                category={ele}\r\n                is_veg={isVegOnly}\r\n              />\r\n              {arr.length !== idx + 1 && (\r\n                <hr\r\n                  style={{ borderWidth: \"16px\", margin: 0 }}\r\n                  className={classes.dottedSeperator}\r\n                ></hr>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </TabPanel>\r\n        <TabPanel style={{ padding: \"15px\" }} value={tabValue} index={2}>\r\n          {restaurant.menu[\"buffet\"]\r\n            .filter(\r\n              (i_package) =>\r\n                !isVegOnly || decideFoodType(i_package.items) === \"veg\"\r\n            )\r\n            .map((ele, idx, arr) => (\r\n              <>\r\n                <Package package={ele} key={ele._id} />\r\n                {arr.length !== idx + 1 && (\r\n                  <hr\r\n                    style={{\r\n                      borderWidth: \"1.5px\",\r\n                      margin: \"6px 0 20px 0\",\r\n                    }}\r\n                    className={classes.dottedSeperator}\r\n                  ></hr>\r\n                )}\r\n              </>\r\n            ))}\r\n        </TabPanel>\r\n      </div>\r\n      <BottomActionsArea\r\n        active_cat={s_active_cat}\r\n        showFAB={decideToShowMenuFAB(restaurant.menu[menuMap[tabValue]])}\r\n        categories={restaurant.menu[menuMap[tabValue]].map((cat) => ({\r\n          category_name: cat.category_name,\r\n          n_items: cat.items.length,\r\n        }))}\r\n        checkOut={checkOut}\r\n      />\r\n      <div\r\n        style={{ height: \"120px\", width: \"100%\", background: \"#f4f4f5\" }}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  restaurant: state.restaurant,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Menu);\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBarRoot: {\r\n    backgroundColor: \"#ffffff\",\r\n    WebkitBoxShadow: \"0 2px 2px rgb(40 44 63 / 10%)\",\r\n    boxShadow: \"0 2px 2px rgb(40 44 63 / 10%)\",\r\n  },\r\n  abrLightText: {\r\n    textOverflow: \"ellipsis\",\r\n    overflow: \"hidden\",\r\n    whiteSpace: \"nowrap\",\r\n    color: \"#7e808c\",\r\n    fontFamily: \"'Proxima Nova'\",\r\n    fontSize: \".7rem\",\r\n  },\r\n  abrMainText: {\r\n    textOverflow: \"ellipsis\",\r\n    overflow: \"hidden\",\r\n    whiteSpace: \"nowrap\",\r\n    color: \"#3d4152\",\r\n    fontSize: \"0.95rem\",\r\n    fontFamily: \"'Proxima Nova'\",\r\n    fontWeight: 600,\r\n    marginTop: \"4px\",\r\n  },\r\n  abrTableNo: {\r\n    textOverflow: \"ellipsis\",\r\n    overflow: \"hidden\",\r\n    whiteSpace: \"nowrap\",\r\n    color: \"#3d4152\",\r\n    fontSize: \"1rem\",\r\n    fontWeight: 600,\r\n    border: \"1px solid lightgray\",\r\n    borderRadius: \"5px\",\r\n    width: \"fit-content\",\r\n    paddingLeft: \"4px\",\r\n    paddingRight: \"4px\",\r\n    background: \"#fff6c3\",\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import * as React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { clearCart } from \"../../../redux/actions/cart\";\r\nimport {\r\n  ListItemText,\r\n  MenuItem,\r\n  MenuList,\r\n  ListItemIcon,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport RemoveShoppingCartOutlinedIcon from \"@material-ui/icons/RemoveShoppingCartOutlined\";\r\n\r\nconst OptionsMenu = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <MenuList style={{ paddingTop: \"0px\", paddingBottom: \"0px\" }}>\r\n      <MenuItem\r\n        onClick={() => dispatch(clearCart())}\r\n        style={{ paddingLeft: \"8px\", paddingRight: \"8px\" }}\r\n      >\r\n        <ListItemIcon style={{ minWidth: \"40px\" }}>\r\n          <RemoveShoppingCartOutlinedIcon />\r\n        </ListItemIcon>\r\n        <ListItemText style={{ paddingRight: \"15px\" }}>Clear Cart</ListItemText>\r\n        <Typography variant=\"body2\" color=\"text.secondary\"></Typography>\r\n      </MenuItem>\r\n    </MenuList>\r\n  );\r\n};\r\n\r\nexport default OptionsMenu;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  AppBar,\r\n  CssBaseline,\r\n  IconButton,\r\n  Popover,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport useStyles from \"../styles/app_bar\";\r\nimport BackIcon from \"../../menu/assets/BackIcon\";\r\nimport MoreVertRoundedIcon from \"@material-ui/icons/MoreVertRounded\";\r\nimport OptionsMenu from \"./OptionsMenu\";\r\n\r\nfunction CartAppBar(props) {\r\n  const classes = useStyles();\r\n  const [state, setState] = useState({\r\n    anchorEl: null,\r\n  });\r\n\r\n  const handleMenuOpen = (evt) => {\r\n    setState({\r\n      ...state,\r\n      anchorEl: evt.currentTarget,\r\n    });\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setState({\r\n      ...state,\r\n      anchorEl: null,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"partials\">\r\n        <Popover\r\n          id={Boolean(state.anchorEl) ? \"options-cart-popover\" : undefined}\r\n          style={{ paddingRight: \"15px\" }}\r\n          open={Boolean(state.anchorEl)}\r\n          onClose={handleMenuClose}\r\n          anchorEl={state.anchorEl}\r\n          anchorOrigin={{\r\n            vertical: \"top\",\r\n            horizontal: \"right\",\r\n          }}\r\n          transformOrigin={{\r\n            vertical: \"top\",\r\n            horizontal: \"right\",\r\n          }}\r\n        >\r\n          <OptionsMenu />\r\n        </Popover>\r\n      </div>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"sticky\"\r\n        color=\"transparent\"\r\n        style={{ zIndex: 10 }}\r\n        id=\"cart-app-bar\"\r\n        elevation={0}\r\n      >\r\n        <Toolbar id=\"cart-tool-bar\" className={classes.appBarRoot}>\r\n          <IconButton\r\n            onClick={props.goBack}\r\n            style={{ padding: \"16px\" }}\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"close\"\r\n          >\r\n            <BackIcon />\r\n          </IconButton>\r\n          <div style={{ marginLeft: \"8px\" }}>\r\n            <Typography className={classes.abrMainText} noWrap>\r\n              Table #12\r\n            </Typography>\r\n            <Typography className={classes.abrLightText} noWrap>\r\n              {props.n_items} Items | ETA 35mins\r\n            </Typography>\r\n          </div>\r\n          <IconButton\r\n            onClick={handleMenuOpen}\r\n            aria-describedby={\r\n              Boolean(state.anchorEl) ? \"options-cart-popover\" : undefined\r\n            }\r\n            style={{ marginLeft: \"auto\", marginRight: \"-16px\" }}\r\n          >\r\n            <MoreVertRoundedIcon htmlColor=\"black\" />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default CartAppBar;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  itemList: {\r\n    marginTop: \"24px\",\r\n    paddingBottom: \"4px\",\r\n    borderRadius: \"0px\",\r\n    border: \"none\",\r\n    boxShadow: \"none\",\r\n  },\r\n  suggestionTextBox: {\r\n    flexBasis: \"80%\",\r\n    fontSize: \"0.9rem\",\r\n    width: \"100%\",\r\n    padding: \"14px 0\",\r\n    outline: 0,\r\n    resize: \"none\",\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"auto\",\r\n    caretColor: \"#fc8019\",\r\n    fontWeight: 300,\r\n    border: 0,\r\n    fontFamily: \"'Proxima Nova', sans-serif\",\r\n  },\r\n  suggestionBox: {\r\n    padding: \" 0 16px 0 16px\",\r\n    marginTop: \"15px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  separatorLine: {\r\n    backgroundColor: \"#f4f4f5\",\r\n    height: \"12px\",\r\n  },\r\n  itemsMnText: {\r\n    fontWeight: 500,\r\n    padding: \"0px 0px\",\r\n    margin: \"14px 0px 14px 0px\",\r\n    fontSize: \"1rem\",\r\n    fontFamily: \"'Proxima Nova'\",\r\n  },\r\n  offerIcon: {\r\n    \"&::before\": {\r\n      content: '\"\\\\E946\"',\r\n    },\r\n  },\r\n  offerCtnr: {\r\n    padding: \"4px 10px\",\r\n    borderRadius: \"0px\",\r\n    border: \"none\",\r\n    boxShadow: \"none\",\r\n    marginTop: \"0px\",\r\n  },\r\n  offerMnText: {\r\n    margin: \"6px\",\r\n    fontSize: \"1rem\",\r\n    fontWeight: 500,\r\n    fontFamily: \"'Proxima Nova'\",\r\n  },\r\n  offerLtText: {\r\n    margin: \"6px\",\r\n    display: \"flex\",\r\n    fontFamily: \"'Proxima Nova'\",\r\n    alignItems: \"center\",\r\n  },\r\n  paymentsCtnr: {\r\n    borderRadius: \"0px\",\r\n    border: \"none\",\r\n    boxShadow: \"none\",\r\n    marginTop: \"0px\",\r\n    marginBottom: \"25px\",\r\n    padding: \"4px 10px\",\r\n  },\r\n  paymentItemCtnr: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"6px\",\r\n    fontSize: \"14px\",\r\n    fontWeight: 300,\r\n    fontFamily: \"Proxima Nova\",\r\n  },\r\n  paymentItem: {\r\n    margin: \"5px 0px\",\r\n  },\r\n  borderedSeparator: {\r\n    margin: \"13px 0 10px\",\r\n    height: \"1px\",\r\n    display: \"block\",\r\n    background: \"#f1f1f3\",\r\n  },\r\n  infoIcon: {\r\n    verticalAlign: \"middle\",\r\n    marginLeft: \"3px\",\r\n    fontSize: \"17px\",\r\n  },\r\n});\r\n\r\nexport default useStyles;\r\n","import React, { Fragment } from \"react\";\r\nimport icon from \"../../img/discount_icn.png\";\r\nfunction OfferIcon(props) {\r\n  return (\r\n    <Fragment>\r\n      <img src={icon} alt=\"Logo\" {...props} />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default OfferIcon;\r\n","export default \"data:image/png;base64,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\"","import { Skeleton } from \"@material-ui/lab\";\r\nimport { withStyles } from \"@material-ui/styles\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Draggable from \"react-draggable\";\r\nimport useStyles from \"../../styles/comman_styles\";\r\n\r\nexport function OrderSlideButton(props) {\r\n  const [dragEnd, setDragEnd] = useState(0);\r\n  const [dragPosition, setDragPosition] = useState(0);\r\n  const comman_classes = useStyles();\r\n  useEffect(() => {\r\n    let end =\r\n      window.innerWidth -\r\n        2 * document.getElementById(\"drag-handle\")?.clientWidth || 100;\r\n    setDragEnd(end);\r\n  }, []);\r\n\r\n  const handleDrag = (evt, data) => {\r\n    setDragPosition(data.x);\r\n  };\r\n\r\n  const handleDragStop = (evt, data) => {\r\n    if (dragPosition < dragEnd) {\r\n      setDragPosition(0);\r\n    } else {\r\n      props.onSlideComplete();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      id=\"drag-parent\"\r\n      style={{\r\n        padding: \"10px\",\r\n        borderRadius: \"8px\",\r\n        position: \"fixed\",\r\n        width: \"95%\",\r\n        bottom: \"10px\",\r\n        left: \"2.5%\",\r\n        background: \"rgb(235, 235, 235)\",\r\n      }}\r\n    >\r\n      <div>\r\n        <p\r\n          className={comman_classes.shine}\r\n          style={{\r\n            margin: \"0px\",\r\n            // color: \"#e2725a\", with Orange\r\n            color: \"#21242b\",\r\n            zIndex: -1,\r\n            position: \"absolute\",\r\n            fontSize: \"1.1rem\",\r\n            bottom: \"25%\",\r\n            width: \"97%\",\r\n            textAlign: \"center\",\r\n            opacity: 0.87,\r\n            fontWeight: 500,\r\n            fontFamily: \"'Proxima Nova'\",\r\n          }}\r\n        >\r\n          Slide to place order\r\n        </p>\r\n        <Draggable\r\n          axis=\"x\"\r\n          handle=\"#drag-handle\"\r\n          defaultPosition={{ x: 0, y: 0 }}\r\n          position={{ x: dragPosition, y: 0 }}\r\n          bounds={{\r\n            right: dragEnd,\r\n            left: 0,\r\n          }}\r\n          scale={1}\r\n          onDrag={handleDrag}\r\n          onStop={handleDragStop}\r\n          allowAnyClick={true}\r\n        >\r\n          <div>\r\n            <button\r\n              style={{\r\n                visibility: dragPosition === dragEnd ? \"hidden\" : \"visible\",\r\n                fontWeight: \"bold\",\r\n                // color: \"white\", // with Orange\r\n                color: \"#21242b\",\r\n                // backgroundColor: \"#e2725a\", //Orange\r\n                backgroundColor: \"rgb(252, 214, 1)\",\r\n                fontSize: \"1rem\",\r\n                border: \"none\",\r\n                borderRadius: \"5px\",\r\n                padding: \"8px 10px\",\r\n              }}\r\n              id=\"drag-handle\"\r\n            >\r\n              {\"> >\"}\r\n            </button>\r\n          </div>\r\n        </Draggable>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  itemName: {\r\n    margin: \"0px 5px\",\r\n    lineHeight: \"1.4rem\",\r\n    textOoverflow: \"ellipsis\",\r\n    display: \"-webkit-box\",\r\n    WebkitBoxOrient: \"vertical\",\r\n    WebkitLineClamp: 2,\r\n    maxHeight: \"3rem\",\r\n    fontSize: \"15px\",\r\n    paddingTop: \"4px\",\r\n    overflow: \"hidden\",\r\n    fontFamily: \"'Proxima Nova'\",\r\n    fontWeight: 300,\r\n  },\r\n  addSubBtnCtnr: {\r\n    width: \"96%\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-around\",\r\n    height: \"28px\",\r\n    background: \"#fff\",\r\n    border: \"1px solid #e9e9eb\",\r\n    fontSize: \".86rem\",\r\n    color: \"#7e808c\",\r\n    contain: \"content\",\r\n    alignItems: \"center\",\r\n  },\r\n  itemPrice: {\r\n    color: \"#3d4152\",\r\n    fontSize: \".86rem\",\r\n    paddingTop: \"6px\",\r\n    fontWeight: 400,\r\n  },\r\n  repeatBtn: {\r\n    width: \"calc(50% - 4%)\",\r\n    border: \"2px solid #ffa400\",\r\n    height: \"42px\",\r\n    lineHeight: \"38px\",\r\n    borderRadius: \"8px\",\r\n    textAlign: \"center\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n    textTransform: \"uppercase\",\r\n    fontWeight: 600,\r\n    display: \"flex\",\r\n    fontSize: \"0.83rem\",\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import { AppBar, Button, Dialog, Drawer, Toolbar } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport FoodSymbols from \"../../menu/assets/FoodSymbols\";\r\nimport useStyles from \"../styles/item\";\r\nimport CustumizationPage from \"../../menu/components/CutumizationPage\";\r\nimport {\r\n  removeItem as removeItemFromCart,\r\n  updateItem as updateCartItem,\r\n} from \"../../../redux/actions/cart\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport DialogTransition from \"../../menu/shared/DialogTransition\";\r\nimport KeyboardArrowDownRoundedIcon from \"@material-ui/icons/KeyboardArrowDownRounded\";\r\n\r\nfunction Item(props) {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [state, setState] = useState({\r\n    f_cust_dialog: false,\r\n    is_edit: false,\r\n    f_repeat_drawer: false,\r\n    is_from_rpt: false,\r\n  });\r\n  const [curState, setCurState] = useState(null);\r\n\r\n  const handleEditCustums = () => {\r\n    setState({\r\n      ...state,\r\n      f_cust_dialog: true,\r\n      is_edit: true,\r\n    });\r\n  };\r\n\r\n  async function addItem(\r\n    isRepeatLast = false,\r\n    itemCustomizations = [],\r\n    totalItemCost = 0,\r\n    repeatCount = 1\r\n  ) {\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      f_cust_dialog: false,\r\n      f_repeat_drawer: false,\r\n    }));\r\n    props.addItem(\r\n      isRepeatLast,\r\n      itemCustomizations,\r\n      totalItemCost,\r\n      repeatCount,\r\n      props.version_idx\r\n    );\r\n  }\r\n\r\n  async function updateItem(\r\n    itemCustomizations = [],\r\n    totalItemCost = 0,\r\n    repeatCount = 1\r\n  ) {\r\n    let version = {\r\n      itemCount: repeatCount,\r\n      totalCost:\r\n        totalItemCost ||\r\n        Number(\r\n          props.cart_item[\r\n            props.cart_item.type === \"package\" ? \"package_price\" : \"item_price\"\r\n          ]\r\n        ),\r\n      custumization_arr: [...itemCustomizations],\r\n    };\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      f_cust_dialog: false,\r\n      is_edit: false,\r\n    }));\r\n\r\n    dispatch(updateCartItem(props.cart_item._id, version, props.version_idx));\r\n  }\r\n\r\n  function subtractItem() {\r\n    let count = props.cart_item.itemCount;\r\n    let versions = props.cart_item.versions;\r\n    if (count > 0) {\r\n      count -= 1;\r\n    }\r\n\r\n    if (versions.length > 0) {\r\n      if (versions[versions.length - 1].itemCount === 1) {\r\n        versions = versions.slice(0, versions.length - 1);\r\n      } else {\r\n        versions[versions.length - 1].itemCount -= 1;\r\n      }\r\n    }\r\n\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      f_cust_dialog: false,\r\n    }));\r\n\r\n    dispatch(removeItemFromCart(props.cart_item._id, count, props.version_idx));\r\n  }\r\n\r\n  const goBack = (isPopped = false) => {\r\n    if (!isPopped) {\r\n      window.history.back();\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      f_repeat_drawer: false,\r\n      is_edit: false,\r\n      is_from_rpt: false,\r\n    });\r\n  };\r\n\r\n  const onBackButtonEvent = (e) => {\r\n    e.preventDefault();\r\n    goBack(true);\r\n  };\r\n\r\n  const handleDialogOpen = (flagName) => {\r\n    if (flagName === \"f_repeat_drawer\") {\r\n      setCurState(window.history.state);\r\n      window.history.pushState(\r\n        window.history.state,\r\n        null,\r\n        window.location.pathname + \"#repeat\"\r\n      );\r\n\r\n      window.addEventListener(\"popstate\", onBackButtonEvent);\r\n      setState({\r\n        ...state,\r\n        f_repeat_drawer: true,\r\n        is_from_rpt: true,\r\n      });\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        [flagName]: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDialogClose = (flagName) => {\r\n    if (flagName === \"f_repeat_drawer\") {\r\n      goBack();\r\n      window.removeEventListener(\"popstate\", onBackButtonEvent);\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        [flagName]: false,\r\n        is_edit: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        margin: \"10px 0px 15px 0px\",\r\n      }}\r\n    >\r\n      <div className=\"partials\">\r\n        <Dialog\r\n          fullScreen\r\n          open={state.f_cust_dialog}\r\n          onClose={() => handleDialogClose(\"f_cust_dialog\")}\r\n          TransitionComponent={DialogTransition}\r\n        >\r\n          <CustumizationPage\r\n            item={props.cart_item}\r\n            handleClose={() => handleDialogClose(\"f_cust_dialog\")}\r\n            addItem={addItem}\r\n            updateItem={updateItem}\r\n            cur_custumizations={props.cart_item.versions[0].custumization_arr}\r\n            cur_count={props.cart_item.versions[0].itemCount}\r\n            is_edit={state.is_edit}\r\n            isPackage={props.cart_item.type === \"package\"}\r\n            isFromRepeat={state.is_from_rpt}\r\n          />\r\n        </Dialog>\r\n        <Drawer\r\n          anchor=\"bottom\"\r\n          open={state.f_repeat_drawer}\r\n          onClose={() => handleDialogClose(\"f_repeat_drawer\")}\r\n        >\r\n          <AppBar\r\n            position=\"sticky\"\r\n            style={{ backgroundColor: \"#f2f6fc\", color: \"black\" }}\r\n            elevation={0}\r\n          >\r\n            <Toolbar>\r\n              <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                <FoodSymbols\r\n                  food_type={props.cart_item.food_type}\r\n                  style={{\r\n                    width: \"19px\",\r\n                    height: \"fit-content\",\r\n                  }}\r\n                />{\" \"}\r\n                <span style={{ fontSize: \"1.1rem\", marginLeft: \"5px\" }}>\r\n                  {\r\n                    props.cart_item[\r\n                      props.cart_item.type === \"package\"\r\n                        ? \"package_name\"\r\n                        : \"item_name\"\r\n                    ]\r\n                  }\r\n                </span>{\" \"}\r\n              </div>\r\n            </Toolbar>\r\n          </AppBar>\r\n          <div\r\n            style={{\r\n              color: \"#7e808c\",\r\n              fontSize: \"11px\",\r\n              fontFamily: \"'Open Sans'\",\r\n              fontWeight: 400,\r\n              padding: \"16px 16px 0\",\r\n            }}\r\n          >\r\n            {props.cart_item.versions.length > 0 &&\r\n              props.cart_item.versions[\r\n                props.cart_item.versions.length - 1\r\n              ].custumization_arr\r\n                .map((cust) => {\r\n                  return cust.options.map((opt) => opt.option).join(\", \");\r\n                })\r\n                .join(\" | \")}\r\n          </div>\r\n          <div\r\n            style={{\r\n              padding: \"16px\",\r\n              marginTop: \"10px\",\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <Button\r\n              onClick={() => handleDialogOpen(\"f_cust_dialog\")}\r\n              className={classes.repeatBtn}\r\n              style={{\r\n                color: \"#ffa400\",\r\n              }}\r\n            >\r\n              I'LL CHOOSE\r\n            </Button>\r\n            <Button\r\n              onClick={() => {\r\n                goBack();\r\n                addItem(true);\r\n              }}\r\n              className={classes.repeatBtn}\r\n              style={{\r\n                backgroundColor: \"#ffa400\",\r\n                color: \"white\",\r\n              }}\r\n            >\r\n              REPEAT LAST\r\n            </Button>\r\n          </div>\r\n        </Drawer>\r\n      </div>\r\n      <div\r\n        style={{\r\n          flexBasis: \"5%\",\r\n          textAlign: \"left\",\r\n          alignSelf: \"flex-start\",\r\n          paddingTop: \"4px\",\r\n        }}\r\n      >\r\n        {\" \"}\r\n        <FoodSymbols\r\n          food_type={props.cart_item?.food_type}\r\n          style={{\r\n            width: \"15px\",\r\n            height: \"fit-content\",\r\n            verticalAlign: \"middle\",\r\n          }}\r\n        />{\" \"}\r\n      </div>\r\n      <div\r\n        style={{\r\n          flexBasis: \"58%\",\r\n          overflow: \"hidden\",\r\n        }}\r\n      >\r\n        <p className={classes.itemName}>\r\n          {props.cart_item.type !== \"package\"\r\n            ? props.cart_item.item_name\r\n            : props.cart_item.package_name}\r\n        </p>\r\n        {props.cart_item.custumization_arr.length > 0 && (\r\n          <div>\r\n            <div\r\n              style={{\r\n                textOverflow: \"ellipsis\",\r\n                overflow: \"hidden\",\r\n                whiteSpace: \"nowrap\",\r\n                fontSize: \"13px\",\r\n                color: \"#686b78\",\r\n                margin: \"0 5px\",\r\n                fontFamily: \"'Proxima Nova'\",\r\n                fontWeight: 300,\r\n              }}\r\n            >\r\n              {props.cart_item.versions[0].custumization_arr\r\n                .map((cust) => {\r\n                  return cust.options.map((opt) => opt.option).join(\", \");\r\n                })\r\n                .join(\" | \")}\r\n            </div>\r\n            <div\r\n              onClick={handleEditCustums}\r\n              style={{\r\n                fontSize: \"13px\",\r\n                color: \"#686b78\",\r\n                fontFamily: \"'Proxima Nova'\",\r\n                fontWeight: 500,\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                margin: \"0 5px\",\r\n              }}\r\n            >\r\n              Edit{\" \"}\r\n              <KeyboardArrowDownRoundedIcon\r\n                style={{ color: \"rgb(255, 164, 0)\" }}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexBasis: \"25%\",\r\n        }}\r\n      >\r\n        <span className={classes.addSubBtnCtnr}>\r\n          <Button\r\n            onClick={subtractItem}\r\n            style={{\r\n              backgroundColor: \"transparent\",\r\n              border: \"none\",\r\n              minWidth: \"20px\",\r\n            }}\r\n          >\r\n            <i\r\n              style={{\r\n                fontSize: \"0.62rem\",\r\n                verticalAlign: \"middle\",\r\n                color: \"#aeafb5\",\r\n              }}\r\n              className=\"fas fa-minus\"\r\n            ></i>\r\n          </Button>\r\n          <span\r\n            style={{\r\n              color: \"rgb(255, 164, 0)\",\r\n              fontWeight: \"600\",\r\n              fontSize: \"1rem\",\r\n            }}\r\n          >\r\n            {props.cart_item.itemCount}\r\n          </span>\r\n          <Button\r\n            onClick={\r\n              Boolean(props.cart_item.custumization_arr.length > 0)\r\n                ? () => handleDialogOpen(\"f_repeat_drawer\")\r\n                : () => addItem(true)\r\n            }\r\n            style={{\r\n              backgroundColor: \"transparent\",\r\n              border: \"none\",\r\n              color: \"rgb(255, 164, 0)\",\r\n              fontWeight: \"600\",\r\n              fontSize: \"1.2rem\",\r\n              minWidth: \"20px\",\r\n            }}\r\n          >\r\n            +\r\n          </Button>\r\n        </span>\r\n      </div>\r\n      <div\r\n        style={{\r\n          flexBasis: \"16%\",\r\n          textAlign: \"right\",\r\n        }}\r\n      >\r\n        <span className={classes.itemPrice}>\r\n          <span>&#8377;</span>{\" \"}\r\n          {props.cart_item?.versions?.reduce(\r\n            (total, ver) => total + ver.itemCount * Number(ver.totalCost),\r\n            0\r\n          ) || 0}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nItem.defaultProps = {\r\n  version_idx: -1,\r\n};\r\n\r\nexport default Item;\r\n","import React from \"react\";\r\nimport Item from \"./Item\";\r\nimport { addItem as addItemToCart } from \"../../../redux/actions/cart\";\r\nimport { clone } from \"ramda\";\r\nimport { decideFoodType } from \"../../menu/utils/helper\";\r\nimport { checkIfCustumizationSame } from \"../utils/helpers\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nfunction CartItem(props) {\r\n  const { cart_item } = props;\r\n  const dispatch = useDispatch();\r\n\r\n  async function addItem(\r\n    isRepeatLast = false,\r\n    itemCustomizations = [],\r\n    totalItemCost = 0,\r\n    repeatCount = 1,\r\n    versionIdx\r\n  ) {\r\n    let versions = clone(props.cart_item.versions);\r\n    let nameField =\r\n      props.cart_item.type === \"package\" ? \"package_name\" : \"item_name\";\r\n    let priceField =\r\n      props.cart_item.type === \"package\" ? \"package_price\" : \"item_price\";\r\n    if (isRepeatLast && versions.length > 0 && versionIdx !== -1) {\r\n      versions[versionIdx].itemCount += 1;\r\n    } else {\r\n      let item = {\r\n        itemCount: repeatCount,\r\n        totalCost:\r\n          totalItemCost ||\r\n          Number(\r\n            props.cart_item[\r\n              props.cart_item.type === \"package\"\r\n                ? \"package_price\"\r\n                : \"item_price\"\r\n            ]\r\n          ),\r\n        custumization_arr: [...itemCustomizations],\r\n      };\r\n\r\n      versions = [...versions, item];\r\n    }\r\n\r\n    const count = versions.reduce((total, item) => total + item.itemCount, 0);\r\n\r\n    let payload = {\r\n      itemCount: count,\r\n      versions,\r\n      type: props.cart_item.type,\r\n      [nameField]: props.cart_item[nameField],\r\n      [priceField]: props.cart_item[priceField],\r\n      custumization_arr: props.cart_item.custumization_arr,\r\n      food_type:\r\n        props.cart_item.type === \"package\"\r\n          ? decideFoodType(props.cart_item.items)\r\n          : props.cart_item.food_type,\r\n    };\r\n\r\n    if (props.cart_item.type === \"package\")\r\n      payload.items = props.cart_item.items;\r\n\r\n    dispatch(\r\n      addItemToCart(\r\n        payload,\r\n        props.cart_item._id,\r\n        !isRepeatLast &&\r\n          props.cart_item.versions.some((ver) =>\r\n            checkIfCustumizationSame(\r\n              ver.custumization_arr,\r\n              versions[versions.length - 1].custumization_arr\r\n            )\r\n          )\r\n          ? versionIdx\r\n          : -1\r\n      )\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {cart_item.versions.map((ver, idx) => (\r\n        <Item\r\n          key={String(cart_item._id + idx)}\r\n          cart_item={{\r\n            ...cart_item,\r\n            versions: [ver],\r\n            itemCount: ver.itemCount,\r\n          }}\r\n          addItem={addItem}\r\n          version_idx={idx}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartItem;\r\n","import React, { useState } from \"react\";\r\nimport { Button, Collapse } from \"@material-ui/core\";\r\nimport { isOfferApplicable } from \"../utils/offers\";\r\nexport default function Offer(props) {\r\n  const [state, setState] = useState({\r\n    f_condtn: false,\r\n  });\r\n  const { offer } = props;\r\n  const is_applicable = isOfferApplicable(offer, props.cart);\r\n\r\n  const toggleCollapse = (flag) => {\r\n    setState({\r\n      ...state,\r\n      [flag]: !state[flag],\r\n    });\r\n  };\r\n\r\n  const applyOffer = () => {\r\n    props.applyOffer(offer);\r\n  };\r\n\r\n  const isOfferApplied = () => {\r\n    return Boolean(props.cart?.offers?.find((o) => offer._id === o.offer_id));\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#fff\",\r\n        borderBottom: \"1px solid #f4f4f5\",\r\n        padding: \"20px 16px\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n        }}\r\n      >\r\n        <span\r\n          style={{\r\n            background: \"#d8ebfb\",\r\n            padding: \"8px\",\r\n            fontWeight: \"600\",\r\n            border: \"1px dashed\",\r\n          }}\r\n        >\r\n          {offer.code}\r\n        </span>\r\n        <Button\r\n          onClick={applyOffer}\r\n          style={{\r\n            fontWeight: \"600\",\r\n            opacity: is_applicable ? 1 : 0.64,\r\n            fontSize: \"0.83rem\",\r\n            color: !isOfferApplied() ? \"white\" : \"green\",\r\n            backgroundColor: isOfferApplied() ? \"white\" : \"rgb(50 139 214)\",\r\n          }}\r\n          disabled={!is_applicable || isOfferApplied()}\r\n        >\r\n          {!isOfferApplied() ? \"APPLY\" : \"APPLIED\"}\r\n        </Button>\r\n      </div>\r\n      <p\r\n        style={{\r\n          marginTop: \"25px\",\r\n          fontWeight: \"500\",\r\n          fontFamily: \"'Proxima Nova'\",\r\n        }}\r\n      >\r\n        {offer.label_text}\r\n      </p>\r\n      <p\r\n        style={{\r\n          color: \"rgb(104, 107, 120)\",\r\n          fontSize: \"0.85rem\",\r\n          marginTop: \"0px\",\r\n          paddingTop: \"0px\",\r\n          fontFamily: '\"Proxima Nova\"',\r\n          fontWeight: \"300\",\r\n        }}\r\n      >\r\n        {offer.desc}\r\n      </p>\r\n      <div>\r\n        {offer.conditions?.length > 0 && (\r\n          <div>\r\n            {!state.f_condtn && (\r\n              <div>\r\n                <Button\r\n                  style={{\r\n                    color: \"#5d8ed5\",\r\n                    textTransform: \"capitalize\",\r\n                    fontFamily: \"'Proxima Nova'\",\r\n                    fontWeight: \"400\",\r\n                    padding: \"0px\",\r\n                    fontSize: \".85rem\",\r\n                  }}\r\n                  onClick={() => toggleCollapse(\"f_condtn\")}\r\n                >\r\n                  + More Details\r\n                </Button>\r\n              </div>\r\n            )}\r\n            <Collapse in={state.f_condtn}>\r\n              <div\r\n                style={{\r\n                  color: \"#686b78\",\r\n                  fontSize: \".85rem\",\r\n                  borderTop: \"1px solid #f4f4f5\",\r\n                  fontFamily: \"'Proxima Nova'\",\r\n                  fontWeight: \"300\",\r\n                }}\r\n              >\r\n                <p>Terms and conditiions</p>\r\n                <uk>\r\n                  {offer.conditions.map((condtn) => (\r\n                    <li>{condtn.label_text}</li>\r\n                  ))}\r\n                </uk>\r\n              </div>\r\n            </Collapse>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {\r\n  AppBar,\r\n  IconButton,\r\n  makeStyles,\r\n  Toolbar,\r\n  Typography,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport BackIcon from \"../../menu/assets/BackIcon\";\r\nimport Offer from \"./Offer\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    backgroundColor: \"#fff\",\r\n    color: \"black\",\r\n    fontFamily: \"'Proxima Nova'\",\r\n  },\r\n}));\r\n\r\nexport default function OffersPage(props) {\r\n  const classes = useStyles();\r\n  const [state, setState] = useState({\r\n    coupon_code: \"\",\r\n  });\r\n  const [curState, setCurState] = useState(null);\r\n\r\n  const handleChange = (evt) => {\r\n    setState({\r\n      ...state,\r\n      [evt.target.name]: String(evt.target.value).toLocaleUpperCase(),\r\n    });\r\n  };\r\n\r\n  const applyCouponCode = () => {\r\n    let offer = props.offers.find((o) => o.code === state.coupon_code);\r\n\r\n    props.applyOffer(offer);\r\n\r\n    setState({\r\n      ...state,\r\n      coupon_code: \"\",\r\n    });\r\n  };\r\n\r\n  const goBack = (isPopped = false) => {\r\n    if (!isPopped) {\r\n      window.history.back();\r\n    }\r\n\r\n    props.handleClose();\r\n  };\r\n\r\n  const onBackButtonEvent = (e) => {\r\n    e.preventDefault();\r\n    goBack(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCurState(window.history.state);\r\n    window.history.pushState(\r\n      window.history.state,\r\n      null,\r\n      window.location.pathname + \"#offers\"\r\n    );\r\n    window.addEventListener(\"popstate\", onBackButtonEvent);\r\n    return () => {\r\n      window.removeEventListener(\"popstate\", onBackButtonEvent);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <AppBar position=\"sticky\" className={classes.appBar} elevation={0}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            onClick={() => goBack()}\r\n            aria-label=\"close\"\r\n          >\r\n            <BackIcon />\r\n          </IconButton>\r\n          <Typography\r\n            style={{\r\n              fontSize: \"1.03rem\",\r\n              fontWeight: 500,\r\n              fontFamily: \"'Proxima Nova'\",\r\n              paddingLeft: \"4px\",\r\n            }}\r\n          >\r\n            Apply Offers\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div>\r\n        <div\r\n          style={{\r\n            background: \"#f4f4f5\",\r\n            padding: \"20px 16px 10px 16px\",\r\n          }}\r\n        >\r\n          <div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                background: \"white\",\r\n                alignItems: \"center\",\r\n                padding: \"10px\",\r\n                WebkitBoxShadow: \"0 1px 7px 0 rgb(40 44 63 / 7%)\",\r\n                boxShadow: \"0 1px 7px 0 rgb(40 44 63 / 7%)\",\r\n                border: \"solid 1px rgba(40,44,63,.18)\",\r\n                backgroundColor: \"#fff\",\r\n                height: \"38px\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  width: \"90%\",\r\n                }}\r\n              >\r\n                <input\r\n                  name=\"coupon_code\"\r\n                  value={state.coupon_code}\r\n                  onChange={handleChange}\r\n                  style={{\r\n                    border: \"none\",\r\n                    width: \"100%\",\r\n                    outline: \"0\",\r\n                  }}\r\n                  placeholder=\"Enter coupon code\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Button\r\n                  onClick={applyCouponCode}\r\n                  style={{\r\n                    padding: \"0px\",\r\n                    minWidth: \"0px\",\r\n                    // color: \"rgb(252, 128, 25)\",\r\n                    color: \"rgb(50 139 214)\",\r\n                    fontSize: \"0.83rem\",\r\n                    fontWeight: \"600\",\r\n                    fontFamily: \"'Proxima Nova'\",\r\n                    opacity: state.coupon_code.length > 0 ? 1 : 0.64,\r\n                  }}\r\n                  disabled={state.coupon_code.length === 0}\r\n                >\r\n                  APPLY\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <h2\r\n            style={{\r\n              marginTop: \"30px\",\r\n              marginBottom: \"0px\",\r\n              textTransform: \"uppercase\",\r\n              color: \"#535665\",\r\n              fontSize: \".75rem\",\r\n              fontWeight: \"500\",\r\n              fontFamily: \"'Proxima Nova'\",\r\n            }}\r\n          >\r\n            Available Offers\r\n          </h2>\r\n        </div>\r\n        <div>\r\n          {props.offers?.length > 0 &&\r\n            props.offers.map((offer) => (\r\n              <Offer\r\n                offer={offer}\r\n                applyOffer={props.applyOffer}\r\n                cart={props.cart}\r\n              />\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport function GreenOfferIcon() {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      width=\"64\"\r\n      height=\"64\"\r\n      viewBox=\"0 0 172 172\"\r\n      style={{ fill: \"#000000\" }}\r\n    >\r\n      <g transform=\"\">\r\n        <g\r\n          fill=\"none\"\r\n          fill-rule=\"nonzero\"\r\n          stroke=\"none\"\r\n          stroke-width=\"1\"\r\n          stroke-linecap=\"butt\"\r\n          stroke-linejoin=\"miter\"\r\n          stroke-miterlimit=\"10\"\r\n          stroke-dasharray=\"\"\r\n          stroke-dashoffset=\"0\"\r\n          font-family=\"none\"\r\n          font-weight=\"none\"\r\n          font-size=\"none\"\r\n          text-anchor=\"none\"\r\n          textAnchor=\"none\"\r\n          style={{ mixBlendMode: \"normal\" }}\r\n        >\r\n          <path d=\"M0,172v-172h172v172z\" fill=\"none\"></path>\r\n          <g id=\"Layer_1\">\r\n            <path\r\n              d=\"M146.716,98.212l14.104,-12.212l-13.932,-12.04l8.428,-16.34l-17.716,-5.848l1.376,-18.748l-18.404,1.376l-5.676,-17.372l-16.684,8.256l-12.212,-14.104l-12.04,13.932l-16.34,-8.428l-5.848,17.716l-18.748,-1.376l1.376,18.404l-17.372,5.676l8.256,16.684l-14.104,12.212l13.932,12.04l-8.428,16.34l17.716,5.848l-1.376,18.748l18.404,-1.376l5.676,17.372l16.684,-8.256l12.212,14.104l12.04,-13.932l16.34,8.428l5.848,-17.716l18.748,1.376l-1.376,-18.404l17.372,-5.676z\"\r\n              fill=\"#6fc492\"\r\n            ></path>\r\n            <path\r\n              d=\"M86,163.4c-0.688,0 -1.376,-0.344 -1.892,-0.86l-10.836,-12.556l-14.964,7.396c-0.688,0.344 -1.376,0.344 -2.064,0c-0.688,-0.344 -1.204,-0.86 -1.376,-1.548l-5.16,-15.652l-16.34,1.204c-0.688,0 -1.548,-0.172 -2.064,-0.688c-0.516,-0.516 -0.86,-1.204 -0.688,-2.064l1.204,-16.684l-15.824,-5.332c-0.688,-0.172 -1.204,-0.688 -1.548,-1.376c-0.344,-0.688 -0.172,-1.548 0.172,-2.064l7.396,-14.62l-12.384,-10.664c-0.688,-0.516 -1.032,-1.204 -1.032,-1.892c0,-0.688 0.344,-1.376 0.86,-1.892l12.556,-10.836l-7.396,-14.964c-0.344,-0.688 -0.344,-1.376 0,-2.064c0.344,-0.688 0.86,-1.204 1.548,-1.376l15.652,-5.16l-1.204,-16.34c0,-0.688 0.172,-1.548 0.688,-2.064c0.516,-0.516 1.204,-0.86 2.064,-0.688l16.684,1.204l5.332,-15.824c0.172,-0.688 0.688,-1.204 1.376,-1.548c0.688,-0.344 1.548,-0.172 2.064,0l14.62,7.396l10.664,-12.384c0.516,-0.516 1.204,-0.86 1.892,-0.86c0.688,0 1.376,0.344 1.892,0.86l10.836,12.556l14.964,-7.396c0.688,-0.344 1.376,-0.344 2.064,0c0.688,0.344 1.204,0.86 1.376,1.548l5.16,15.652l16.34,-1.204c0.688,0 1.548,0.172 2.064,0.688c0.516,0.516 0.86,1.204 0.688,2.064l-1.204,16.512l15.824,5.332c0.688,0.172 1.204,0.688 1.548,1.376c0.344,0.688 0.172,1.548 -0.172,2.064l-7.396,14.62l12.384,10.664c0.516,0.516 0.86,1.204 0.86,1.892c0,0.688 -0.344,1.376 -0.86,1.892l-12.556,10.836l7.396,14.964c0.344,0.688 0.344,1.376 0,2.064c-0.344,0.688 -0.86,1.204 -1.548,1.376l-15.652,5.16l1.204,16.34c0,0.688 -0.172,1.548 -0.688,2.064c-0.516,0.516 -1.204,0.86 -2.064,0.688l-16.34,-1.032l-5.332,15.824c-0.172,0.688 -0.688,1.204 -1.376,1.548c-0.688,0.344 -1.376,0.172 -2.064,-0.172l-14.62,-7.396l-10.664,12.384c-0.688,0.688 -1.376,1.032 -2.064,1.032zM73.788,144.136c0.688,0 1.376,0.344 1.892,0.86l10.32,11.868l10.148,-11.696c0.688,-0.86 2.064,-1.204 3.096,-0.688l13.76,7.052l4.988,-14.964c0.344,-1.032 1.376,-1.892 2.58,-1.72l15.652,1.204l-1.204,-15.48c-0.172,-1.204 0.688,-2.236 1.72,-2.58l14.62,-4.816l-6.88,-13.932c-0.516,-1.032 -0.344,-2.236 0.688,-3.096l11.868,-10.32l-11.696,-10.148c-0.86,-0.688 -1.204,-2.064 -0.688,-3.096l7.052,-13.76l-14.964,-4.988c-1.032,-0.344 -1.892,-1.376 -1.72,-2.58l1.204,-15.652l-15.48,1.204c-1.204,0 -2.236,-0.688 -2.58,-1.72l-4.816,-14.62l-14.104,7.052c-1.032,0.516 -2.236,0.344 -3.096,-0.688l-10.32,-11.868l-10.148,11.696c-0.688,0.86 -2.064,1.204 -3.096,0.688l-13.76,-7.052l-4.988,14.964c-0.344,1.032 -1.376,1.892 -2.58,1.72l-15.652,-1.204l1.204,15.48c0.172,1.204 -0.688,2.236 -1.72,2.58l-14.62,4.816l7.052,14.104c0.516,1.032 0.344,2.236 -0.688,3.096l-11.868,10.32l11.696,10.148c0.86,0.688 1.204,2.064 0.688,3.096l-7.052,13.76l14.964,4.988c1.032,0.344 1.892,1.376 1.72,2.58l-1.204,15.652l15.48,-1.204c1.204,-0.172 2.236,0.688 2.58,1.72l4.816,14.62l14.104,-7.052c0.344,-0.172 0.688,-0.344 1.032,-0.344z\"\r\n              fill=\"#000000\"\r\n            ></path>\r\n            <path\r\n              d=\"M74.992,73.788c0,-4.128 -0.86,-7.224 -2.752,-9.288c-1.892,-2.064 -4.3,-2.924 -7.568,-2.924c-3.096,0 -5.504,1.032 -7.396,2.924c-1.892,2.064 -2.752,4.988 -2.752,9.116c0,4.128 0.86,7.224 2.752,9.288c1.892,2.064 4.3,2.924 7.568,2.924c3.096,0 5.504,-1.032 7.396,-2.924c1.892,-1.892 2.752,-4.988 2.752,-9.116zM66.908,79.808c-0.516,0.688 -1.204,1.204 -2.236,1.204c-0.86,0 -1.72,-0.344 -2.236,-1.204c-0.688,-1.032 -1.032,-3.096 -1.032,-6.02c0,-2.924 0.344,-4.988 1.032,-6.02c0.516,-0.688 1.204,-1.204 2.236,-1.204c0.86,0 1.72,0.344 2.236,1.204c0.688,1.032 1.032,2.924 1.032,6.02c0,2.924 -0.344,4.988 -1.032,6.02z\"\r\n              fill=\"#000000\"\r\n            ></path>\r\n            <path\r\n              d=\"M114.724,88.924c-1.892,-2.064 -4.3,-2.924 -7.396,-2.924c-3.096,0 -5.676,1.032 -7.396,2.924c-1.892,2.064 -2.752,4.988 -2.752,9.116c0,4.128 0.86,7.224 2.752,9.288c1.892,2.064 4.3,2.924 7.568,2.924c3.096,0 5.504,-1.032 7.396,-2.924c1.892,-2.064 2.752,-4.988 2.752,-9.288c-0.344,-3.956 -1.204,-7.052 -2.924,-9.116zM109.22,104.232c-0.516,0.688 -1.204,1.204 -2.236,1.204c-0.86,0 -1.72,-0.344 -2.236,-1.204c-0.688,-1.032 -1.032,-2.924 -1.032,-6.02c0,-2.924 0.344,-4.988 1.032,-6.02c0.516,-0.688 1.204,-1.204 2.236,-1.204c0.86,0 1.72,0.344 2.236,1.204c0.688,1.032 1.032,3.096 1.032,6.02c0,2.924 -0.344,4.988 -1.032,6.02z\"\r\n              fill=\"#000000\"\r\n            ></path>\r\n            <path\r\n              d=\"M95.116,61.576l-24.596,48.676h6.536l24.424,-48.676z\"\r\n              fill=\"#000000\"\r\n            ></path>\r\n          </g>\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport function RedOfferIcon() {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      x=\"0px\"\r\n      y=\"0px\"\r\n      width=\"64\"\r\n      height=\"64\"\r\n      viewBox=\"0 0 172 172\"\r\n      style={{ fill: \"#000000\" }}\r\n    >\r\n      <g\r\n        fill=\"none\"\r\n        fill-rule=\"nonzero\"\r\n        stroke=\"none\"\r\n        stroke-width=\"1\"\r\n        stroke-linecap=\"butt\"\r\n        stroke-linejoin=\"miter\"\r\n        stroke-miterlimit=\"10\"\r\n        stroke-dasharray=\"\"\r\n        stroke-dashoffset=\"0\"\r\n        font-family=\"none\"\r\n        font-weight=\"none\"\r\n        font-size=\"none\"\r\n        textAnchor=\"none\"\r\n        style={{ mixBlendMode: \"normal\" }}\r\n      >\r\n        <path d=\"M0,172v-172h172v172z\" fill=\"none\"></path>\r\n        <g id=\"Layer_1\">\r\n          <path\r\n            d=\"M146.716,98.212l14.104,-12.212l-13.932,-12.04l8.428,-16.34l-17.716,-5.848l1.376,-18.748l-18.404,1.376l-5.676,-17.372l-16.684,8.256l-12.212,-14.104l-12.04,13.932l-16.34,-8.428l-5.848,17.716l-18.748,-1.376l1.376,18.404l-17.372,5.676l8.256,16.684l-14.104,12.212l13.932,12.04l-8.428,16.34l17.716,5.848l-1.376,18.748l18.404,-1.376l5.676,17.372l16.684,-8.256l12.212,14.104l12.04,-13.932l16.34,8.428l5.848,-17.716l18.748,1.376l-1.376,-18.404l17.372,-5.676z\"\r\n            fill=\"#f09488\"\r\n          ></path>\r\n          <path\r\n            d=\"M86,163.4c-0.688,0 -1.376,-0.344 -1.892,-0.86l-10.836,-12.556l-14.964,7.396c-0.688,0.344 -1.376,0.344 -2.064,0c-0.688,-0.344 -1.204,-0.86 -1.376,-1.548l-5.16,-15.652l-16.34,1.204c-0.688,0 -1.548,-0.172 -2.064,-0.688c-0.516,-0.516 -0.86,-1.204 -0.688,-2.064l1.204,-16.684l-15.824,-5.332c-0.688,-0.172 -1.204,-0.688 -1.548,-1.376c-0.344,-0.688 -0.172,-1.548 0.172,-2.064l7.396,-14.62l-12.384,-10.664c-0.688,-0.516 -1.032,-1.204 -1.032,-1.892c0,-0.688 0.344,-1.376 0.86,-1.892l12.556,-10.836l-7.396,-14.964c-0.344,-0.688 -0.344,-1.376 0,-2.064c0.344,-0.688 0.86,-1.204 1.548,-1.376l15.652,-5.16l-1.204,-16.34c0,-0.688 0.172,-1.548 0.688,-2.064c0.516,-0.516 1.204,-0.86 2.064,-0.688l16.684,1.204l5.332,-15.824c0.172,-0.688 0.688,-1.204 1.376,-1.548c0.688,-0.344 1.548,-0.172 2.064,0l14.62,7.396l10.664,-12.384c0.516,-0.516 1.204,-0.86 1.892,-0.86c0.688,0 1.376,0.344 1.892,0.86l10.836,12.556l14.964,-7.396c0.688,-0.344 1.376,-0.344 2.064,0c0.688,0.344 1.204,0.86 1.376,1.548l5.16,15.652l16.34,-1.204c0.688,0 1.548,0.172 2.064,0.688c0.516,0.516 0.86,1.204 0.688,2.064l-1.204,16.512l15.824,5.332c0.688,0.172 1.204,0.688 1.548,1.376c0.344,0.688 0.172,1.548 -0.172,2.064l-7.396,14.62l12.384,10.664c0.516,0.516 0.86,1.204 0.86,1.892c0,0.688 -0.344,1.376 -0.86,1.892l-12.556,10.836l7.396,14.964c0.344,0.688 0.344,1.376 0,2.064c-0.344,0.688 -0.86,1.204 -1.548,1.376l-15.652,5.16l1.204,16.34c0,0.688 -0.172,1.548 -0.688,2.064c-0.516,0.516 -1.204,0.86 -2.064,0.688l-16.34,-1.032l-5.332,15.824c-0.172,0.688 -0.688,1.204 -1.376,1.548c-0.688,0.344 -1.376,0.172 -2.064,-0.172l-14.62,-7.396l-10.664,12.384c-0.688,0.688 -1.376,1.032 -2.064,1.032zM73.788,144.136c0.688,0 1.376,0.344 1.892,0.86l10.32,11.868l10.148,-11.696c0.688,-0.86 2.064,-1.204 3.096,-0.688l13.76,7.052l4.988,-14.964c0.344,-1.032 1.376,-1.892 2.58,-1.72l15.652,1.204l-1.204,-15.48c-0.172,-1.204 0.688,-2.236 1.72,-2.58l14.62,-4.816l-6.88,-13.932c-0.516,-1.032 -0.344,-2.236 0.688,-3.096l11.868,-10.32l-11.696,-10.148c-0.86,-0.688 -1.204,-2.064 -0.688,-3.096l7.052,-13.76l-14.964,-4.988c-1.032,-0.344 -1.892,-1.376 -1.72,-2.58l1.204,-15.652l-15.48,1.204c-1.204,0 -2.236,-0.688 -2.58,-1.72l-4.816,-14.62l-14.104,7.052c-1.032,0.516 -2.236,0.344 -3.096,-0.688l-10.32,-11.868l-10.148,11.696c-0.688,0.86 -2.064,1.204 -3.096,0.688l-13.76,-7.052l-4.988,14.964c-0.344,1.032 -1.376,1.892 -2.58,1.72l-15.652,-1.204l1.204,15.48c0.172,1.204 -0.688,2.236 -1.72,2.58l-14.62,4.816l7.052,14.104c0.516,1.032 0.344,2.236 -0.688,3.096l-11.868,10.32l11.696,10.148c0.86,0.688 1.204,2.064 0.688,3.096l-7.052,13.76l14.964,4.988c1.032,0.344 1.892,1.376 1.72,2.58l-1.204,15.652l15.48,-1.204c1.204,-0.172 2.236,0.688 2.58,1.72l4.816,14.62l14.104,-7.052c0.344,-0.172 0.688,-0.344 1.032,-0.344z\"\r\n            fill=\"#000000\"\r\n          ></path>\r\n          <path\r\n            d=\"M74.992,73.788c0,-4.128 -0.86,-7.224 -2.752,-9.288c-1.892,-2.064 -4.3,-2.924 -7.568,-2.924c-3.096,0 -5.504,1.032 -7.396,2.924c-1.892,2.064 -2.752,4.988 -2.752,9.116c0,4.128 0.86,7.224 2.752,9.288c1.892,2.064 4.3,2.924 7.568,2.924c3.096,0 5.504,-1.032 7.396,-2.924c1.892,-1.892 2.752,-4.988 2.752,-9.116zM66.908,79.808c-0.516,0.688 -1.204,1.204 -2.236,1.204c-0.86,0 -1.72,-0.344 -2.236,-1.204c-0.688,-1.032 -1.032,-3.096 -1.032,-6.02c0,-2.924 0.344,-4.988 1.032,-6.02c0.516,-0.688 1.204,-1.204 2.236,-1.204c0.86,0 1.72,0.344 2.236,1.204c0.688,1.032 1.032,2.924 1.032,6.02c0,2.924 -0.344,4.988 -1.032,6.02z\"\r\n            fill=\"#333333\"\r\n          ></path>\r\n          <path\r\n            d=\"M114.724,88.924c-1.892,-2.064 -4.3,-2.924 -7.396,-2.924c-3.096,0 -5.676,1.032 -7.396,2.924c-1.892,2.064 -2.752,4.988 -2.752,9.116c0,4.128 0.86,7.224 2.752,9.288c1.892,2.064 4.3,2.924 7.568,2.924c3.096,0 5.504,-1.032 7.396,-2.924c1.892,-2.064 2.752,-4.988 2.752,-9.288c-0.344,-3.956 -1.204,-7.052 -2.924,-9.116zM109.22,104.232c-0.516,0.688 -1.204,1.204 -2.236,1.204c-0.86,0 -1.72,-0.344 -2.236,-1.204c-0.688,-1.032 -1.032,-2.924 -1.032,-6.02c0,-2.924 0.344,-4.988 1.032,-6.02c0.516,-0.688 1.204,-1.204 2.236,-1.204c0.86,0 1.72,0.344 2.236,1.204c0.688,1.032 1.032,3.096 1.032,6.02c0,2.924 -0.344,4.988 -1.032,6.02z\"\r\n            fill=\"#333333\"\r\n          ></path>\r\n          <path\r\n            d=\"M95.116,61.576l-24.596,48.676h6.536l24.424,-48.676z\"\r\n            fill=\"#333333\"\r\n          ></path>\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default function MsgOfferIcon(props) {\r\n  return props.type === \"success\" ? <GreenOfferIcon /> : <RedOfferIcon />;\r\n}\r\n","import React from \"react\";\r\nimport { useMediaQuery } from \"@material-ui/core\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nexport default function PaperComponent(props) {\r\n  return (\r\n    <Paper\r\n      style={{\r\n        padding: \"12px\",\r\n        borderRadius: \"12px\",\r\n        minWidth: \"260px\",\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n","/**\r\n * @summary All the defined Item Statuses\r\n */\r\nconst ITEM_STATUS = {\r\n  NEW: \"NEW\",\r\n  PLACED: \"PLACED\",\r\n  ACCEPTED: \"ACCEPTED\",\r\n  PREPARING: \"PREPARING\",\r\n\r\n  CANCEL: \"CANCEL\", // manual\r\n  CANCELLED: \"CANCELLED\", // manual only After ACCEPT from Rest\r\n\r\n  SERVED: \"SERVED\", // manual\r\n};\r\n\r\nexport default ITEM_STATUS;\r\n","/**\r\n * @summary All the defined Order Statuses\r\n * - the statuses marked manual are triggered manaully\r\n * - the semi statuses are only there in the server\r\n */\r\nconst ORDER_STATUS = {\r\n  NEW: \"NEW\", //manual - semi status\r\n  PLACED: \"PLACED\",\r\n  ORDER_ACCEPTED: \"ORDER_ACCEPTED\", //manual for accepted order only After ACCEPT from Rest\r\n  ORDER_REJECTED: \"ORDER_REJECTED\",\r\n  ACCEPTED_PARTIALLY: \"ACCEPTED_PARTIALLY\",\r\n  PREPARING: \"PREPARING\",\r\n\r\n  UPDATE: \"UPDATE\", //manual\r\n  UPDATE_ACCEPTED: \"UPDATE_ACCEPTED\",\r\n  UPDATE_REJECTED: \"UPDATE_REJECTED\",\r\n  UPDATED_PARTIALLY: \"UPDATED_PARTIALLY\",\r\n  UPDATED: \"UPDATED\", //manual only After ACCEPT from Rest\r\n\r\n  CANCEL: \"CANCEL\", //manual\r\n  CANCEL_ACCEPTED: \"CANCEL_ACCEPTED\",\r\n  CANCEL_REJECTED: \"CANCEL_REJECTED\",\r\n  CANCELLED_PARTIALLY: \"CANCELLED_PARTIALLY\", //Not required\r\n  CANCELLED: \"CANCELLED\", //manual only After ACCEPT from Rest\r\n\r\n  SERVED: \"SERVED\", //manual -- last stage\r\n  CLOSED: \"CLOSED\", // manual - After customer checks out all his current table orders(In Status SERVED) will be CLOSED (Triggered by rest)\r\n};\r\n\r\nexport default ORDER_STATUS;\r\n","import { clone } from \"ramda\";\r\nimport { v4 } from \"uuid\";\r\nimport ALERT_TYPES from \"../../enums/alert_types\";\r\nimport ITEM_STATUS from \"../../enums/item_status\";\r\nimport ORDER_STATUS from \"../../enums/order_status\";\r\nimport store from \"../store\";\r\nimport { setAlert } from \"./alert\";\r\nimport { PLACE_ORDER } from \"./types\";\r\n\r\nexport const placeOrder =\r\n  ({ items, offers, totalCost, orderNum }) =>\r\n  (dispatch) => {\r\n    try {\r\n      let user = store.getState()?.common?.user;\r\n      let curDate = Date.now();\r\n      let order = {\r\n        _id: v4(), // TO BE REMOVED ONCE API INTEGRATED\r\n        rest_id: store.getState()?.restaurant?.rest_id,\r\n        table_id: \"00\", //TO-DO\r\n        items: items,\r\n        total_price: totalCost,\r\n        session_id: \"Dummy Session\",\r\n        offers: offers,\r\n        status: ORDER_STATUS.NEW,\r\n        meta: {\r\n          user: { ...user },\r\n          order_num: orderNum,\r\n        },\r\n        audit: [\r\n          {\r\n            status: ORDER_STATUS.NEW,\r\n            updated: curDate,\r\n            desc: `By ${user.user_name} at ${new Date(\r\n              curDate\r\n            ).toLocaleTimeString([], {\r\n              hour: \"2-digit\",\r\n              minute: \"2-digit\",\r\n            })} on ${new Date(curDate).toLocaleDateString()}`,\r\n          },\r\n        ],\r\n        date: curDate,\r\n      };\r\n\r\n      order.items = updateAllItemsStatus(order.items, ITEM_STATUS.NEW);\r\n\r\n      //TO-DO: [API CALL] Do a post api call to place the order\r\n\r\n      let table = store.getState()?.table;\r\n\r\n      if (!Boolean(table)) {\r\n        table = {\r\n          orders: [order],\r\n          offers: [],\r\n          totalCost: 0,\r\n        };\r\n      } else {\r\n        table.orders = [...table.orders, order];\r\n        table.totalCost += Number(order.total_price);\r\n      }\r\n\r\n      dispatch({\r\n        type: PLACE_ORDER,\r\n        payload: clone(table),\r\n      });\r\n\r\n      return order; // this is the payload from the API call made\r\n    } catch (err) {\r\n      setAlert(\"Error placing order..\", ALERT_TYPES.ERROR);\r\n    }\r\n  };\r\n\r\n//#region Helper methods\r\n\r\nexport function getNextOrderNumber(userName) {\r\n  let orders = store.getState()?.table.orders;\r\n\r\n  return orders.filter((o) => o?.meta?.user?.user_name === userName).length + 1;\r\n}\r\n\r\nconst updateAllItemsStatus = (items, status) => {\r\n  return items.map((item) => {\r\n    item.status = status;\r\n    return item;\r\n  });\r\n};\r\n\r\n//#endregion\r\n","import {\r\n  Button,\r\n  ButtonBase,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport React, { Fragment, useEffect, useState } from \"react\";\r\nimport CartAppBar from \"./components/CartAppBar\";\r\nimport useStyles from \"./styles/main\";\r\nimport ArrowForwardIosRoundedIcon from \"@material-ui/icons/ArrowForwardIosRounded\";\r\nimport CheckCircleRoundedIcon from \"@material-ui/icons/CheckCircleRounded\";\r\nimport OfferIcon from \"../../layouts/components/OfferIcon\";\r\nimport { OrderSlideButton } from \"./components/OrderSlideButton\";\r\nimport { connect, useDispatch } from \"react-redux\";\r\nimport CartItem from \"./components/CartItem\";\r\nimport { clone, set } from \"ramda\";\r\nimport { getChargesMap, round } from \"./utils/helpers\";\r\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\r\nimport OffersPage from \"./components/OffersPage\";\r\nimport DialogTransition from \"../menu/shared/DialogTransition\";\r\nimport {\r\n  applyOfferOnCart,\r\n  clearCart,\r\n  removeOffers,\r\n} from \"../../redux/actions/cart\";\r\nimport { processOffer, isOfferApplicable } from \"./utils/offers\";\r\nimport { isObjEmpty } from \"../../utils/helpers\";\r\nimport MsgOfferIcon from \"./assets/MsgOfferIcon\";\r\nimport PaperComponent from \"./shared/PaperComponent\";\r\nimport {\r\n  getNextOrderNumber,\r\n  placeOrder as placeOrderAction,\r\n} from \"../../redux/actions/table\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Cart(props) {\r\n  const classes = useStyles();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [state, setState] = useState({\r\n    infoX: 0,\r\n    infoY: 0,\r\n    is_open: false,\r\n    f_offer_page: false,\r\n    f_offer_msg: false,\r\n    infolist: [],\r\n    infoHead: \"\",\r\n  });\r\n  const [curOffer, setCurOffer] = useState({\r\n    is_applied: false,\r\n    code: \"\",\r\n    discount: 0,\r\n  });\r\n\r\n  const handleDialogOpen = (flagName) => {\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      [flagName]: true,\r\n    }));\r\n  };\r\n\r\n  const handleDialogClose = (flagName) => {\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      [flagName]: false,\r\n    }));\r\n  };\r\n\r\n  const getOrderTotal = () => {\r\n    let chargeTotal = getChargesMap(\r\n      props.charges.filter((chr) => chr?.scope === \"order\"),\r\n      props.cart.totalCost\r\n    ).reduce((c_total, chr) => c_total + chr.total, 0);\r\n\r\n    let discount = props.cart.offers.reduce(\r\n      (tot, o) => (o.is_applicable ? tot + o.discount : tot),\r\n      0\r\n    );\r\n\r\n    return round(props.cart.totalCost + chargeTotal - discount, 1);\r\n  };\r\n\r\n  const handleInfoOpen = (evt, sub_charges, charge) => {\r\n    const domRect = evt.target.getClientRects()[0];\r\n\r\n    setState({\r\n      ...state,\r\n      is_open: true,\r\n      infoX: domRect.width / 2 + domRect.left - 32,\r\n      infoY: domRect.height / 4 - domRect.top + window.innerHeight + 11,\r\n      infolist: [...sub_charges],\r\n      infoHead: charge,\r\n    });\r\n  };\r\n\r\n  const handleInfoClose = () => {\r\n    setState({\r\n      ...state,\r\n      is_open: false,\r\n      infoX: 0,\r\n      infoY: 0,\r\n      infolist: [],\r\n      infoHead: \"\",\r\n    });\r\n  };\r\n\r\n  const openOfferMsg = (offer) => {\r\n    setTimeout(() => {\r\n      setCurOffer({\r\n        ...curOffer,\r\n        ...offer,\r\n      });\r\n      setTimeout(() => handleDialogOpen(\"f_offer_msg\"), 100);\r\n    }, 200);\r\n  };\r\n\r\n  const applyOffer = (offer) => {\r\n    if (isOfferApplicable(offer, props.cart)) {\r\n      let discountedValue = processOffer(offer, props.cart);\r\n\r\n      dispatch(applyOfferOnCart(discountedValue, offer));\r\n      openOfferMsg({\r\n        is_applied: true,\r\n        code: offer.code,\r\n        discount: discountedValue,\r\n      });\r\n    } else {\r\n      openOfferMsg({\r\n        is_applied: false,\r\n        code: \"\",\r\n        discount: 0,\r\n      });\r\n    }\r\n\r\n    handleDialogClose(\"f_offer_page\");\r\n  };\r\n\r\n  const getAppliedOffer = () => {\r\n    return props.cart.offers.find((o) => o.type === \"applied\");\r\n  };\r\n\r\n  const removeOffer = () => {\r\n    let curOffer = getAppliedOffer();\r\n    dispatch(removeOffers([curOffer.offer_id]));\r\n  };\r\n\r\n  const placeOrder = () => {\r\n    let orderNum = getNextOrderNumber(props.common?.user?.user_name);\r\n    dispatch(\r\n      placeOrderAction({ ...props.cart, totoalCost: getOrderTotal(), orderNum })\r\n    );\r\n\r\n    navigate(`/restaurant/orders/${orderNum}`);\r\n    dispatch(clearCart());\r\n  };\r\n\r\n  const goBack = () => {\r\n    navigate(\"/restaurant/menu\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.cart?.items?.length === 0) {\r\n      navigate(\"/restaurant/menu\");\r\n      dispatch(clearCart());\r\n    }\r\n  }, [props.cart, props.cart?.items]);\r\n\r\n  useEffect(() => {\r\n    if (!curOffer.is_applied) {\r\n      setCurOffer({\r\n        ...curOffer,\r\n        is_applied: false,\r\n        code: \"\",\r\n        discount: 0,\r\n      });\r\n    }\r\n  }, [state.f_offer_msg, setCurOffer]);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    document.addEventListener(\"scroll\", handleInfoClose);\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ paddingBottom: \"100px\" }}>\r\n      <div className=\"partials\">\r\n        <Dialog\r\n          PaperComponent={PaperComponent}\r\n          open={state.f_offer_msg}\r\n          onClose={() => handleDialogClose(\"f_offer_msg\")}\r\n        >\r\n          <DialogTitle\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              padding: \"6px\",\r\n            }}\r\n          >\r\n            <MsgOfferIcon type={curOffer.is_applied ? \"success\" : \"fail\"} />\r\n          </DialogTitle>\r\n          <DialogContent style={{ paddingTop: \"0px\" }}>\r\n            {curOffer.is_applied ? (\r\n              <Fragment>\r\n                <Typography\r\n                  style={{\r\n                    textAlign: \"center\",\r\n                    fontWeight: \"600\",\r\n                    fontFamily: \"'Proxima Nova'\",\r\n                    fontSize: \"0.85rem\",\r\n                    color: \"#4a4949\",\r\n                  }}\r\n                >\r\n                  code '{curOffer.code}' applied\r\n                </Typography>\r\n                <Typography\r\n                  style={{\r\n                    textAlign: \"center\",\r\n                    fontWeight: \"600\",\r\n                    fontSize: \"1.4rem\",\r\n                    fontFamily: \"'Proxima Nova'\",\r\n                    marginTop: \"3px\",\r\n                    marginBottom: \"-3px\",\r\n                  }}\r\n                >\r\n                  You saved <span>&#8377;</span>\r\n                  {curOffer.discount}\r\n                </Typography>\r\n                <Typography\r\n                  style={{\r\n                    textAlign: \"center\",\r\n                    fontFamily: \"'Proxima Nova'\",\r\n                    fontSize: \"0.95rem\",\r\n                    color: \"#4a4949\",\r\n                  }}\r\n                >\r\n                  with this coupon\r\n                </Typography>\r\n              </Fragment>\r\n            ) : (\r\n              <Fragment>\r\n                <Typography\r\n                  style={{\r\n                    textAlign: \"center\",\r\n                    fontWeight: \"600\",\r\n                    fontFamily: \"'Proxima Nova'\",\r\n                    fontSize: \"0.85rem\",\r\n                    color: \"#4a4949\",\r\n                  }}\r\n                >\r\n                  Cannot apply this coupon\r\n                </Typography>\r\n              </Fragment>\r\n            )}\r\n          </DialogContent>\r\n          <DialogActions\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              padding: \"0px\",\r\n            }}\r\n          >\r\n            <Button\r\n              onClick={() => handleDialogClose(\"f_offer_msg\")}\r\n              style={{\r\n                fontWeight: \"600\",\r\n                fontFamily: \"'Proxima Nova'\",\r\n                color: \"#e59502\",\r\n              }}\r\n            >\r\n              Ok\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        <div\r\n          onClick={handleInfoClose}\r\n          style={{\r\n            display: state.is_open ? \"block\" : \"none\",\r\n            zIndex: 2,\r\n            position: \"fixed\",\r\n            top: 0,\r\n            left: 0,\r\n            width: \"100vw\",\r\n            height: \"100vh\",\r\n            backgroundColor: \"transparent\",\r\n          }}\r\n        ></div>\r\n        <Dialog\r\n          fullScreen\r\n          open={state.f_offer_page}\r\n          onClose={() => handleDialogClose(\"f_offer_page\")}\r\n          TransitionComponent={DialogTransition}\r\n        >\r\n          <OffersPage\r\n            handleClose={() => handleDialogClose(\"f_offer_page\")}\r\n            offers={props.offers.filter((o) => o.scope === \"order\")}\r\n            applyOffer={applyOffer}\r\n            cart={props.cart}\r\n          />\r\n        </Dialog>\r\n        <div\r\n          style={{\r\n            visibility: state.is_open ? \"visible\" : \"hidden\",\r\n            zIndex: 3,\r\n            position: \"fixed\",\r\n            bottom: state.infoY,\r\n            left: state.infoX,\r\n            background: \"white\",\r\n            boxShadow: \"0 0 3px 2px #e9e9eb\",\r\n            borderRadius: \"2px\",\r\n            minWidth: \"170px\",\r\n            maxWidth: \"240px\",\r\n            padding: \"7px\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              bottom: -7,\r\n              width: \"14px\",\r\n              height: \"14px\",\r\n              left: 24,\r\n              background: \"#fff\",\r\n              border: \"1px solid #e9e9eb\",\r\n              WebkitTransform: \"rotate(-60deg) skew(-30deg)\",\r\n              msTransform: \"rotate(-60deg) skew(-30deg)\",\r\n              transform: \"rotate(-60deg) skew(-30deg)\",\r\n              WebkitBoxShadow: \"0 2px 3px 1px #e9e9eb\",\r\n              boxShadow: \"0 2px 3px 1px #e9e9eb\",\r\n              zIndex: 1,\r\n            }}\r\n          ></div>\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              bottom: 0,\r\n              width: \"25px\",\r\n              height: \"14px\",\r\n              background: \"#fff\",\r\n              zIndex: 2,\r\n              left: 24,\r\n            }}\r\n          ></div>\r\n          <p\r\n            style={{\r\n              color: \"#3d4152\",\r\n              fontSize: \"14px\",\r\n              wordBreak: \"break-word\",\r\n              margin: \"6px\",\r\n              fontWeight: 500,\r\n              fontFamily: \"Proxima Nova\",\r\n            }}\r\n          >\r\n            {state.infoHead}\r\n          </p>\r\n          {state.infolist.map((chr) => (\r\n            <div className={classes.paymentItemCtnr}>\r\n              <p\r\n                style={{\r\n                  fontSize: \"12px\",\r\n                  fontWeight: 400,\r\n                  fontFamily: \"'Proxima Nova'\",\r\n                  color: \"#686f78\",\r\n                  margin: \"0px\",\r\n                }}\r\n                className={classes.paymentItem}\r\n              >\r\n                {chr.text}\r\n              </p>\r\n              <p\r\n                style={{\r\n                  fontSize: \"12px\",\r\n                  fontWeight: 400,\r\n                  fontFamily: \"'Proxima Nova'\",\r\n                  color: \"#686f78\",\r\n                  margin: \"0px\",\r\n                }}\r\n                className={classes.paymentItem}\r\n              >\r\n                <span>&#8377;</span> {chr.total}\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <CartAppBar n_items={props.cart.items.length} goBack={goBack} />\r\n      <Paper className={classes.itemList} elevation={0}>\r\n        <div id=\"item-list\" style={{ padding: \"0px 16px\" }}>\r\n          <p className={classes.itemsMnText}>Items Added</p>\r\n          {props.cart.items.map((item, idx) => (\r\n            <CartItem key={item._id} cart_item={item} />\r\n          ))}\r\n        </div>\r\n        <div className={classes.suggestionBox}>\r\n          <i\r\n            style={{\r\n              fontSize: \"16px\",\r\n              marginRight: \"20px\",\r\n              color: \"#686b78\",\r\n              fontWeight: 300,\r\n            }}\r\n            className=\"far fa-list-alt\"\r\n          ></i>\r\n          <textarea\r\n            className={classes.suggestionTextBox}\r\n            rows={1}\r\n            placeholder=\"Write suggestions for your order\"\r\n          ></textarea>\r\n        </div>\r\n      </Paper>\r\n      <div className={classes.separatorLine}></div>\r\n      <Paper className={classes.offerCtnr} elevation={0}>\r\n        <div>\r\n          <p className={classes.offerMnText}>Offers</p>\r\n          {isObjEmpty(getAppliedOffer()) ? (\r\n            <ButtonBase style={{ display: \"block\", width: \"100%\" }}>\r\n              <p\r\n                onClick={() => handleDialogOpen(\"f_offer_page\")}\r\n                className={classes.offerLtText}\r\n              >\r\n                <OfferIcon style={{ width: \"20px\", marginRight: \"6px\" }} />\r\n                Select a coupon code\r\n                <ArrowForwardIosRoundedIcon\r\n                  style={{ width: \"1rem\", marginLeft: \"auto\" }}\r\n                />\r\n              </p>\r\n            </ButtonBase>\r\n          ) : (\r\n            <div>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"space-between\",\r\n                  marginBottom: \"0px\",\r\n                  marginTop: \"-3px\",\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <CheckCircleRoundedIcon\r\n                    style={{\r\n                      width: \"18px\",\r\n                      fill: \"mediumseagreen\",\r\n                      verticalAlign: \"middle\",\r\n                      margin: \"3px\",\r\n                      marginRight: \"7px\",\r\n                    }}\r\n                  />\r\n                  <span\r\n                    style={{\r\n                      fontFamily: \"'Proxima Nova'\",\r\n                      fontWeight: \"600\",\r\n                    }}\r\n                  >\r\n                    Code '{getAppliedOffer().code}' applied\r\n                  </span>\r\n                </div>\r\n                <p\r\n                  style={{\r\n                    margin: \"0px\",\r\n                    color: \"#6ca4dd\",\r\n                    fontWeight: \"500\",\r\n                    fontFamily: \"'Proxima Nova'\",\r\n                  }}\r\n                >\r\n                  <span>-</span>\r\n                  <span>&#8377;</span> {getAppliedOffer().discount}\r\n                </p>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"flex-end\",\r\n                  alignItems: \"flex-start\",\r\n                  marginTop: \"-3px\",\r\n                }}\r\n              >\r\n                <Button\r\n                  onClick={removeOffer}\r\n                  style={{\r\n                    fontSize: \"0.6rem\",\r\n                    textTransform: \"lowercase\",\r\n                    padding: \"0px\",\r\n                    margin: \"0px\",\r\n                    minWidth: \"0px\",\r\n                    marginLeft: \"6px\",\r\n                    color: \"red\",\r\n                  }}\r\n                >\r\n                  remove\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Paper>\r\n      <div className={classes.separatorLine}></div>\r\n      <Paper className={classes.paymentsCtnr} elevation={0}>\r\n        <p className={classes.offerMnText}>Order Details</p>\r\n        <div className={classes.paymentItemCtnr}>\r\n          <p className={classes.paymentItem}>Item Total</p>\r\n          <p className={classes.paymentItem}>\r\n            <span>&#8377;</span> {props.cart.totalCost}\r\n          </p>\r\n        </div>\r\n        {props.cart.offers.length > 0 &&\r\n          props.cart.offers.map(\r\n            (o) =>\r\n              o.is_applicable && (\r\n                <div\r\n                  style={{ color: \"#03a103\" }}\r\n                  className={classes.paymentItemCtnr}\r\n                >\r\n                  <p className={classes.paymentItem}>{o.label_text}</p>\r\n                  <p className={classes.paymentItem}>\r\n                    <span>-</span>\r\n                    <span>&#8377;</span> {o.discount}\r\n                  </p>\r\n                </div>\r\n              )\r\n          )}\r\n        {getChargesMap(\r\n          props.charges.filter((chr) => chr?.scope === \"order\"),\r\n          props.cart.totalCost\r\n        ).map((chr) => (\r\n          <div className={classes.paymentItemCtnr}>\r\n            <p className={classes.paymentItem}>\r\n              {chr.text}\r\n              {chr.sub_charges.length > 0 && (\r\n                <InfoOutlinedIcon\r\n                  onClick={(evt) =>\r\n                    handleInfoOpen(evt, chr.sub_charges, chr.text)\r\n                  }\r\n                  className={classes.infoIcon}\r\n                />\r\n              )}\r\n            </p>\r\n            <p className={classes.paymentItem}>\r\n              <span>&#8377;</span> {chr.total}\r\n            </p>\r\n          </div>\r\n        ))}\r\n        <div className={classes.borderedSeparator}></div>\r\n        <div style={{ margin: \"0px\" }} className={classes.paymentItemCtnr}>\r\n          <p\r\n            /*style={{ fontSize: \"0.85rem\" }}*/ className={classes.offerMnText}\r\n          >\r\n            Order Total\r\n          </p>\r\n          <p\r\n            /*style={{ fontSize: \"0.85rem\" }}*/ className={classes.offerMnText}\r\n          >\r\n            <span>&#8377;</span> {getOrderTotal()}\r\n          </p>\r\n        </div>\r\n      </Paper>\r\n      <OrderSlideButton onSlideComplete={placeOrder} />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  cart: clone(state.cart),\r\n  offers: clone(state.restaurant.offers),\r\n  charges: clone(state.restaurant.settings.charges),\r\n  common: clone(state.common),\r\n});\r\n\r\nexport default connect(mapStateToProps)(Cart);\r\n","import { makeStyles } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  pulseLoader: {\r\n    display: \"inline-block\",\r\n    borderRadius: \"50%\",\r\n    backgroundColor: \"rgb(50, 139, 214)\",\r\n    outline: \"1px solid transparent\",\r\n    animation: `$pulseanim 1s ${theme.transitions.easing.easeInOut} infinite`,\r\n  },\r\n  \"@keyframes pulseanim\": {\r\n    \"50%\": {\r\n      transform: \"scale(0.4)\",\r\n      opacity: 0.5,\r\n    },\r\n    \"50%\": {\r\n      transform: \"scale(0.4)\",\r\n      opacity: 1,\r\n    },\r\n    \"100%\": {\r\n      transform: \"scale(0.8)\",\r\n      opacity: 0.5,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function PulseLoader(props) {\r\n  const classes = useStyles();\r\n  return <div className={classes.pulseLoader} {...props}></div>;\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  AppBar,\r\n  CssBaseline,\r\n  IconButton,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport useStyles from \"../../cart/styles/app_bar\";\r\nimport BackIcon from \"../../menu/assets/BackIcon\";\r\n\r\nfunction OrderAppBar(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"sticky\"\r\n        color=\"transparent\"\r\n        style={{ zIndex: 10 }}\r\n        id=\"cart-app-bar\"\r\n        elevation={0}\r\n      >\r\n        <Toolbar id=\"cart-tool-bar\" className={classes.appBarRoot}>\r\n          <IconButton\r\n            onClick={props.goBack}\r\n            style={{ padding: \"16px\" }}\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"close\"\r\n          >\r\n            <BackIcon />\r\n          </IconButton>\r\n          <div style={{ marginLeft: \"8px\" }}>\r\n            <Typography className={classes.abrMainText} noWrap>\r\n              Order #{!isNaN(props.order_num) ? props.order_num : \"- -\"}\r\n            </Typography>\r\n            <Typography className={classes.abrLightText} noWrap>\r\n              {props.n_items} Items | <span>&#8377;</span> {props.total}\r\n            </Typography>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default OrderAppBar;\r\n","import { clone } from \"ramda\";\r\nimport ITEM_STATUS from \"../../../enums/item_status\";\r\nimport ORDER_STATUS from \"../../../enums/order_status\";\r\nimport { isObjEmpty } from \"../../../utils/helpers\";\r\n\r\nexport const getStatusIndfoMap = (order) => {\r\n  if (isObjEmpty(order)) {\r\n    return [];\r\n  }\r\n\r\n  let statusArr = [...order.audit];\r\n\r\n  return clone(\r\n    statusArr.map((st) => {\r\n      let statusDetails = getOrderStatusLabels(st.status);\r\n\r\n      return { ...st, ...statusDetails };\r\n    })\r\n  );\r\n};\r\n\r\nexport const getOrderStatusLabels = (status) => {\r\n  switch (status) {\r\n    case ORDER_STATUS.NEW:\r\n      return {\r\n        short_label: \"Requested\", //To show the main status of order\r\n        label: \"Order Requeted\", // Used to show status in the status stepper\r\n        color: \"blue\", // color of the status pulse\r\n      };\r\n    case ORDER_STATUS.PLACED:\r\n      return {\r\n        short_label: \"Placed\",\r\n        label: \"Order Placed\",\r\n        color: \"blue\",\r\n      };\r\n    case ORDER_STATUS.ACCEPTED_PARTIALLY:\r\n      return {\r\n        short_label: \"Accepted Partially\",\r\n        label: \"Order Accepted Partially\",\r\n        color: \"green\",\r\n      };\r\n    case ORDER_STATUS.ORDER_ACCEPTED:\r\n      return {\r\n        short_label: \"Accepted\",\r\n        label: \"Order Accepted\",\r\n        color: \"green\",\r\n      };\r\n\r\n    case ORDER_STATUS.PREPARING:\r\n      return {\r\n        short_label: \"Preparing\",\r\n        label: \"Order Preparing\",\r\n        color: \"blue\",\r\n      };\r\n    case ORDER_STATUS.ORDER_REJECTED:\r\n      return {\r\n        short_label: \"Rejected\",\r\n        label: \"Order Rejected\",\r\n        color: \"red\",\r\n      };\r\n\r\n    default:\r\n      return {\r\n        short_label: \"Not defined\",\r\n        label: \"Not defined\",\r\n        color: \"yellow\",\r\n      };\r\n  }\r\n};\r\n\r\nexport const getItemStatusLabels = (status) => {\r\n  switch (status) {\r\n    case ITEM_STATUS.NEW:\r\n      return {\r\n        short_label: \"Requested\", //To show the main status of order\r\n        label: \"Item Requested\", // Used to show status in the status stepper\r\n        color: \"blue\", // color of the status pulse\r\n      };\r\n    case ITEM_STATUS.PLACED:\r\n      return {\r\n        short_label: \"Placed\",\r\n        label: \"Item Placed\",\r\n        color: \"blue\",\r\n      };\r\n    case ITEM_STATUS.ACCEPTED:\r\n      return {\r\n        short_label: \"Accepted\",\r\n        label: \"Item Accepted\",\r\n        color: \"green\",\r\n      };\r\n\r\n    case ITEM_STATUS.PREPARING:\r\n      return {\r\n        short_label: \"Preparing\",\r\n        label: \"Item Preparing\",\r\n        color: \"blue\",\r\n      };\r\n    case ITEM_STATUS.CANCEL:\r\n      return {\r\n        short_label: \"Cancel Requested\",\r\n        label: \"Cancel Requested\",\r\n        color: \"red\",\r\n      };\r\n\r\n    case ITEM_STATUS.CANCELLED:\r\n      return {\r\n        short_label: \"Cancelled\",\r\n        label: \"Item Cancelled\",\r\n        color: \"red\",\r\n      };\r\n\r\n    default:\r\n      return {\r\n        short_label: \"Not defined\",\r\n        label: \"Not defined\",\r\n        color: \"yellow\",\r\n      };\r\n  }\r\n};\r\n\r\nexport const getCorrespondingHexCode = (color) => {\r\n  switch (color) {\r\n    case \"blue\":\r\n      return \"rgb(67, 159, 236)\";\r\n    case \"green\":\r\n      return \"#059424\";\r\n    case \"red\":\r\n      return \"#d25858\";\r\n    default:\r\n      return \"rgb(219 213 15)\";\r\n  }\r\n};\r\n","import { Collapse, Typography } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport FoodSymbols from \"../../menu/assets/FoodSymbols\";\r\nimport { getCorrespondingHexCode, getItemStatusLabels } from \"../utils/helper\";\r\n\r\nexport default function Item(props) {\r\n  const [state, setState] = useState({\r\n    f_open_details: false,\r\n  });\r\n  const { item } = props;\r\n  const statusInfo = getItemStatusLabels(item?.status);\r\n\r\n  const toggleDropDown = (flagName) => {\r\n    setState({\r\n      ...state,\r\n      [flagName]: !state[flagName],\r\n    });\r\n  };\r\n\r\n  const isDetailRequired = () => {\r\n    return !item.versions.every((v) => v.custumization_arr.length === 0);\r\n  };\r\n\r\n  const getItemTotal = () => {\r\n    return item.versions.reduce((tot, v) => Number(v.totalCost) + tot, 0);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={() => toggleDropDown(\"f_open_details\")}\r\n      style={{\r\n        padding: \"15px\",\r\n        fontFamily: \"'Proxima Nova'\",\r\n        fontWeight: 500,\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n          marginBottom: \"9px\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <FoodSymbols\r\n            style={{\r\n              width: \"14px\",\r\n              height: \"14px\",\r\n            }}\r\n            food_type={item.food_type}\r\n          />\r\n          <p style={{ margin: \"0px\", marginLeft: \"6px\" }}>\r\n            {item.item_name} x {item.itemCount}\r\n          </p>\r\n        </div>\r\n        <div\r\n          style={{\r\n            visibility: !state.f_open_details\r\n              ? \"visible\"\r\n              : isDetailRequired()\r\n              ? \"hidden\"\r\n              : \"visible\",\r\n          }}\r\n        >\r\n          <span>&#8377;</span>\r\n          {getItemTotal()}\r\n        </div>\r\n      </div>\r\n      {\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            visibility: !state.f_open_details\r\n              ? \"visible\"\r\n              : isDetailRequired()\r\n              ? \"hidden\"\r\n              : \"visible\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              textOverflow: \"ellipsis\",\r\n              overflow: \"hidden\",\r\n              whiteSpace: \"nowrap\",\r\n              fontSize: \"13px\",\r\n              color: \"#686b78\",\r\n              fontWeight: 300,\r\n              maxWidth: \"70%\",\r\n            }}\r\n          >\r\n            {item.versions.length > 0 &&\r\n              item.versions\r\n                .map((v) =>\r\n                  v.custumization_arr\r\n                    .map((cust) => {\r\n                      return cust.options.map((opt) => opt.option).join(\", \");\r\n                    })\r\n                    .join(\" | \")\r\n                )\r\n                .join(\" - \")}\r\n          </div>\r\n          <div\r\n            style={{\r\n              fontSize: \"0.7rem\",\r\n              backgroundColor: getCorrespondingHexCode(statusInfo.color),\r\n              borderRadius: \"3px\",\r\n              padding: \"1.5px 4px\",\r\n              color: \"white\",\r\n            }}\r\n          >\r\n            {statusInfo.short_label}\r\n          </div>\r\n        </div>\r\n      }\r\n      <Collapse in={state.f_open_details && isDetailRequired()}>\r\n        <ul\r\n          style={{\r\n            margin: \"0px\",\r\n            paddingLeft: \"33px\",\r\n            marginTop: \"-18px\",\r\n          }}\r\n        >\r\n          {item.versions.map((v) => (\r\n            <li>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"space-between\",\r\n                }}\r\n              >\r\n                <Typography\r\n                  style={{\r\n                    fontSize: \"0.9rem\",\r\n                    fontFamily: \"'Proxima Nova'\",\r\n                    fontWeight: \"500\",\r\n                    flexBasis: \"80%\",\r\n                  }}\r\n                >\r\n                  [\r\n                  {v.custumization_arr.length === 0\r\n                    ? \"No Customizations\"\r\n                    : v.custumization_arr\r\n                        .map((cust) => {\r\n                          return cust.options\r\n                            .map((opt) => opt.option)\r\n                            .join(\", \");\r\n                        })\r\n                        .join(\" | \")}\r\n                  ] x {v.itemCount}\r\n                </Typography>\r\n                <Typography\r\n                  style={{\r\n                    fontSize: \"0.9rem\",\r\n                    fontFamily: \"'Proxima Nova'\",\r\n                    fontWeight: \"500\",\r\n                  }}\r\n                >\r\n                  <span>&#8377;</span>\r\n                  {v.totalCost}\r\n                </Typography>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            marginTop: \"10px\",\r\n            borderTop: \"1px solid lightgray\",\r\n            paddingTop: \"5px\",\r\n          }}\r\n        >\r\n          <Typography\r\n            style={{\r\n              fontSize: \"0.9rem\",\r\n              fontFamily: \"'Proxima Nova'\",\r\n              fontWeight: \"600\",\r\n              paddingLeft: \"18px\",\r\n            }}\r\n          >\r\n            Total\r\n          </Typography>\r\n          <Typography\r\n            style={{\r\n              fontSize: \"0.9rem\",\r\n              fontFamily: \"'Proxima Nova'\",\r\n              fontWeight: \"600\",\r\n            }}\r\n          >\r\n            <span>&#8377;</span>\r\n            {getItemTotal()}\r\n          </Typography>\r\n        </div>\r\n      </Collapse>\r\n    </div>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  paymentsCtnr: {\r\n    borderRadius: \"0px\",\r\n    border: \"none\",\r\n    boxShadow: \"none\",\r\n    marginTop: \"0px\",\r\n    marginBottom: \"25px\",\r\n    padding: \"4px 10px\",\r\n  },\r\n  paymentItemCtnr: {\r\n    display: \"flex\",\r\n    fontSize: \"0.86rem\",\r\n    fontFamily: \"Proxima Nova\",\r\n    fontWeight: \"400\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  paymentItem: {\r\n    margin: \"5px 0px\",\r\n  },\r\n  borderedSeparator: {\r\n    margin: \"13px 0 10px\",\r\n    height: \"1px\",\r\n    display: \"block\",\r\n    background: \"#f1f1f3\",\r\n  },\r\n  totalMnText: {\r\n    margin: \"0px\",\r\n    fontSize: \"1rem\",\r\n    fontWeight: 500,\r\n    fontFamily: \"'Proxima Nova'\",\r\n  },\r\n});\r\n\r\nexport default useStyles;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { StepConnector } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/styles\";\r\nimport { Check } from \"@material-ui/icons\";\r\n\r\nconst StatusConnector = withStyles({\r\n  vertical: {\r\n    padding: \"0px\",\r\n    marginLeft: \"8px\",\r\n  },\r\n})(StepConnector);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  actionsContainer: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  resetContainer: {\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function VerticalStatusStepper(props) {\r\n  const classes = useStyles();\r\n  const statuses = props.statusMap.reverse();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Stepper\r\n        style={{\r\n          padding: \"6px\",\r\n          marginTop: \"15px\",\r\n          borderTop: \"1px solid lightgray\",\r\n          paddingTop: \"12px\",\r\n        }}\r\n        activeStep={statuses.length}\r\n        orientation=\"vertical\"\r\n        connector={<StatusConnector />}\r\n      >\r\n        {statuses.map((status) => (\r\n          <Step key={status.label}>\r\n            <StepLabel\r\n              optional={\r\n                <Typography style={{ fontSize: \"0.64rem\" }} variant=\"caption\">\r\n                  {status.desc}\r\n                </Typography>\r\n              }\r\n              icon={\r\n                <Check\r\n                  style={{\r\n                    backgroundColor: \"#88b988\",\r\n                    color: \"white\",\r\n                    borderRadius: \"50%\",\r\n                    zIndex: 1,\r\n                    fontSize: 18,\r\n                  }}\r\n                />\r\n              }\r\n            >\r\n              <span\r\n                style={{\r\n                  fontFamily: \"'Proxima Nova'\",\r\n                }}\r\n              >\r\n                {status.label}\r\n              </span>\r\n            </StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PulseLoader from \"./assets/PulseLoader\";\r\nimport OrderAppBar from \"./components/OrderAppBar\";\r\nimport LocationOnOutlinedIcon from \"@material-ui/icons/LocationOnOutlined\";\r\nimport ExpandMoreRoundedIcon from \"@material-ui/icons/ExpandMoreRounded\";\r\nimport ExpandLessRoundedIcon from \"@material-ui/icons/ExpandLessRounded\";\r\nimport { Button, Collapse } from \"@material-ui/core\";\r\nimport Item from \"./components/Item\";\r\nimport useItemStyles from \"../../pages/menu/styles/main\";\r\nimport useStyles from \"./styles/main\";\r\nimport VerticalStatusStepper from \"./components/VerticalStatusStepper\";\r\nimport { connect } from \"react-redux\";\r\nimport { clone } from \"ramda\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { isObjEmpty } from \"../../utils/helpers\";\r\nimport LoadingPage from \"../../layouts/pages/LoadingPage\";\r\nimport {\r\n  getCorrespondingHexCode,\r\n  getOrderStatusLabels,\r\n  getStatusIndfoMap,\r\n} from \"./utils/helper\";\r\n\r\n// Get current order id from route params\r\nfunction OrderDetails(props) {\r\n  const itmClasses = useItemStyles();\r\n  const classes = useStyles();\r\n  const navigate = useNavigate();\r\n  const { orderId } = useParams();\r\n  const [state, setState] = useState({\r\n    f_view_all: false,\r\n    f_view_stepper: false,\r\n    cur_order: null,\r\n  });\r\n\r\n  const viewPortSize = 2;\r\n\r\n  const toggleItemListView = () => {\r\n    setState({\r\n      ...state,\r\n      f_view_all: !state.f_view_all,\r\n    });\r\n  };\r\n\r\n  const toggleStepperView = () => {\r\n    setState({\r\n      ...state,\r\n      f_view_stepper: !state.f_view_stepper,\r\n    });\r\n  };\r\n\r\n  const getListForViewPort = (list) => {\r\n    return list.slice(0, viewPortSize);\r\n  };\r\n\r\n  const getCurrentOrder = () => {\r\n    // Here if cant find do a API call..\r\n    return props.orders?.find(\r\n      (o) =>\r\n        o?._id === orderId ||\r\n        (o.meta?.user?.user_name === props.common?.user?.user_name &&\r\n          String(o.meta?.order_num) === orderId)\r\n    );\r\n  };\r\n\r\n  const goBack = () => {\r\n    window.history.back();\r\n  };\r\n\r\n  const order = getCurrentOrder();\r\n  const items = order?.items;\r\n  const statusMap = getStatusIndfoMap(order);\r\n  const curStatusInfo = getOrderStatusLabels(order?.status);\r\n  if (isObjEmpty(order)) {\r\n    return <LoadingPage />;\r\n  }\r\n\r\n  const getTotalDiscount = () => {\r\n    return order?.offers?.reduce((tot, o) => Number(o.discount) + tot, 0);\r\n  };\r\n\r\n  const getTotal = () => {\r\n    let discount = getTotalDiscount();\r\n    return Number(order.total_price) - discount;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <OrderAppBar\r\n        goBack={goBack}\r\n        n_items={order.items.length}\r\n        order_num={order.meta.order_num}\r\n        total={order.total_price}\r\n      />\r\n      <div\r\n        style={{\r\n          border: \"1px solid lightgray\",\r\n          padding: \"10px\",\r\n          borderRadius: \"6px\",\r\n          margin: \"15px\",\r\n        }}\r\n      >\r\n        <div>\r\n          <div\r\n            onClick={toggleStepperView}\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"space-between\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <PulseLoader\r\n                style={{\r\n                  backgroundColor: getCorrespondingHexCode(curStatusInfo.color),\r\n                  width: \"30px\",\r\n                  height: \"30px\",\r\n                }}\r\n              />\r\n              <p\r\n                style={{\r\n                  marginLeft: \"6px\",\r\n                  fontSize: \"1.25rem\",\r\n                  fontWeight: \"600\",\r\n                  fontFamily: \"'Proxima Nova'\",\r\n                  margin: \"0 6px\",\r\n                }}\r\n              >\r\n                {curStatusInfo.short_label}{\" \"}\r\n                <span\r\n                  style={{\r\n                    fontSize: \"12px\",\r\n                    color: \"#3e3c3d\",\r\n                    fontWeight: \"300\",\r\n                  }}\r\n                >\r\n                  (@{\" \"}\r\n                  {new Date(order.date).toLocaleTimeString([], {\r\n                    hour: \"2-digit\",\r\n                    minute: \"2-digit\",\r\n                  })}\r\n                  )\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <div>\r\n              {!state.f_view_stepper ? (\r\n                <ExpandMoreRoundedIcon />\r\n              ) : (\r\n                <ExpandLessRoundedIcon />\r\n              )}\r\n            </div>\r\n          </div>\r\n          <Collapse in={state.f_view_stepper}>\r\n            <div>\r\n              <VerticalStatusStepper statusMap={statusMap} />\r\n            </div>\r\n          </Collapse>\r\n        </div>\r\n        <div\r\n          style={{\r\n            marginTop: \"12px\",\r\n            display: \"flex\",\r\n            alignItems: \"flex-end\",\r\n            fontSize: \"0.95rem\",\r\n            fontWeight: \"500\",\r\n            fontFamily: \"'Proxima Nova'\",\r\n            padding: \"6px\",\r\n            borderTop: \"1px solid #b8b5b5\",\r\n          }}\r\n        >\r\n          <LocationOnOutlinedIcon style={{ width: \"18px\" }} /> Table #\r\n          {order.table_id}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#efeff3\",\r\n            padding: \"15px\",\r\n            fontFamily: \"'Proxima Nova'\",\r\n            fontWeight: \"500\",\r\n          }}\r\n        >\r\n          Item Details\r\n        </div>\r\n        <div\r\n          style={{\r\n            paddingTop: \"14px\",\r\n          }}\r\n        >\r\n          {(state.f_view_all ? items : getListForViewPort(items)).map(\r\n            (item, idx, arr) => (\r\n              <div key={item._id}>\r\n                <Item idx={idx} item={item} />\r\n                {arr.length !== idx + 1 && (\r\n                  <hr\r\n                    style={{\r\n                      borderWidth: \"1.5px\",\r\n                      margin: \"6px 0px 5px\",\r\n                    }}\r\n                    className={itmClasses.dottedSeperator}\r\n                  ></hr>\r\n                )}\r\n              </div>\r\n            )\r\n          )}\r\n          {order.items.length > viewPortSize && (\r\n            <div style={{ textAlign: \"center\" }}>\r\n              <Button\r\n                style={{\r\n                  textTransform: \"capitalize\",\r\n                  color: \"#FC8019\",\r\n                  fontFamily: \"'Proxima Nova'\",\r\n                }}\r\n                onClick={toggleItemListView}\r\n              >\r\n                {\" \"}\r\n                {state.f_view_all ? \"View less\" : `View All`}\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#efeff3\",\r\n            padding: \"15px\",\r\n            fontFamily: \"'Proxima Nova'\",\r\n            fontWeight: \"500\",\r\n          }}\r\n        >\r\n          Amount Details\r\n        </div>\r\n        <div style={{ padding: \"15px\" }}>\r\n          <div className={classes.paymentItemCtnr}>\r\n            <p className={classes.paymentItem}>Items Total</p>\r\n            <p className={classes.paymentItem}>\r\n              <span>&#8377;</span> {order?.total_price}\r\n            </p>\r\n          </div>\r\n          <div style={{ color: \"#03a103\" }} className={classes.paymentItemCtnr}>\r\n            <p className={classes.paymentItem}>Total Discount</p>\r\n            <p className={classes.paymentItem}>\r\n              -<span>&#8377;</span> {getTotalDiscount()}\r\n            </p>\r\n          </div>\r\n          <div className={classes.borderedSeparator}></div>\r\n          <div style={{ margin: \"0px\" }} className={classes.paymentItemCtnr}>\r\n            <p className={classes.totalMnText}>Order Total</p>\r\n            <p className={classes.totalMnText}>\r\n              <span>&#8377;</span> {getTotal()}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        // onClick={() => navigate(\"/restaurant/orders\")}\r\n        style={{\r\n          backgroundColor: \"#efeff3\",\r\n          height: \"137px\",\r\n        }}\r\n      ></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  orders: clone(state.table?.orders),\r\n  common: clone(state.common),\r\n});\r\n\r\nexport default connect(mapStateToProps)(OrderDetails);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Logo from \"../layouts/components/Logo\";\r\nimport { Fade } from \"@material-ui/core\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst TZLinearProgress = withStyles({\r\n  root: {\r\n    height: \"6px\",\r\n  },\r\n  barColorPrimary: {\r\n    background: \"rgb(33, 36, 43)\",\r\n  },\r\n})(LinearProgress);\r\n\r\nexport default function SplashScreen() {\r\n  const navigate = useNavigate();\r\n  const [state, setState] = useState({\r\n    scale: 0,\r\n  });\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setState({\r\n        ...state,\r\n        scale: 1,\r\n      });\r\n      setTimeout(() => {\r\n        navigate(\"/restaurant/menu\");\r\n      }, 2000);\r\n    }, 300);\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        background: \"#21242b\",\r\n        flexDirection: \"column\",\r\n      }}\r\n    >\r\n      <div>\r\n        <TZLinearProgress style={{ backgroundColor: \"yellow\" }} />\r\n      </div>\r\n      <div\r\n        style={{\r\n          width: \"100vw\",\r\n          height: \"90vh\",\r\n          display: \"flex\",\r\n          scale: \"0.5\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          transition: \"transform 0.3s ease\",\r\n          willChange: \"transform\",\r\n          transform: `scale(${state.scale})`,\r\n        }}\r\n      >\r\n        <Logo type=\"svg\" width=\"12rem\" height=\"6rem\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport AssignmentLateOutlinedIcon from \"@material-ui/icons/AssignmentLateOutlined\";\r\nimport { Typography } from \"@material-ui/core\";\r\nexport default function EmptyList(props) {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100vw\",\r\n        height: \"80vh\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <AssignmentLateOutlinedIcon\r\n          style={{\r\n            color: \"gray\",\r\n            width: \"70px\",\r\n            height: \"65px\",\r\n            opacity: \"0.88\",\r\n          }}\r\n        />\r\n        <Typography\r\n          style={{\r\n            marginTop: \"7px\",\r\n            fontFamily: \"'Proxima Nova'\",\r\n            fontWeight: \"500\",\r\n            textDecoration: \"underline\",\r\n            opacity: \"0.7\",\r\n          }}\r\n        >\r\n          No Orders Found!\r\n        </Typography>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport PulseLoader from \"../../order-details/assets/PulseLoader\";\r\nimport {\r\n  getCorrespondingHexCode,\r\n  getOrderStatusLabels,\r\n} from \"../../order-details/utils/helper\";\r\nimport ArrowForwardIosRoundedIcon from \"@material-ui/icons/ArrowForwardIosRounded\";\r\n\r\nexport function Order(props) {\r\n  const { order } = props;\r\n  const items = order?.items;\r\n  const curStatusInfo = getOrderStatusLabels(order?.status);\r\n\r\n  const getTotalDiscount = () => {\r\n    return order?.offers?.reduce((tot, o) => Number(o.discount) + tot, 0);\r\n  };\r\n\r\n  const getTotal = () => {\r\n    let discount = getTotalDiscount();\r\n    return Number(order.total_price) - discount;\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"18px\" }}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Typography\r\n          style={{\r\n            fontFamily: \"'Proxima Nova'\",\r\n            fontSize: \"1rem\",\r\n            fontWeight: \"600\",\r\n          }}\r\n        >\r\n          Order #{order.meta.order_num}{\" \"}\r\n        </Typography>\r\n        <Typography\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            fontSize: \"0.85rem\",\r\n            fontFamily: \"'Proxima Nova'\",\r\n            border: \"1px solid lightgray\",\r\n            padding: \"5px\",\r\n            borderRadius: \"5px\",\r\n            color: \"#3c3a3a\",\r\n          }}\r\n        >\r\n          <PulseLoader\r\n            style={{\r\n              backgroundColor: getCorrespondingHexCode(curStatusInfo.color),\r\n              width: \"18px\",\r\n              height: \"18px\",\r\n              marginRight: \"6px\",\r\n            }}\r\n          />\r\n          {curStatusInfo.short_label}\r\n        </Typography>\r\n      </div>\r\n      <Typography\r\n        style={{\r\n          fontSize: \".86rem\",\r\n          fontWeight: \"300\",\r\n          textTransform: \"capitalize\",\r\n          fontFamily: \"'Proxima Nova'\",\r\n          color: \"##555657\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          marginTop: \"-3px\",\r\n        }}\r\n      >\r\n        Table #{order.table_id}\r\n      </Typography>\r\n      <Typography\r\n        style={{\r\n          fontSize: \".86rem\",\r\n          fontWeight: \"300\",\r\n          textTransform: \"capitalize\",\r\n          fontFamily: \"'Proxima Nova'\",\r\n          color: \"##555657\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          marginTop: \"1px\",\r\n          marginBottom: \"7px\",\r\n        }}\r\n      >\r\n        <span>&#8377;</span>\r\n        {getTotal()}\r\n      </Typography>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"flex-end\",\r\n          borderTop: \"1px dashed #d4d5d9\",\r\n          paddingBottom: \"10px\",\r\n        }}\r\n      >\r\n        <div style={{ flexBasis: \"90%\" }}>\r\n          <Typography\r\n            style={{\r\n              paddingTop: \"7px\",\r\n              color: \"#555657\",\r\n              fontSize: \".85rem\",\r\n              fontFamily: \"'Proxima Nova'\",\r\n              fontWeight: 300,\r\n            }}\r\n          >\r\n            {items.map((item, idx) => (\r\n              <span>\r\n                <span\r\n                  style={{ textDecoration: \"underline\" }}\r\n                >{`${item.item_name}(${item.itemCount})`}</span>\r\n                {idx < items?.length - 1 && <span>, </span>}\r\n              </span>\r\n            ))}\r\n          </Typography>\r\n          <Typography\r\n            style={{\r\n              marginTop: \"14px\",\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                background: \"lightgray\",\r\n                marginTop: \"14px\",\r\n                color: \"black\",\r\n                fontSize: \".66rem\",\r\n                padding: \"3px 6px\",\r\n                borderRadius: \"6px\",\r\n                fontFamily: \"'Proxima Nova'\",\r\n              }}\r\n            >\r\n              {new Date(order.date)\r\n                .toDateString()\r\n                .split(\" \")\r\n                .slice(1)\r\n                .join(\" \")}{\" \"}\r\n              {new Date(order.date).toLocaleTimeString([], {\r\n                hour: \"2-digit\",\r\n                minute: \"2-digit\",\r\n              })}\r\n            </span>\r\n          </Typography>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"flex-end\",\r\n            paddingRight: \"5px\",\r\n          }}\r\n        >\r\n          <ArrowForwardIosRoundedIcon\r\n            style={{ width: \"1rem\", marginLeft: \"auto\" }}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { ListItemText, MenuItem, MenuList } from \"@material-ui/core\";\r\n\r\nconst OptionsMenu = (props) => {\r\n  const options = [\r\n    {\r\n      label: \"Your Orders\",\r\n    },\r\n    {\r\n      label: \"All Orders\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <MenuList style={{ paddingTop: \"0px\", paddingBottom: \"0px\" }}>\r\n      {options.map((o, idx) => (\r\n        <MenuItem\r\n          onClick={() => props.setFilter(idx === 0)}\r\n          style={{\r\n            padding: \"2px 15px\",\r\n            minHeight: \"0px\",\r\n          }}\r\n        >\r\n          <ListItemText style={{ textAlign: \"center\" }}>\r\n            <span\r\n              style={{\r\n                fontSize: \"0.95rem\",\r\n                fontFamily: \"'Proxima Nova'\",\r\n                fontWeight: \"500\",\r\n              }}\r\n            >\r\n              {o.label}\r\n            </span>\r\n          </ListItemText>\r\n        </MenuItem>\r\n      ))}\r\n    </MenuList>\r\n  );\r\n};\r\n\r\nexport default OptionsMenu;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  AppBar,\r\n  CssBaseline,\r\n  IconButton,\r\n  Popover,\r\n  Toolbar,\r\n} from \"@material-ui/core\";\r\nimport useStyles from \"../../cart/styles/app_bar\";\r\nimport BackIcon from \"../../menu/assets/BackIcon\";\r\nimport ExpandMoreRoundedIcon from \"@material-ui/icons/ExpandMoreRounded\";\r\nimport ExpandLessRoundedIcon from \"@material-ui/icons/ExpandLessRounded\";\r\nimport OptionsMenu from \"./OptionsMenu\";\r\n\r\nfunction OrdersAppBar(props) {\r\n  const classes = useStyles();\r\n  const [state, setState] = useState({\r\n    anchorEl: null,\r\n  });\r\n\r\n  const handleMenuOpen = (evt) => {\r\n    setState({\r\n      ...state,\r\n      anchorEl: evt.currentTarget,\r\n    });\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setState({\r\n      ...state,\r\n      anchorEl: null,\r\n    });\r\n  };\r\n\r\n  const setFilter = (flag) => {\r\n    handleMenuClose();\r\n\r\n    props.setFilter(flag);\r\n  };\r\n\r\n  const options = [\r\n    {\r\n      label: \"Your Orders\",\r\n    },\r\n    {\r\n      label: \"All Orders\",\r\n    },\r\n  ];\r\n\r\n  const getLabel = () => {\r\n    if (props.filterFlag) {\r\n      return options[0];\r\n    } else {\r\n      return options[1];\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"partials\">\r\n        <Popover\r\n          id={Boolean(state.anchorEl) ? \"options-orders-popover\" : undefined}\r\n          open={Boolean(state.anchorEl)}\r\n          onClose={handleMenuClose}\r\n          anchorEl={state.anchorEl}\r\n          anchorOrigin={{\r\n            vertical: \"bottom\",\r\n            horizontal: \"center\",\r\n          }}\r\n          transformOrigin={{\r\n            vertical: \"top\",\r\n            horizontal: \"center\",\r\n          }}\r\n        >\r\n          <OptionsMenu setFilter={setFilter} />\r\n        </Popover>\r\n      </div>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"sticky\"\r\n        color=\"transparent\"\r\n        style={{ zIndex: 10 }}\r\n        id=\"cart-app-bar\"\r\n        elevation={0}\r\n      >\r\n        <Toolbar\r\n          style={{ justifyContent: \"space-between\" }}\r\n          id=\"cart-tool-bar\"\r\n          className={classes.appBarRoot}\r\n        >\r\n          <IconButton\r\n            onClick={props.goBack}\r\n            style={{ padding: \"16px\" }}\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"close\"\r\n          >\r\n            <BackIcon />\r\n          </IconButton>\r\n          <div\r\n            onClick={handleMenuOpen}\r\n            style={{\r\n              marginLeft: \"3px\",\r\n              fontFamily: \"'Proxima Nova'\",\r\n              fontSize: \"0.95rem\",\r\n              fontWeight: \"500\",\r\n              display: \"flex\",\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            {getLabel()?.label}{\" \"}\r\n            {Boolean(state.anchorEl) ? (\r\n              <ExpandLessRoundedIcon />\r\n            ) : (\r\n              <ExpandMoreRoundedIcon />\r\n            )}\r\n          </div>\r\n          <IconButton //Dummy Btn\r\n            style={{ padding: \"16px\", visibility: \"hidden\" }}\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"close\"\r\n          >\r\n            <BackIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default OrdersAppBar;\r\n","import { ButtonBase } from \"@material-ui/core\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport EmptyList from \"./components/EmptyList\";\r\nimport { Order } from \"./components/Order\";\r\nimport OrdersAppBar from \"./components/OrdersAppBar\";\r\n\r\nfunction Orders(props) {\r\n  const navigate = useNavigate();\r\n  const [state, setState] = useState({\r\n    f_user: true,\r\n  });\r\n  const { orders } = props;\r\n\r\n  const goBack = () => {\r\n    window.history.back();\r\n  };\r\n\r\n  const setListFilter = (flag) => {\r\n    setState({\r\n      ...state,\r\n      f_user: flag,\r\n    });\r\n  };\r\n\r\n  const getOrdersList = () => {\r\n    let userOrders = orders.filter(\r\n      (o) => o?.meta?.user?.user_name === props.user\r\n    );\r\n\r\n    if (state.f_user) {\r\n      return userOrders;\r\n    }\r\n\r\n    return orders;\r\n  };\r\n\r\n  const initOrdersList = () => {\r\n    let userOrders = orders.filter(\r\n      (o) => o?.meta?.user?.user_name === props.user\r\n    );\r\n\r\n    if (userOrders?.length > 0) {\r\n      setState({\r\n        ...state,\r\n        f_user: true,\r\n      });\r\n      return;\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      f_user: false,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    initOrdersList();\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n        backgroundColor: \"rgb(237 237 240 / 70%)\",\r\n      }}\r\n    >\r\n      <OrdersAppBar\r\n        filterFlag={state.f_user}\r\n        goBack={goBack}\r\n        setFilter={setListFilter}\r\n      />\r\n      {!Boolean(getOrdersList()) || getOrdersList().length === 0 ? (\r\n        <EmptyList />\r\n      ) : (\r\n        <div style={{ backgroundColor: \"white\" }}>\r\n          {getOrdersList().map((o, idx, arr) => (\r\n            <div key={idx}>\r\n              <ButtonBase\r\n                onClick={() =>\r\n                  navigate(\r\n                    `/restaurant/orders/${\r\n                      Boolean(o._id) ? o._id : o?.meta?.order_num\r\n                    }`\r\n                  )\r\n                }\r\n                style={{\r\n                  display: \"block\",\r\n                  width: \"100%\",\r\n                  textAlign: \"left\",\r\n                }}\r\n              >\r\n                <Order order={o} />\r\n              </ButtonBase>\r\n              {idx + 1 < arr.length && (\r\n                <hr\r\n                  style={{\r\n                    borderWidth: \"4px\",\r\n                    margin: \"0px\",\r\n                    opacity: 0.25,\r\n                  }}\r\n                ></hr>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  orders: state.table?.orders,\r\n  user: state.common?.user?.user_name,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Orders);\r\n","import React from \"react\";\r\nimport { Route, Routes as Switch, Navigate } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport LoadingPage from \"../layouts/pages/LoadingPage\";\r\nimport { isObjEmpty } from \"../utils/helpers\";\r\nimport Menu from \"../pages/menu/Menu\";\r\nimport Cart from \"../pages/cart/Cart\";\r\nimport OrderDetails from \"../pages/order-details/OrderDetails\";\r\nimport SplashScreen from \"../pages/SplashScreen\";\r\nimport Orders from \"../pages/orders/Orders\";\r\n\r\nconst Routes = (props) => {\r\n  return (\r\n    <section className=\"container\">\r\n      <Switch>\r\n        <Route path=\"/\" element={<Navigate to=\"/restaurant\" replace />} />\r\n        <Route path=\"/restaurant\">\r\n          <Route index element={<SplashScreen />} />\r\n          <Route\r\n            index={false}\r\n            path=\"menu\"\r\n            element={\r\n              props.common?.loading || isObjEmpty(props.restaurant) ? (\r\n                <LoadingPage /> // Replace this with skeletons\r\n              ) : (\r\n                <Menu />\r\n              )\r\n            }\r\n          />\r\n          <Route\r\n            index={false}\r\n            path=\"cart\"\r\n            element={\r\n              props.common?.loading ? (\r\n                <LoadingPage /> // Replace this with skeletons\r\n              ) : isObjEmpty(props.cart?.items) ? (\r\n                <Navigate to=\"/restaurant/menu\" />\r\n              ) : (\r\n                <Cart />\r\n              )\r\n            }\r\n          />\r\n          <Route\r\n            index={false}\r\n            path=\"orders/:orderId\"\r\n            element={\r\n              props.common?.loading ? (\r\n                <LoadingPage /> // Replace this with skeletons\r\n              ) : isObjEmpty(props.table?.orders) ? (\r\n                <Navigate to=\"/restaurant/cart\" />\r\n              ) : (\r\n                <OrderDetails />\r\n              )\r\n            }\r\n          />\r\n          <Route\r\n            index={false}\r\n            path=\"orders\"\r\n            element={\r\n              props.common?.loading ? (\r\n                <LoadingPage /> // Replace this with skeletons\r\n              ) : (\r\n                <Orders />\r\n              )\r\n            }\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </section>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  table: state.table,\r\n  restaurant: state.restaurant,\r\n  cart: state.cart,\r\n  common: state.common,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Routes);\r\n","import { Fragment, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { loadRestaurant } from \"./redux/actions/restaurant\";\nimport Routes from \"./routing/Routes\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(loadRestaurant());\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Fragment>\n          <Routes />\n        </Fragment>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import { clone } from \"ramda\";\r\nimport ALERT_TYPES from \"../../enums/alert_types\";\r\nimport { setAlert } from \"./alert\";\r\nimport { INIT_CART, LOADED_REST } from \"./types\";\r\nimport restaurantData from \"../../data/rest.json\";\r\nimport { setUser } from \"./comman\";\r\n\r\nexport const loadRestaurant = () => async (dispatch) => {\r\n  try {\r\n    // [API CALL] This is to be updated..\r\n    const restaurant = restaurantData;\r\n    const iniCart = {\r\n      items: [],\r\n      offers: [],\r\n      totalCost: 0,\r\n    };\r\n    dispatch(setUser(null));\r\n    dispatch({\r\n      type: LOADED_REST,\r\n      payload: restaurant,\r\n    });\r\n    dispatch({\r\n      type: INIT_CART,\r\n      payload: iniCart,\r\n    });\r\n  } catch (err) {\r\n    setAlert(\"Error loading restaurant..\", ALERT_TYPES.ERROR);\r\n  }\r\n};\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"@fortawesome/fontawesome-free/css/all.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}